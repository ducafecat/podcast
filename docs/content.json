[{"title":"2021 å…³äº Flutter v2 æˆ‘æ•´ç†äº†16ä¸ªé‡è¦ç‰¹æ€§","date":"2021-03-07T16:00:00.000Z","path":"2021/03/08/flutter-daily/flutter-daily-2021-flutter2-top-engage/","text":"è°·æ­Œå¼€å‘è€…å®˜æ–‡https://mp.weixin.qq.com/s/EzS3dtpZB_i9p358qqlBpg 7 å¤§å¹³å° -&gt; windowsã€macosã€linuxã€webã€embeddedã€iosã€android https://flutter.gskinner.com/ https://github.com/gskinnerTeam/flutter-folio web å¹³å°ä¼˜åŒ–ã€è¿›å…¥ç¨³å®šç‰ˆ 3 ä¸ªæ–¹å‘ pwa: ç¼“å­˜ã€push æ¨é€æœåŠ¡ã€æ¡Œé¢å¿«æ·ã€æ¶ˆæ¯æç¤º spa: å•é¡µç¨‹åºç±»ä¼¼ vue rect expanding mobile: å¿«é€Ÿè¿ç§» appã€å¤ç”¨ä»£ç  irobot æ„å»ºåŸºäº flutter https://edu.irobot.com/the-latest/building-a-coding-experience-for-all æŠ€æœ¯æ¶æ„ 2D 3D æ¸²æŸ“ WebGL Skia WebAssembly Canvas ç¨³å®šçš„ç‰ˆæœ¬ æ€§èƒ½ HTML renderer: HTML æ¸²æŸ“å™¨: Uses a combination of HTML elements, CSS, Canvas elements, and SVG elements. This renderer has a smaller download size. ä½¿ç”¨ HTML å…ƒç´ ã€ CSSã€ Canvas å…ƒç´ å’Œ SVG å…ƒç´ çš„ç»„åˆ CanvasKit renderer: CanvasKit æ¸²æŸ“å™¨: This renderer is fully consistent with Flutter mobile and desktop, has faster performance with higher widget density, but adds about 2MB in download size. è¯•æ°´é¡¹ç›® ç¼–è¾‘å™¨https://rive.app/ åŠ¨ç”»https://flutterplasma.dev/ invoicehttps://www.invoiceninja.com/ canonical æ”¯æŒhttps://medium.com/flutter/announcing-flutter-linux-alpha-with-canonical-19eb824590a9 https://canonical.com/ Canonical å…¬å¸æ˜¯ä¸€ä¸ªç§è¥å…¬å¸ï¼Œç”±å—éçš„ä¼ä¸šå®¶é©¬å…‹Â·æ²™ç‰¹å°”æ²ƒæ€åˆ›å»ºï¼Œä¸»è¦ä¸ºäº†ä¿ƒè¿›å¼€æºè½¯ä»¶é¡¹ç›®ã€‚ Canonical åœ¨é©¬æ©å²›ç™»è®°æ³¨å†Œï¼Œå…¶é›‡å‘˜åˆ†å¸ƒåœ¨ä¸–ç•Œå„åœ°ï¼Œå…¶ä¸»è¦åŠäº‹å¤„åœ¨ä¼¦æ•¦ï¼Œåœ¨è’™ç‰¹åˆ©å°”ä¹Ÿæœ‰åŠäº‹å¤„ã€‚Canonical å…¬å¸æ”¯æŒå¹¶åˆ›å»ºäº†å‡ ä¸ªé¡¹ç›®ï¼Œä¸»è¦éƒ½æ˜¯è‡ªç”±/å¼€æºè½¯ä»¶ï¼ˆFOSSï¼‰æˆ–æ˜¯ä¸€äº›æ—¨åœ¨æ”¹å–„è‡ªç”±è½¯ä»¶å¼€å‘è€…å’Œè´¡çŒ®è€…çš„å·¥å…·ã€‚ why canonical å¤§åŠ›æ¨ flutter !ï¼Œä¸»è¦ä»¥ä¸‹å‡ ç‚¹ å¿«é€Ÿå¢é•¿çš„ flutter åº”ç”¨ å¤šå¹³å°æ”¯æŒ è®¾å¤‡ä¼˜åŒ–çš„å¥½ ä¸°å¯Œçš„ç»„ä»¶åº“ IDE ç¯å¢ƒæˆç†Ÿ Visual Studio Code, Android Studio, and IntelliJ ç®€æ˜“å®‰è£… https://snapcraft.io/flutter 123$ snap install --classic flutter$ snap install --classic code$ code --install-extension dart-code.flutter å¿«é€Ÿæ¨¡æ¿ 1234567$ flutter channel dev$ flutter upgrade$ flutter config --enable-linux-desktop$ flutter create counter$ cd counter$ flutter run -d linux ç°æœ‰é¡¹ç›®å‡çº§ 12$ cd my_flutter_app$ flutter create . ä»£ç ç¤ºä¾‹ https://github.com/flutter/samples/tree/master/experimental/desktop_photo_search https://github.com/flutter/gallery æ•™ç¨‹ Write a Flutter desktop application https://codelabs.developers.google.com/codelabs/flutter-github-graphql-client/index.html#0 ç»„ä»¶åº“å‡çº§ã€å¯¹ ios æ”¯æŒåŠ å¼º æ–°å¢ iOS åŠŸèƒ½ CupertinoSearchTextFieldhttps://api.flutter-io.cn/flutter/cupertino/CupertinoSearchTextField-class.html CupertinoFormSectionã€CupertinoFormRow å’Œ CupertinoTextFormFieldRowhttps://api.flutter.cn/flutter/cupertino/CupertinoFormSection-class.htmlhttps://api.flutter.cn/flutter/cupertino/CupertinoFormRow-class.htmlhttps://api.flutter.cn/flutter/cupertino/CupertinoTextFormFieldRow-class.html æ•´ä½“æ€§èƒ½ä¼˜åŒ–https://github.com/flutter/flutter/issues/60267#issuecomment-762786388 æ–°å¢ Widget: Autocomplete å’Œ ScaffoldMessenger AutocompleteCorehttps://github.com/flutter/flutter/pull/62927 ScaffoldMessengerhttps://github.com/flutter/flutter/pull/64101 Flutter for Surface Duo &amp; æŠ˜å å± https://docs.microsoft.com/zh-cn/dual-screen/flutter/ https://docs.microsoft.com/zh-cn/dual-screen/flutter/mediaquery æ··åˆç¼–ç¨‹https://flutter.cn/docs/development/add-to-app è¿‡å»ï¼Œé¢å¤– Flutter å®ä¾‹çš„å†…å­˜å ç”¨é‡ä¸ç¬¬ä¸€ä¸ª Flutter å®ä¾‹ç›¸åŒã€‚åœ¨ Flutter 2 ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºé¢å¤– Flutter å¼•æ“çš„é™æ€å†…å­˜å ç”¨é‡é™ä½äº†çº¦ 99%ï¼Œä½¿æ¯ä¸ªå®ä¾‹çš„å ç”¨é‡å¤§çº¦ä¸º 180kBã€‚ Dart Null SafetyDart æ˜¯ä¸€ç§ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼Œè¿™æ„å‘³ç€å½“å¼€å‘è€…è·å–æŸç§ç±»å‹çš„å˜é‡æ—¶ï¼Œç¼–è¯‘å™¨å¯ä»¥ä¿è¯å®ƒæ˜¯è¯¥ç±»å‹ï¼Œä½†æ˜¯ç±»å‹å®‰å…¨æœ¬èº«ä¸èƒ½ä¿è¯å˜é‡ä¸æ˜¯ nullã€‚ Null errors éå¸¸å¸¸è§çš„é—®é¢˜ï¼Œåœ¨ GitHub ä¸Š å¯ä»¥æœç´¢åˆ°æˆåƒä¸Šä¸‡ç”±äº null å¯¼è‡´ Dart ä»£ç å‡ºç°å¼‚å¸¸çš„é—®é¢˜ï¼Œç”šè‡³æœ‰æˆåƒä¸Šä¸‡çš„ commits è¯•å›¾è§£å†³è¿™äº›é—®é¢˜ã€‚ https://dartpad.dev/ https://nullsafety.dartpad.dev/ 123456789void main() &#123; ps(null);&#125;void ps(List&lt;String&gt; files) &#123; for (var file in files) &#123; print(file.isEmpty()); &#125;&#125; æœ€åï¼Œä¸ªäººçš„é¢å¤–æé†’ï¼Œç›®å‰åœ¨æ ¹ç›®å½•çš„ analysis_options.yaml æ·»åŠ å¦‚ä¸‹é…ç½®å°±å¯ä»¥å¼€å¯ null safetyï¼Œå¦å¤– Flutter éœ€è¦ dart sdk 2.9 ã€‚ 123analyzer: enable-experiment: - non-nullable flutter fix ç»Ÿè®¡ 1dart fix --dry-run åº”ç”¨ 1dart fix --apply flutter DevTools å¼€å‘å·¥å…·å‡çº§ æ€§èƒ½ç›‘æ§ https://flutter.dev/docs/perf/rendering/ui-performance .vscode/launch.json 12345678910111213141516171819&#123; // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 \"version\": \"0.2.0\", \"configurations\": [ &#123; \"name\": \"flutter_learn_news-1.0.15\", \"request\": \"launch\", \"type\": \"dart\" &#125;, &#123; \"name\": \"profile\", \"request\": \"launch\", \"type\": \"dart\", \"flutterMode\": \"profile\" &#125; ]&#125; Invert Oversized Images DevTools çš„å¦ä¸€ä¸ªæ–°åŠŸèƒ½æ˜¯èƒ½å¤Ÿè½»æ¾å‘ç°æ‰€æ˜¾ç¤ºçš„åˆ†è¾¨ç‡ä½äºå…¶å®é™…åˆ†è¾¨ç‡çš„å›¾åƒï¼Œè¿™æœ‰åŠ©äºè¿½è¸ªåº”ç”¨è¿‡å¤§å’Œå†…å­˜å ç”¨è¿‡å¤šç­‰æƒ…å†µã€‚è‹¥è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·åœ¨ Flutter Inspector ä¸­å¯ç”¨ Invert Oversized Imagesã€‚ å¼¹æ€§å¸ƒå±€ Android Studio/IntelliJ æ‰©å±•æˆ‘ä»¬ä¹Ÿä¸º IntelliJ ç³»åˆ— IDE çš„ Flutter æ’ä»¶æ·»åŠ äº†ä¸€äº›é€‚ç”¨äº Flutter 2 çš„æ–°åŠŸèƒ½ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­æ–°å¢äº†ä¸€ä¸ªé¡¹ç›®å‘å¯¼ï¼Œè¯¥å‘å¯¼ä¸ IntelliJ ä¸­çš„æ–°å‘å¯¼é£æ ¼ä¸€è‡´ã€‚ Visual Studio Code æ‰©å±•é€‚ç”¨äº Visual Studio Code çš„ Flutter æ‰©å±•ä¹Ÿé’ˆå¯¹ Flutter 2 è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæˆ‘ä»¬é¦–å…ˆå¼•å…¥äº†ä¸€äº›æµ‹è¯•å¢å¼ºåŠŸèƒ½ï¼Œä¾‹å¦‚é‡æ–°è¿è¡Œå¤±è´¥æµ‹è¯•çš„èƒ½åŠ›ã€‚ ç»è¿‡ä¸¤å¹´çš„é€æ­¥å‘å±•ï¼Œå¯¹ Dart çš„ LSP (è¯­è¨€æœåŠ¡å™¨åè®®) æ”¯æŒå·²ç»æˆä¸ºåœ¨ Flutter æ‰©å±•ä¸­å°† Dart åˆ†æå™¨é›†æˆåˆ° Visual Studio Code ä¸­çš„é»˜è®¤æ–¹å¼ã€‚LSP æ”¯æŒä¸º Flutter å¼€å‘å¸¦æ¥äº†è®¸å¤šæ”¹è¿›ï¼ŒåŒ…æ‹¬åœ¨å½“å‰çš„ Dart æ–‡ä»¶ä¸­åº”ç”¨ç‰¹å®šçš„æ‰€æœ‰ä¿®å¤ï¼Œä»¥åŠèƒ½å¤Ÿè¡¥å…¨ä»£ç ä»¥ç”Ÿæˆå®Œæ•´å‡½æ•°è°ƒç”¨ (åŒ…æ‹¬æ‹¬å·å’Œæ‰€éœ€å‚æ•°) çš„èƒ½åŠ›ã€‚ LSP æ”¯æŒä¸ä»…é™äº Dartï¼Œå®ƒè¿˜æ”¯æŒ pubspec.yaml åŠ analysis_options.yaml æ–‡ä»¶ä¸­çš„ä»£ç è¡¥å…¨ã€‚ sentry å‡çº§å¯¹ flutter çš„æ”¯æŒhttps://docs.sentry.io/platforms/flutter/ æ•´åˆäº†å¯¹è®¾å¤‡ç«¯é”™è¯¯çš„æ”¶é›† upgraded firebase plugins for flutterhttps://firebase.flutter.dev/ Flutter Community Plus Pluginshttps://plus.fluttercommunity.dev/ google mobile ads for flutter DartPad å‡çº§åˆ°æ”¯æŒ Flutter 2 https://dartpad.dev/ é…ç½® flutter 2 ä¸‹è½½ Dev channel (macOS) https://flutter.dev/docs/development/tools/sdk/releases?tab=macos fvm åˆ‡æ¢ https://github.com/leoafarias/fvm å¤åˆ¶ sdk åˆ° /Users/{youname}/.fvm/versions 12fvm listfvm use 2.1.0 å¯ç”¨ç‰¹æ€§ 123flutter config --enable-macos-desktopflutter config --enable-windows-desktopflutter config --enable-linux-desktop ç¼–è¯‘ 123456flutter run -d windowsflutter run -d macosflutter run -d linuxflutter run -d androidflutter run -d iosflutter run -d web å‚è€ƒ https://flutter.gskinner.com/ https://github.com/gskinnerTeam/flutter-folio https://mp.weixin.qq.com/s/EzS3dtpZB_i9p358qqlBpg https://docs.sentry.io/platforms/flutter/ https://snapcraft.io/flutter https://plus.fluttercommunity.dev/ https://medium.com/flutter/flutter-web-support-hits-the-stable-milestone-d6b84e83b425 https://rive.app/ https://medium.com/flutter/announcing-flutter-linux-alpha-with-canonical-19eb824590a9 https://www.windowscentral.com/surface-duo Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter Bloc 02 - åŸºç¡€å¯¹è±¡ Stream æµæ“ä½œ","date":"2021-02-19T16:00:00.000Z","path":"2021/02/20/flutter-bloc/flutter-bloc-02-stream/","text":"æœ¬èŠ‚ç›®æ ‡ Stream åˆ›å»º StreamController æ§åˆ¶ StreamSubscription è®¢é˜… StreamTransformer è½¬æ¢ Sinkã€StreamSinkã€EventSink ä¿®æ”¹æ•°æ® è§†é¢‘ä»£ç https://github.com/ducafecat/flutter-bloc-learn/tree/master/stream æ­£æ–‡æ ¸å¿ƒç±» åç§° è¯´æ˜ Stream äº‹ä»¶æµæˆ–è€…ç®¡é“ StreamController äº‹ä»¶ç®¡ç†è€… StreamSubscription ç®¡ç†äº‹ä»¶è®¢é˜…ï¼Œå¦‚ cacenlã€pause StreamSink æµ Sink å…¥å£ï¼Œæä¾›å¦‚ addã€addStream ç­‰ EventSink äº‹ä»¶ Sink å…¥å£ StreamTransformer æµè½¬æ¢ å‡†å¤‡å‡½æ•°12345678910111213141516// æ‰“å°æµåˆ—è¡¨printStream(Stream&lt;Object&gt; stream) async &#123; await for (var val in stream) &#123; print(val); &#125;&#125;// å¼‚æ­¥å‡½æ•°iFuture&lt;int&gt; funi = Future(() &#123; return 100;&#125;);// å¼‚æ­¥å‡½æ•°iiFuture&lt;int&gt; funii = Future(() &#123; return 200;&#125;); stream åˆ›å»ºå»¶è¿Ÿé—´éš”123456789101112periodic() async &#123; Stream&lt;int&gt; stream = Stream&lt;int&gt;.periodic(Duration(seconds: 1), (val) =&gt; val); await printStream(stream);&#125;&gt;&gt;123456 futrue æ•°æ®æº12345678fromFuture() async &#123; Stream&lt;int&gt; stream = Stream&lt;int&gt;.fromFuture(funi); await printStream(stream);&#125;&gt;&gt;100 futrues å¤šæ•°æ®æº123456789101112fromFutures() async &#123; Stream&lt;int&gt; stream = Stream&lt;int&gt;.fromFutures([ funi, funii, ]); await printStream(stream);&#125;&gt;&gt;100200 stream ç›‘å¬å•å¯¹å•12345678910111213141516171819202122listen() async &#123; Stream&lt;int&gt; stream = Stream&lt;int&gt;.periodic(Duration(seconds: 1), (val) =&gt; val); stream.listen( (event) &#123; print(event); &#125;, onError: (err) &#123; print(err); &#125;, onDone: () &#123;&#125;, cancelOnError: true, );&#125;&gt;&gt;123456 å¹¿æ’­1234567891011121314151617181920212223boardcast() async &#123; Stream&lt;int&gt; stream = Stream&lt;int&gt;.periodic(Duration(seconds: 1), (val) =&gt; val) .asBroadcastStream(); stream.listen((event) &#123; print(event); &#125;); stream.listen((event) &#123; print(event); &#125;);&#125;&gt;&gt;1122334455 æ“ä½œ task skip12345678910111213141516171819opt() async &#123; Stream&lt;int&gt; stream = Stream&lt;int&gt;.fromIterable([1, 2, 3, 4, 5]); stream = stream.take(3); // stream = stream.skip(2); stream.listen((event) &#123; print(event); &#125;);&#125;&gt;&gt; take(3)123&gt;&gt; skip(2)345 StreamController æµæ§åˆ¶ç±» å•ç‚¹12345678910111213141516171819202122232425262728293031scListen() async &#123; StreamController sc = StreamController( onListen: () =&gt; print(\"onListen\"), onPause: () =&gt; print(\"onPause\"), onResume: () =&gt; print(\"onResume\"), onCancel: () =&gt; print(\"onCancel\"), sync: false); // è®¢é˜…å¯¹è±¡ StreamSubscription ss = sc.stream.listen(((event) &#123; print(event); &#125;)); sc.add(100); // æš‚åœ ss.pause(); // æ¢å¤ ss.resume(); // å–æ¶ˆ ss.cancel(); // å…³é—­æµ sc.close();&#125;&gt;&gt;onListenonPauseonCancel å¹¿æ’­123456789101112131415161718192021222324scBroadcast() async &#123; StreamController sc = StreamController.broadcast(); StreamSubscription ss1 = sc.stream.listen(print); StreamSubscription ss2 = sc.stream.listen(print); sc.addStream(Stream.fromIterable([1, 2, 3, 4, 5])); await Future.delayed(Duration(seconds: 2)); sc.close();&#125;&gt;&gt;1122334455 StreamTransformer æµè½¬æ¢ 123456789101112131415161718192021222324252627282930313233343536scTransformer() async &#123; StreamController sc = StreamController&lt;int&gt;.broadcast(); StreamTransformer stf = StreamTransformer&lt;int, double&gt;.fromHandlers( handleData: (int data, EventSink sink) &#123; sink.add((data * 2).toDouble()); &#125;, handleError: (error, stacktrace, sink) &#123; sink.addError('wrong: $error'); &#125;, handleDone: (sink) &#123; sink.close(); &#125;, ); Stream stream = sc.stream.transform(stf); stream.listen(print); stream.listen(print); sc.addStream(Stream&lt;int&gt;.fromIterable([1, 2, 3, 4, 5])); await Future.delayed(Duration(seconds: 2)); sc.close();&#125;&gt;&gt;224466881010 æ‰§è¡Œ123456789101112131415161718main(List&lt;String&gt; args) async &#123; print('--- start ---'); // await periodic(); // await fromFuture(); // await fromFutures(); // await listen(); // await boardcast(); // await opt(); // await scListen(); // await scBroadcast(); // await scTransformer(); print('--- end ---');&#125; Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"flutter bloc","slug":"flutter-bloc","permalink":"https://ducafecat.tech/tags/flutter-bloc/"}]},{"title":"Flutter Bloc 01 - å¿«é€Ÿä¸Šæ‰‹ è®¡ç®—å™¨","date":"2020-12-07T16:00:00.000Z","path":"2020/12/08/flutter-bloc/flutter-bloc-01-counter-quick-start/","text":"æœ¬èŠ‚ç›®æ ‡ ä¸ºä»€ä¹ˆè¦ç”¨ bloc bloc vs provider å­¦ä¹ è·¯çº¿æ¨è å®‰è£… bloc vscode æ’ä»¶ é…ç½® bloc ä¾èµ–åŒ… ç¼–å†™è®¡ç®—å™¨ç¤ºä¾‹ è§†é¢‘https://www.bilibili.com/video/BV1ef4y1e79o/ ä»£ç https://github.com/ducafecat/flutter-bloc-learn/tree/master/ducafecat_bloc_start_example æ­£æ–‡ä¸ºä»€ä¹ˆè¦ç”¨ bloc çŠ¶æ€ç®¡ç†ï¼ˆè¿™æ˜¯å¿…é¡»çš„ï¼‰ ä¸‰å±‚åˆ†ç¦» è¡¨ç°å±‚ï¼ˆPresentation) ä¸šåŠ¡é€»è¾‘ï¼ˆBusiness Logic) æ•°æ®å±‚ï¼ˆData) æ•°æ®æº/åº“ï¼ˆRepository) æ•°æ®æä¾›è€…ï¼ˆData Provider) è§„èŒƒç»„å†…å¼€å‘ æ–¹ä¾¿çš„ æµ‹è¯•ã€è®°å½• ç”¨æˆ·è¡Œä¸º 123456789101112131415161718192021222324252627class SimpleBlocDelegate extends BlocDelegate &#123; @override void onEvent(Bloc bloc, Object event) &#123; super.onEvent(bloc, event); print('$&#123;bloc.runtimeType&#125; $event'); // æ‰€æœ‰çš„UIäº‹ä»¶ // å¯ç”¨ umeng è¿™æ ·å¹³å° è¿›è¡Œè·Ÿè¸ª &#125; @override void onError(Bloc bloc, Object error, StackTrace stacktrace) &#123; super.onError(bloc, error, stacktrace); print('$&#123;bloc.runtimeType&#125; $error'); // æ‰€æœ‰å‘ç”Ÿçš„é”™è¯¯ // ç”¨ sentry è®°å½•é”™è¯¯ &#125; @override void onTransition(Bloc bloc, Transition transition) &#123; super.onTransition(bloc, transition); print(transition); // æ‰€æœ‰çš„ State å˜åŒ– &#125;&#125; bloc vs provider bloc æ˜¯ä¸€ç§ mvvm åŸºäº äº‹ä»¶ã€çŠ¶æ€ é©±åŠ¨çš„ provider æ˜¯åŸºäºæ–¹æ³•çš„ bloc å­¦ä¹ è·¯çº¿ Flutter Bloc å¿«é€Ÿä¸Šæ‰‹ -&gt; Stream -&gt; Cubit -&gt; Bloc ç†è§£åŸºäº mvvm ç»„ä»¶åŒ–æ‹†åˆ† å®‰è£… bloc vscode æ’ä»¶bloc åˆ›å»ºé¡¹ç›® pubspec.yaml 12345678name: ducafecat_bloc_start_example...dependencies: ... bloc: ^6.1.0 flutter_bloc: ^6.1.0 equatable: ^1.2.5 ç›®å½•ç»“æ„ counter è®¡ç®—å™¨ä¸šåŠ¡ä¸‹åˆ›å»º bloc view ç›®å½•ï¼Œè¿™æ ·å°±åˆ†ç¦»äº† ç¼–å†™ bloc lib/counter/bloc/counter_bloc.dart 12345678910111213141516171819202122232425262728293031323334353637import 'dart:async';import 'package:bloc/bloc.dart';import 'package:equatable/equatable.dart';import 'package:meta/meta.dart';part 'counter_event.dart';part 'counter_state.dart';class CounterBloc extends Bloc&lt;CounterEvent, CounterState&gt; &#123; CounterBloc() : super(CounterInitial(0)); int counterNum = 0; @override Stream&lt;CounterState&gt; mapEventToState( CounterEvent event, ) async* &#123; if (event is CounterIncrement) &#123; yield* _mapIncrementEventToState(event); &#125; else if (event is CounterSubduction) &#123; yield* _mapSubductionEventToState(event); &#125; &#125; Stream&lt;CounterState&gt; _mapIncrementEventToState( CounterIncrement event) async* &#123; this.counterNum += 1; yield CounterChange(this.counterNum); &#125; Stream&lt;CounterState&gt; _mapSubductionEventToState( CounterSubduction event) async* &#123; this.counterNum -= 1; yield CounterChange(this.counterNum); &#125;&#125; lib/counter/bloc/counter_event.dart 1234567891011part of 'counter_bloc.dart';@immutableabstract class CounterEvent extends Equatable &#123; @override List&lt;Object&gt; get props =&gt; [];&#125;class CounterIncrement extends CounterEvent &#123;&#125;class CounterSubduction extends CounterEvent &#123;&#125; lib/counter/bloc/counter_state.dart 12345678910111213141516171819part of 'counter_bloc.dart';@immutableabstract class CounterState extends Equatable &#123; final int value; const CounterState(this.value); @override List&lt;Object&gt; get props =&gt; [value];&#125;class CounterInitial extends CounterState &#123; CounterInitial(int value) : super(value);&#125;class CounterChange extends CounterState &#123; CounterChange(int value) : super(value);&#125; ç¼–å†™ view lib/counter/view/page.dart 12345678910111213141516import 'package:ducafecat_bloc_start_example/counter/bloc/counter_bloc.dart';import 'package:ducafecat_bloc_start_example/counter/view/view.dart';import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';class CounterPage extends StatelessWidget &#123; const CounterPage(&#123;Key key&#125;) : super(key: key); @override Widget build(BuildContext context) &#123; return BlocProvider( create: (context) =&gt; CounterBloc(), child: CounterView(), ); &#125;&#125; lib/counter/view/view.dart 12345678910111213141516171819202122232425262728293031323334353637import 'package:ducafecat_bloc_start_example/counter/bloc/counter_bloc.dart';import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';class CounterView extends StatelessWidget &#123; const CounterView(&#123;Key key&#125;) : super(key: key); @override Widget build(BuildContext context) &#123; return Scaffold( appBar: AppBar(title: Text('Counter')), body: Center( child: Column( children: [ BlocBuilder&lt;CounterBloc, CounterState&gt;( builder: (context, state) &#123; return Text('$&#123;state.value&#125;'); &#125;, ), RaisedButton( child: Text('åŠ æ³•'), onPressed: () &#123; BlocProvider.of&lt;CounterBloc&gt;(context).add(CounterIncrement()); &#125;, ), RaisedButton( child: Text('åŠ æ³•'), onPressed: () &#123; BlocProvider.of&lt;CounterBloc&gt;(context).add(CounterSubduction()); &#125;, ) ], ), ), ); &#125;&#125; æ›¿æ¢ä¸»ç¨‹åº widget lib/main.dart 12345678910class MyApp extends StatelessWidget &#123; // This widget is the root of your application. @override Widget build(BuildContext context) &#123; return MaterialApp( ... home: CounterPage(), //MyHomePage(title: 'Flutter Demo Home Page'), ); &#125;&#125; å‚è€ƒ https://bloclibrary.dev/ https://pub.flutter-io.cn/packages/bloc https://pub.flutter-io.cn/packages/flutter_bloc https://pub.flutter-io.cn/packages/equatable https://pub.flutter-io.cn/packages/provider Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"flutter bloc","slug":"flutter-bloc","permalink":"https://ducafecat.tech/tags/flutter-bloc/"}]},{"title":"Flutter 2020 å¼€æºé¡¹ç›®æ¨è ç¬¬ä¸€å¼¹","date":"2020-11-02T16:00:00.000Z","path":"2020/11/03/flutter-daily/flutter-2020-learn-opensource/","text":"è§†é¢‘https://www.bilibili.com/video/BV13D4y1R71r/ å…³æ³¨ç‚¹ ç›®å½•æ–‡ä»¶ç»“æ„ æ˜¯å¦ç¬¦åˆå®˜æ–¹çš„åŒ…ç®¡ç†è§„èŒƒï¼Œ ç»„ä»¶æ‹†åˆ† é¡µé¢ã€ç»„ä»¶ã€é€šç”¨ã€ä¸šåŠ¡ å·¥å…·ç±»è®¾è®¡ é€šè®¯ã€æŒä¹…åŒ–ã€å®‰å…¨ã€å­—ç¬¦ã€æ•°å­—ã€æµ®ç‚¹ ç¬¬ä¸‰æ–¹ç»„ä»¶ æµåª’ä½“ã€æ’­æ”¾å™¨ã€ç¼–è¾‘å™¨ã€å›¾ç‰‡ã€Web è§†å›¾ã€åŸç”Ÿæ‰©å±• çŠ¶æ€ç®¡ç† blocã€provider äº‘æœåŠ¡ firebaseã€google cloudã€AWSã€serverless ä¸šåŠ¡å®Œæ•´æ€§ å¯è¿è¡Œã€ä¸šåŠ¡å…¨ â˜… Prism å£çº¸ â˜…https://github.com/Hash-Studios/Prism â˜… Flutter-Movies4U ç”µå½±èµ„è®¯ â˜…https://github.com/webaddicted/Flutter-Movies4U â˜… anytime_podcast_player podcast æ’­æ”¾å™¨ â˜…https://github.com/amugofjava/anytime_podcast_player â˜… gcloud-dota-app dota æ¸¸æˆèµ„è®¯ å…¨æ ˆé¡¹ç›® â˜…flutter + react + go + firebase + google cloud https://github.com/alvarowolfx/gcloud-dota-app â˜… LunaSea å¤šåª’ä½“ç½‘ç›˜ç®¡ç† â˜…https://github.com/CometTools/LunaSea â˜… passwall-mobile å¯†ç ç®¡ç† å…¨æ ˆé¡¹ç›® â˜…flutter + electron + go https://github.com/aeosmanoglu/passwall-mobilehttps://github.com/passwall/passwall-serverhttps://github.com/passwall/passwall-desktophttps://passwall.io restofinder ç¾é£Ÿhttps://github.com/yusriltakeuchi/restofinder SongTube-App éŸ³ä¹æ’­æ”¾ä¸‹è½½https://github.com/SongTube/SongTube-App Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"2020 macbook pro 16å¯¸ å‰ç«¯å¼€å‘ï¼Œçœ‹çœ‹æˆ‘éƒ½è£…äº†å“ªäº›è½¯ä»¶","date":"2020-10-11T16:00:00.000Z","path":"2020/10/12/flutter-daily/macbook-pro-16-tools-2020/","text":"è§†é¢‘https://www.bilibili.com/video/BV1854y1R7LG/ ç³»ç»ŸHomebrewåŒ…ç®¡ç†å·¥å…·ï¼Œä¸»è¦å®‰è£…å‘½ä»¤è¡Œå·¥å…· https://brew.sh/index_zh-cn homebrew-caskåŒ…ç®¡ç†æ‰©å±•å·¥å…·ï¼Œä¸»è¦å®‰è£… gui å·¥å…· https://github.com/Homebrew/homebrew-cask gitæºç æ§åˆ¶ 1$ brew install git iTerm2shell å·¥å…· https://www.iterm2.com/ powerline fontå­—ä½“ https://github.com/powerline/fonts firacode fontå­—ä½“ https://github.com/tonsky/FiraCode zshshell å·¥å…· 1$ brew install zsh oh-my-zshzsh é›†æˆå·¥å…· https://ohmyz.sh/ https://github.com/ohmyzsh/ohmyzsh/wiki/themes 1$ sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot; autojumpzsh æ’ä»¶ å¿«é€Ÿå¯¼èˆªç›®å½• https://github.com/wting/autojump zsh-autosuggestionszsh æ’ä»¶ å¿«é€Ÿæç¤ºå†å²è¾“å…¥ https://github.com/zsh-users/zsh-autosuggestions zsh-syntax-highlightingzsh æ’ä»¶ ç¾åŒ–æ˜¾ç¤º https://github.com/zsh-users/zsh-syntax-highlighting node &amp; nvmnode ç‰ˆæœ¬ç®¡ç† https://github.com/nvm-sh/nvm whistleæŠ“åŒ…ç®¡ç† https://github.com/avwo/whistle CharlesæŠ“åŒ…ç®¡ç† ä¿—ç§°æ°´ç“¶ https://www.charlesproxy.com/ Bartender 3é¡¶éƒ¨èœå•é¡¹éšè— https://www.macbartender.com/ CleanMyMac Xæ¸…ç†ç”µè„‘ https://macpaw.com/cleanmymac Dockerå®¹å™¨ç®¡ç† https://www.docker.com/ ClashXç§‘å­¦ä¸Šç½‘ https://github.com/yichengchen/clashX/ V2rayUç§‘å­¦ä¸Šç½‘ https://github.com/yanue/V2rayU/releases Kekaå‹ç¼©è§£å‹ https://www.keka.io/en/ Mountyntfs ç£ç›˜è¯»å†™ https://mounty.app/ å·¥å…·chromeæµè§ˆå™¨ https://www.google.cn/chrome/ edgeæµè§ˆå™¨ https://www.microsoft.com/en-us/edge firefoxæµè§ˆå™¨ http://www.firefox.com.cn/ sourcetreegit ç®¡ç† https://www.sourcetreeapp.com/ CheatSheetå¿«æ·é”®æç¤º https://www.mediaatelier.com/CheatSheet/ alfredé˜¿èŠ™ç®¡å®¶ https://www.alfredapp.com/ snipasteæˆªå›¾ https://docs.snipaste.com/zh-cn/ iShotæˆªå›¾ https://apps.apple.com/cn/app/ishot-%E6%88%AA%E5%9B%BE-%E5%BD%95%E5%B1%8F-2020%E5%85%A8%E6%96%B0%E9%AB%98%E5%BA%A6/id1485844094?mt=12 licecapgif å½•åˆ¶ https://www.cockos.com/licecap/ æœ‰é“ç¬”è®°çŸ¥è¯†ç®¡ç† http://note.youdao.com/ notionçŸ¥è¯†ç®¡ç† https://www.notion.so/ trelloçŸ¥è¯†ç®¡ç† https://trello.com/ typoramarkdown å†™ä½œ https://typora.io/ è¯­é›€çŸ¥è¯†ç®¡ç† https://www.yuque.com/ å°è±¡ç¬”è®°çŸ¥è¯†ç®¡ç† https://yinxiang.com/ securecrtssh å®¢æˆ·ç«¯ https://www.vandyke.com/products/securecrt/ finalshellssh å®¢æˆ·ç«¯ https://www.hostbuf.com/ ç½‘é¡µ MuMuandroid æ¨¡æ‹Ÿå™¨ https://mumu.163.com/mac/index.html ç™¾åº¦ç½‘ç›˜ç½‘ç›˜ https://pan.baidu.com/ Downie 4ä¸‹è½½æ²¹ç®¡è§†é¢‘ https://software.charliemonroe.net/downie/ EasyReså±å¹•åˆ†è¾¨ç‡åˆ‡æ¢ http://easyresapp.com/ Free Download Managerä¸‹è½½å·¥å…· https://www.freedownloadmanager.org/zh/ iStat MenusçŠ¶æ€ç®¡ç† https://setapp.com/ pap.erå£çº¸ç®¡ç† https://paper.meiyuan.in/ Parallels Desktopè™šæ‹Ÿæœºç®¡ç† å·¥ä½œç”¨ https://www.parallels.com/ virtualboxè™šæ‹Ÿæœºç®¡ç† è¯•éªŒç”¨ https://www.virtualbox.org/ vmwareè™šæ‹Ÿæœºç®¡ç† è¯•éªŒç”¨ https://www.vmware.com/hk.html SwitchHosts!åˆ‡æ¢ host https://github.com/oldj/SwitchHosts Reeder 4rss é˜…è¯»å™¨ https://apps.apple.com/cn/app/reeder-4/id1449412482?mt=12 ScreenFlowå½•è§†é¢‘ https://www.telestream.net/screenflow/overview.htm TeamViewerè¿œç¨‹å†™ä½œ https://www.teamviewer.cn draw.ioç”»å›¾ https://www.diagrams.net/ Foxmailè½»å·§é‚®ä»¶ç®¡ç† https://www.foxmail.com/ Microsoft To Doä»»åŠ¡ç®¡ç† https://todo.microsoft.com/ Microsoft Remote Desktopè¿œç¨‹ windows https://www.microsoft.com/en-us/download/details.aspx?id=50042 WPS Officeword ppt excel https://www.wps.cn/ é€šè®¯QQã€å¾®ä¿¡ã€ä¼ä¸šå¾®ä¿¡ã€Telegram å¤®è§†å½±éŸ³çœ‹ç”µè§† æ¯”èµ› ç›´æ’­ https://app.cctv.com/appkhdxz/ysyymac/ IINAæ’­æ”¾å™¨ https://iina.io/ solarized themeå¤šç«¯æ ·å¼é…è‰² https://ethanschoonover.com/solarized/ å¼€å‘sublimehttp://www.sublimetext.com/ vscodehttps://code.visualstudio.com/ xcodehttps://developer.apple.com/xcode/ android stuidohttps://developer.android.com/studio HBuilderXhttps://www.dcloud.io/hbuilderx.html å¾®ä¿¡å¼€å‘è€…å·¥å…·https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html TinyPNG4Macå›¾ç‰‡å‹ç¼© https://github.com/kyleduo/TinyPNG4Mac/blob/master/README_ZH.md 1$ brew cask install tinypng4mac dashç¦»çº¿æ–‡æ¡£å·¥å…· https://kapeli.com/dash postmanapi è°ƒè¯• https://www.postman.com/ adobe ps xdè®¾è®¡ https://www.adobe.com/cn/ sketchè®¾è®¡ https://www.sketch.com/ axureåŸå‹è®¾è®¡ https://www.axure.com/ pxcookæ ‡æ³¨å·¥å…· https://www.fancynode.com.cn/pxcook mindnodeæ€ç»´è„‘å›¾ https://apps.apple.com/cn/app/mindnode-mind-map/id1289197285?mt=12 diffmergeæ–‡ä»¶æ¯”è¾ƒ http://sourcegear.com/diffmerge RedisDesktopManagerredis ç®¡ç†å®¢æˆ·ç«¯ https://github.com/uglide/RedisDesktopManager DBeaverå¤šæ•°æ®åº“ å®¢æˆ·ç«¯ https://dbeaver.io/ Navicat Premiummysql å®¢æˆ·ç«¯ http://www.navicat.com.cn/store/navicat-premium pdmanå…³ç³»æ•°æ®åº“è®¾è®¡å·¥å…· https://gitee.com/robergroup/pdman GoLandhttps://www.jetbrains.com/go/ IDEAhttps://www.jetbrains.com/ Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"macbook","slug":"macbook","permalink":"https://ducafecat.tech/tags/macbook/"}]},{"title":"HarmonyOS çœŸçš„æ˜¯å¥—å£³ä¹ˆï¼Œæˆ‘ä¹Ÿå¥½å¥‡çš„ç©äº†ä¸‹","date":"2020-09-17T16:00:00.000Z","path":"2020/09/18/flutter-daily/harmonyos-2020-v2-research/","text":"ä¸Šæ‰‹ä¸€ä¸ª Hello Word!https://developer.harmonyos.com/cn/develop/deveco-studio#download äº†è§£ä¸‹ HUAWEIhttps://www.huawei.com æ€»ç»“ åä¸ºæ˜¯åšåŸºå»ºã€é€šè®¯è®¾å¤‡çš„å…¬å¸ è¡Œä¸šè·¨åº¦å¤§ï¼Œä¼äº‹ä¸š+ä¸ªäººä¸šåŠ¡ è¶‹åŠ¿ IoT è®¾å¤‡äº’è”æ˜¯èµ„æºæ•´åˆçš„ HarmonyOS æºç https://openharmony.gitee.com æ ¸å¿ƒ kernel_liteos_a é€‚ç”¨äº cpu å†…å­˜ å¤§çš„ https://gitee.com/openharmony/kernel_liteos_a kernel_liteos_m é€‚ç”¨äºå»ºè®®è®¾å¤‡ https://gitee.com/openharmony/kernel_liteos_m åŸºäºå¼€æºé¡¹ç›® http://nuttx.apache.org/ å¼€å‘æ¿å¡https://device.harmonyos.com/cn/docs/start/introduce/oem_start_guide-0000001054913231https://gitee.com/openharmony/docs/blob/master/quick-start/Hi3861å¼€å‘æ¿ä»‹ç».md å¼•ç”¨ åä¸ºå®˜ç½‘ å¼€å‘è€… å¼€å‘ç‰ˆå¡ HarmonyOS æ–‡æ¡£ HarmonyOS æºç  Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"HarmonyOS","slug":"HarmonyOS","permalink":"https://ducafecat.tech/tags/HarmonyOS/"}]},{"title":"Flutter 2020 å­¦ä¹ å¿ƒå¾—ã€å­¦ä¹ è·¯çº¿","date":"2020-09-02T16:00:00.000Z","path":"2020/09/03/flutter-daily/flutter-2020-how-to-learn-flutter-develop/","text":"è§†é¢‘https://www.bilibili.com/video/BV1CT4y1L7At/ æ–°äººä¸Šæ‰‹æƒ…å†µ è¯­è¨€åŸºç¡€ æ•°æ®ç»“æ„ ç½‘ç»œé€šä¿¡ å‰ç«¯å¸ƒå±€ åŠ¨ç”» ä¼˜åŒ–ç‚¹ å‰ç«¯é‡åˆ°çš„æœ€å¤§é—®é¢˜ åŸç”Ÿè°ƒè¯• åŸç”Ÿç»„ä»¶å¼€å‘ èŠèŠå­¦ä¹ åŠ¨æœº å•ä½å·¥ä½œéœ€è¦ è‡ªå·±å…´è¶£å¼€å‘ APP æ¯•ä¸šè®¾è®¡ æ¼«æ— ç›®çš„ã€æ¼«æ— ç›®çš„çš„å­¦ä¹  å­¦ä¹ è·¯çº¿https://github.com/olexale/flutter_roadmap èµ„æº å®˜ç½‘ darthttps://dart.dev/guides/language/language-tour å®˜ç½‘ flutterhttps://flutter.dev/https://flutter.cn/ juejinhttps://juejin.im/tag/Flutter mediumhttps://medium.com/tag/flutter flutter awesome githubhttps://github.com/Solido/awesome-flutterhttps://github.com/crazycodeboy/awesome-flutter-cn flutter awesome webhttps://flutterawesome.com/ otherhttps://twitter.com/search?q=flutterdevhttps://www.facebook.com/search/groups/?q=flutter%20dev æ€»ç»“æœ€å¿«çš„å­¦ä¹ æ–¹å¼æœ‰ä¸ªç›®æ ‡ã€çœ‹ä¼˜ç§€æºä»£ç ï¼Œå®Œæˆä½ çš„ä½œå“ã€ä¸Šçº¿ï¼ Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter æ··åˆå¼€å‘ - 03 ç™¾åº¦åœ°å›¾å®šä½åŠŸèƒ½ ios ç¯‡","date":"2020-08-20T16:00:00.000Z","path":"2020/08/21/flutter-daily/flutter-plugins-03-baidu-map-ios/","text":"æœ¬èŠ‚ç›®æ ‡ åˆ›å»º ios flutter æ’ä»¶æµç¨‹ é›†æˆç™¾åº¦å®šä½åŠŸèƒ½ è§†é¢‘https://www.bilibili.com/video/BV1HT4y1L73i/ ä»£ç https://github.com/ducafecat/flutter_baidu_plugin_ducafecat/releases/tag/v1.0.3 ç™¾åº¦å¹³å°éƒ¨åˆ†è®¾ç½® AKhttps://lbsyun.baidu.com/apiconsole/key#/home æ·»åŠ åº”ç”¨ æŸ¥çœ‹ Bundle Identifier IOS éƒ¨åˆ†è‡ªåŠ¨éƒ¨ç½² CocoaPods å®‰è£…å·¥å…· 1sudo gem install cocoapods ios/flutter_baidu_plugin_ducafecat.podspec 123456789 ... s.dependency &apos;Flutter&apos; s.platform = :ios, &apos;8.0&apos; s.dependency &apos;BMKLocationKit&apos; # Flutter.framework does not contain a i386 slice. Only x86_64 simulators are supported. s.pod_target_xcconfig = &#123; &apos;DEFINES_MODULE&apos; =&gt; &apos;YES&apos;, &apos;VALID_ARCHS[sdk=iphonesimulator*]&apos; =&gt; &apos;x86_64&apos; &#125;end å®‰è£…ç™¾åº¦ sdk åŒ… 1pod install å‡çº§ 1pod repo update pod search æ— æ³•æœç´¢åˆ°ç±»åº“çš„è§£å†³åŠæ³•ï¼ˆæ‰¾ä¸åˆ°ç±»åº“ï¼‰ 1234567891011ï¼ˆ1ï¼‰æ‰§è¡Œpod setupï¼ˆ2ï¼‰åˆ é™¤~/Library/Caches/CocoaPodsç›®å½•ä¸‹çš„search_index.jsonæ–‡ä»¶ pod setupæˆåŠŸåä¼šç”Ÿæˆ~/Library/Caches/CocoaPods/search_index.jsonæ–‡ä»¶ ç»ˆç«¯è¾“å…¥rm ~/Library/Caches/CocoaPods/search_index.json åˆ é™¤æˆåŠŸåå†æ‰§è¡Œpod searchï¼ˆ3ï¼‰æ‰§è¡Œpod search Info.plist å®šä½æˆæƒexample/ios/Runner/Info.plist 123&lt;dict&gt; &lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt; &lt;string&gt;éœ€è¦å®šä½&lt;/string&gt; æ¶ˆæ¯é€šçŸ¥ BdmapFlutterStreamManager ios/Classes/BdmapFlutterStreamManager.h 123456789101112131415161718192021222324//// Header.h// bdmap_location_flutter_plugin//// Created by Wang,Shengzhan on 2020/2/4.//#import &lt;Foundation/Foundation.h&gt;#import &lt;Flutter/Flutter.h&gt;NS_ASSUME_NONNULL_BEGIN@class BdmapFlutterStreamHandler;@interface BdmapFlutterStreamManager : NSObject+ (instancetype)sharedInstance ;@property (nonatomic, strong) BdmapFlutterStreamHandler* streamHandler;@end@interface BdmapFlutterStreamHandler : NSObject&lt;FlutterStreamHandler&gt;@property (nonatomic, strong) FlutterEventSink eventSink;@endNS_ASSUME_NONNULL_END ios/Classes/BdmapFlutterStreamManager.m 123456789101112131415161718192021222324252627282930313233343536373839//// BdmapFlutterStreamManager.m// bdmap_location_flutter_plugin//// Created by Wang,Shengzhan on 2020/2/4.//#import \"BdmapFlutterStreamManager.h\"@implementation BdmapFlutterStreamManager+ (instancetype)sharedInstance &#123; static dispatch_once_t onceToken; static BdmapFlutterStreamManager *manager = nil; dispatch_once(&amp;onceToken, ^&#123; manager = [[BdmapFlutterStreamManager alloc] init]; BdmapFlutterStreamHandler * streamHandler = [[BdmapFlutterStreamHandler alloc] init]; manager.streamHandler = streamHandler; &#125;); return manager;&#125;@end@implementation BdmapFlutterStreamHandler- (FlutterError*)onListenWithArguments:(id)arguments eventSink:(FlutterEventSink)eventSink &#123; self.eventSink = eventSink; return nil;&#125;- (FlutterError*)onCancelWithArguments:(id)arguments &#123; return nil;&#125;@end åœ°å›¾æ¥å£ä¸šåŠ¡ FlutterBaiduPluginDucafecatPlugin ios/Classes/FlutterBaiduPluginDucafecatPlugin.h 1234#import &lt;Flutter/Flutter.h&gt;@interface FlutterBaiduPluginDucafecatPlugin : NSObject&lt;FlutterPlugin&gt;@end ios/Classes/FlutterBaiduPluginDucafecatPlugin.m 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358#import \"FlutterBaiduPluginDucafecatPlugin.h\"#import \"BMKLocationkit/BMKLocationComponent.h\"#import \"BdmapFlutterStreamManager.h\"@interface FlutterBaiduPluginDucafecatPlugin()&lt;BMKLocationManagerDelegate&gt;@property (nonatomic,strong) BMKLocationManager *locManager;@property (nonatomic, copy) FlutterResult flutterResult;@end@implementation FlutterBaiduPluginDucafecatPlugin+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar &#123; // FlutterMethodChannel* channel = [FlutterMethodChannel // methodChannelWithName:@\"flutter_baidu_plugin_ducafecat\" // binaryMessenger:[registrar messenger]]; // FlutterBaiduPluginDucafecatPlugin* instance = [[FlutterBaiduPluginDucafecatPlugin alloc] init]; // [registrar addMethodCallDelegate:instance channel:channel]; FlutterMethodChannel* channel = [FlutterMethodChannel methodChannelWithName:@\"flutter_baidu_plugin_ducafecat\" binaryMessenger:[registrar messenger]]; FlutterBaiduPluginDucafecatPlugin* instance = [[FlutterBaiduPluginDucafecatPlugin alloc] init]; [registrar addMethodCallDelegate:instance channel:channel]; FlutterEventChannel *eventChanel = [FlutterEventChannel eventChannelWithName:@\"flutter_baidu_plugin_ducafecat_stream\" binaryMessenger:[registrar messenger]]; [eventChanel setStreamHandler:[[BdmapFlutterStreamManager sharedInstance] streamHandler]];&#125;// - (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result &#123;// if ([@\"getPlatformVersion\" isEqualToString:call.method]) &#123;// result([@\"iOS \" stringByAppendingString:[[UIDevice currentDevice] systemVersion]]);// &#125;// else if ([@\"duAddOne\" isEqualToString:call.method]) &#123;// NSInteger val = 100;// val += [[call.arguments objectForKey:@\"num\"] intValue];// result([NSNumber numberWithLong:val]);// &#125;// else &#123;// result(FlutterMethodNotImplemented);// &#125;// &#125;- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result &#123; if ([@\"getPlatformVersion\" isEqualToString:call.method]) &#123; result([@\"iOS \" stringByAppendingString:[[UIDevice currentDevice] systemVersion]]); &#125; else if ([@\"startLocation\" isEqualToString:call.method])&#123; // å¼€å§‹å®šä½// NSLog((@\"\\n[bdmap_loc_flutter_plugin:%s]\"), \"startLocation...\"); [self startLocation:result]; &#125;else if ([@\"stopLocation\" isEqualToString:call.method])&#123; // åœæ­¢å®šä½// NSLog((@\"\\n[bdmap_loc_flutter_plugin:%s]\"), \"stopLocation...\"); [self stopLocation]; result(@YES); &#125; else if ([@\"updateOption\" isEqualToString:call.method] ) &#123; // è®¾ç½®å®šä½å‚æ•° result(@([self updateOption:call.arguments])); &#125; else if ([@\"setApiKey\" isEqualToString:call.method])&#123; // è®¾ç½®iosç«¯ak// NSLog((@\"\\n[bdmap_loc_flutter_plugin:%s]\"), \"setApiKey...\"); [[BMKLocationAuth sharedInstance] checkPermisionWithKey:call.arguments authDelegate:self]; result(@YES); &#125; else &#123; result(FlutterMethodNotImplemented); &#125;&#125;/** è·å–è®¾ç½®çš„æœŸæœ›å®šä½ç²¾åº¦ */-(double)getDesiredAccuracy:(NSString*)str&#123; if([@\"kCLLocationAccuracyBest\" isEqualToString:str]) &#123; return kCLLocationAccuracyBest; &#125; else if ([@\"kCLLocationAccuracyNearestTenMeters\" isEqualToString:str]) &#123; return kCLLocationAccuracyNearestTenMeters; &#125; else if ([@\"kCLLocationAccuracyHundredMeters\" isEqualToString:str]) &#123; return kCLLocationAccuracyHundredMeters; &#125; else if ([@\"kCLLocationAccuracyKilometer\" isEqualToString:str]) &#123; return kCLLocationAccuracyKilometer; &#125; else &#123; return kCLLocationAccuracyBest; &#125;&#125;/** è·å–è®¾ç½®çš„ç»çº¬åº¦åæ ‡ç³»ç±»å‹ */-(int)getCoordinateType:(NSString*)str&#123; if([@\"BMKLocationCoordinateTypeBMK09LL\" isEqualToString:str]) &#123; return BMKLocationCoordinateTypeBMK09LL; &#125; else if ([@\"BMKLocationCoordinateTypeBMK09MC\" isEqualToString:str]) &#123; return BMKLocationCoordinateTypeBMK09MC; &#125; else if ([@\"BMKLocationCoordinateTypeWGS84\" isEqualToString:str]) &#123; return BMKLocationCoordinateTypeWGS84; &#125; else if ([@\"BMKLocationCoordinateTypeGCJ02\" isEqualToString:str]) &#123; return BMKLocationCoordinateTypeGCJ02; &#125; else &#123; return BMKLocationCoordinateTypeGCJ02; &#125;&#125;/** è·å–è®¾ç½®çš„åº”ç”¨ä½ç½®ç±»å‹ */-(int)getActivityType:(NSString*)str&#123; if ([@\"CLActivityTypeOther\" isEqualToString:str]) &#123; return CLActivityTypeOther; &#125; else if ([@\"CLActivityTypeAutomotiveNavigation\" isEqualToString:str]) &#123; return CLActivityTypeAutomotiveNavigation; &#125; else if ([@\"CLActivityTypeFitness\" isEqualToString:str]) &#123; return CLActivityTypeFitness; &#125; else if ([@\"CLActivityTypeOtherNavigation\" isEqualToString:str]) &#123; return CLActivityTypeOtherNavigation; &#125; else &#123; return CLActivityTypeAutomotiveNavigation; &#125;&#125;/** è§£æflutterç«¯æ‰€è®¾ç½®çš„å®šä½SDKå‚æ•° */-(BOOL)updateOption:(NSDictionary*)args &#123; if(self.locManager) &#123;// NSLog(@\"å®šä½å‚æ•°é…ç½®:%@\",args); self.locManager.isNeedNewVersionReGeocode = YES; // è®¾ç½®æœŸæœ›å®šä½ç²¾åº¦ if ([[args allKeys] containsObject:@\"desiredAccuracy\"]) &#123; [self.locManager setDesiredAccuracy:[ self getDesiredAccuracy: args[@\"desiredAccuracy\"]]]; &#125; // è®¾ç½®å®šä½çš„æœ€å°æ›´æ–°è·ç¦» if ([[args allKeys] containsObject:@\"distanceFilter\"]) &#123; self.locManager.distanceFilter = [args[@\"distanceFilter\"] doubleValue];// NSLog(@\"æœ€å°æ›´æ–°è·ç¦»å€¼:%f\", [args[@\"distanceFilter\"] doubleValue]); &#125; // è®¾ç½®è¿”å›ä½ç½®åæ ‡ç³»ç±»å‹ if ([[args allKeys] containsObject:@\"BMKLocationCoordinateType\"]) &#123; [self.locManager setCoordinateType:[ self getCoordinateType: args[@\"desiredAccuracy\"]]]; &#125; // è®¾ç½®åº”ç”¨ä½ç½®ç±»å‹ if ([[args allKeys] containsObject:@\"activityType\"]) &#123; [self.locManager setActivityType:[ self getActivityType: args[@\"desiredAccuracy\"]]]; &#125; // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›æ–°ç‰ˆæœ¬rgcä¿¡æ¯ if ([[args allKeys] containsObject:@\"isNeedNewVersionRgc\"]) &#123; if ((bool)args[@\"desiredAccuracy\"]) &#123;// NSLog(@\"éœ€è¦è¿”å›æ–°ç‰ˆæœ¬rgcä¿¡æ¯\"); self.locManager.isNeedNewVersionReGeocode = YES; &#125; else &#123;// NSLog(@\"ä¸éœ€è¦è¿”å›æ–°ç‰ˆæœ¬rgcä¿¡æ¯\"); self.locManager.isNeedNewVersionReGeocode = NO; &#125; &#125; // æŒ‡å®šå®šä½æ˜¯å¦ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ if ([[args allKeys] containsObject:@\"pausesLocationUpdatesAutomatically\"]) &#123; if ((bool)args[@\"pausesLocationUpdatesAutomatically\"]) &#123;// NSLog(@\"è®¾ç½®å®šä½è¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ\"); self.locManager.isNeedNewVersionReGeocode = YES; &#125; else &#123;// NSLog(@\"è®¾ç½®å®šä½ä¸èƒ½è¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ\"); self.locManager.isNeedNewVersionReGeocode = NO; &#125; &#125; // è®¾ç½®æ˜¯å¦å…è®¸åå°å®šä½ if ([[args allKeys] containsObject:@\"allowsBackgroundLocationUpdates\"]) &#123; if ((bool)args[@\"allowsBackgroundLocationUpdates\"]) &#123;// NSLog(@\"è®¾ç½®å…è®¸åå°å®šä½\"); self.locManager.isNeedNewVersionReGeocode = YES; &#125; else &#123;// NSLog(@\"è®¾ç½®ä¸å…è®¸åå°å®šä½\"); self.locManager.isNeedNewVersionReGeocode = NO; self.locManager.distanceFilter = kCLDistanceFilterNone; &#125; &#125; // è®¾ç½®å®šä½è¶…æ—¶æ—¶é—´ if ([[args allKeys] containsObject:@\"locationTimeout\"]) &#123; [self.locManager setLocationTimeout:[args[@\"locationTimeout\"] integerValue]]; self.locManager.coordinateType = BMKLocationCoordinateTypeGCJ02; &#125; // è®¾ç½®é€†åœ°ç†è¶…æ—¶æ—¶é—´ if ([[args allKeys] containsObject:@\"reGeocodeTimeout\"]) &#123; [self.locManager setReGeocodeTimeout:[args[@\"reGeocodeTimeout\"] integerValue]]; &#125; return YES; &#125; return NO;&#125;/** å¯åŠ¨å®šä½ */- (void)startLocation:(FlutterResult)result&#123; self.flutterResult = result; [self.locManager startUpdatingLocation];&#125;/** åœæ­¢å®šä½ */- (void)stopLocation&#123; self.flutterResult = nil; [self.locManager stopUpdatingLocation];&#125;- (BMKLocationManager *)locManager &#123; if (!_locManager) &#123; _locManager = [[BMKLocationManager alloc] init]; _locManager.locatingWithReGeocode = YES; _locManager.delegate = self; &#125; return _locManager;&#125;/** * @brief è¿ç»­å®šä½å›è°ƒå‡½æ•° * @param manager å®šä½ BMKLocationManager ç±»ã€‚ * @param location å®šä½ç»“æœã€‚ */- (void)BMKLocationManager:(BMKLocationManager * _Nonnull)manager didUpdateLocation:(BMKLocation * _Nullable)location orError:(NSError * _Nullable)error&#123; if (error) &#123;// NSLog(@\"locError:&#123;%ld - %@&#125;;\", (long)error.code, error.localizedDescription); &#125; if (location) &#123; // å¾—åˆ°å®šä½ä¿¡æ¯ï¼Œæ·»åŠ annotation NSMutableDictionary *dic = [NSMutableDictionary dictionaryWithCapacity:1]; if (location) &#123; if (location.location.timestamp) &#123; [dic setObject:[self getFormatTime:location.location.timestamp] forKey:@\"locTime\"]; // å®šä½æ—¶é—´ &#125; if (location.location.horizontalAccuracy) &#123; [dic setObject:@(location.location.horizontalAccuracy) forKey:@\"radius\"]; // å®šä½ç²¾åº¦ &#125; if (location.location.coordinate.latitude) &#123; [dic setObject:@(location.location.coordinate.latitude) forKey:@\"latitude\"]; // çº¬åº¦ &#125; if (location.location.coordinate.longitude) &#123; [dic setObject:@(location.location.coordinate.longitude) forKey:@\"longitude\"]; // ç»åº¦ &#125; if (location.location.altitude) &#123;// NSLog(@\"è¿”å›æµ·æ‹”é«˜åº¦ä¿¡æ¯\"); [dic setObject:@(location.location.altitude) forKey:@\"altitude\"];// é«˜åº¦ &#125; if (location.rgcData) &#123; [dic setObject:[location.rgcData country] forKey:@\"country\"]; // å›½å®¶ [dic setObject:[location.rgcData province] forKey:@\"province\"]; // çœä»½ [dic setObject:[location.rgcData city] forKey:@\"city\"]; // åŸå¸‚ if (location.rgcData.district) &#123; [dic setObject:[location.rgcData district] forKey:@\"district\"]; // åŒºå¿ &#125; if (location.rgcData.street) &#123; [dic setObject:[location.rgcData street] forKey:@\"street\"]; // è¡—é“ &#125; if (location.rgcData.description) &#123; // åœ°å€ä¿¡æ¯ [dic setObject:[location.rgcData description] forKey:@\"address\"]; &#125; if (location.rgcData.poiList) &#123; NSString* poilist; if (location.rgcData.poiList.count == 1) &#123; for (BMKLocationPoi * poi in location.rgcData.poiList) &#123; poilist = [[poi name] stringByAppendingFormat:@\",%@,%@\", [poi tags], [poi addr]]; &#125; &#125; else &#123; for (int i = 0; i &lt; location.rgcData.poiList.count - 1 ; i++) &#123; poilist = [poilist stringByAppendingFormat:@\"%@,%@,%@|\", location.rgcData.poiList[i].name,location.rgcData.poiList[i].tags,location.rgcData.poiList[i].addr]; &#125; poilist = [poilist stringByAppendingFormat:@\"%@,%@,%@\", location.rgcData.poiList[location.rgcData.poiList.count-1].name,location.rgcData.poiList[location.rgcData.poiList.count-1].tags,location.rgcData.poiList[location.rgcData.poiList.count-1].addr]; &#125; [dic setObject: poilist forKey:@\"poiList\"]; // å‘¨è¾¹poiä¿¡æ¯ &#125; &#125; &#125; else &#123; [dic setObject: @1 forKey:@\"errorCode\"]; // å®šä½ç»“æœé”™è¯¯ç  [dic setObject:@\"location is null\" forKey:@\"errorInfo\"]; // å®šä½é”™è¯¯ä¿¡æ¯ &#125; // å®šä½ç»“æœå›è°ƒæ—¶é—´ [dic setObject:[self getFormatTime:[NSDate date]] forKey:@\"callbackTime\"]; [[BdmapFlutterStreamManager sharedInstance] streamHandler].eventSink(dic);// NSLog(@\"x=%f,y=%f\",location.location.coordinate.latitude,location.location.coordinate.longitude); &#125;&#125;/** æ ¼å¼åŒ–æ—¶é—´ */- (NSString *)getFormatTime:(NSDate*)date&#123; NSDateFormatter *formatter = [[NSDateFormatter alloc] init]; [formatter setDateFormat:@\"YYYY-MM-dd HH:mm:ss\"]; NSString *timeString = [formatter stringFromDate:date]; return timeString;&#125;@end Flutter éƒ¨åˆ†è®¾ç½® AK12345678910@overridevoid initState() &#123; super.initState(); _requestPermission(); // æ‰§è¡Œæƒé™è¯·æ±‚ if (Platform.isIOS == true) &#123; FlutterBaiduPluginDucafecat.setApiKeyForIOS( \"dkYT07blcAj3drBbcN1eGFYqt16HP1pR\"); &#125;&#125; å…¶å®ƒä»£ç å’Œ android åŒæ¥å£ æ— å½±å“ å‚è€ƒ https://lbsyun.baidu.com/apiconsole/key#/home https://flutter.dev/docs/development/packages-and-plugins/developing-packages#step-2c-add-ios-platform-code-swifthm http://lbsyun.baidu.com/index.php?title=ios-locsdk/guide/create-project/cocoapods-create http://lbsyun.baidu.com/index.php?title=ios-locsdk Â© çŒ«å“¥ https://ducafecat.tech https://ducafecat.gitee.io","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter æ··åˆå¼€å‘ - 02 ç™¾åº¦åœ°å›¾å®šä½åŠŸèƒ½ android ç¯‡","date":"2020-08-03T16:00:00.000Z","path":"2020/08/04/flutter-daily/flutter-plugins-02-baidu-map-android/","text":"æœ¬èŠ‚ç›®æ ‡ ç™¾åº¦åœ°å›¾ä¸šåŠ¡ ç™¾åº¦ç»„ä»¶åˆå§‹ ç¼–å†™å®šä½ä»£ç  android ç¯‡ ç¯å¢ƒ1234567$ flutter doctorDoctor summary (to see all details, run flutter doctor -v):[âœ“] Flutter (Channel stable, 1.20.1, on Mac OS X 10.15.6 19G73, locale zh-Hans-CN)[âœ“] Android toolchain - develop for Android devices (Android SDK version 29.0.2)[âœ“] Xcode - develop for iOS and macOS (Xcode 11.6)[âœ“] Android Studio (version 4.0)[âœ“] VS Code (version 1.47.3) è§†é¢‘https://www.bilibili.com/video/BV1iK411T7LC/ ä»£ç https://github.com/ducafecat/flutter_baidu_plugin_ducafecat/releases/tag/v1.0.2 å¯ä»¥ç›´æ¥ç”¨ ğŸ‘‡ v1.0.3 https://github.com/ducafecat/flutter_baidu_plugin_ducafecat/releases/tag/v1.0.3 æ­£æ–‡åˆ›å»ºç»„ä»¶çš„å‡ ç§æ–¹å¼ç°æˆè½®å­ç›´æ¥ç”¨ å®˜æ–¹ä»“åº“æœç´¢ https://pub.dev/flutter/packages https://pub.flutter-io.cn/flutter/packages å¯å‚è€ƒçš„ç»„ä»¶ä»£ç  é€šè¿‡ä»“åº“ï¼ŒæŸ¥æ‰¾ github ä»£ç ä»“ ç½‘ç«™ã€å®¢æœç´¢å–ä»£ç  å‚è€ƒå®˜æ–¹é›†æˆæ–‡æ¡£ç¼–å†™ç»„ä»¶ å®˜ç½‘æ–‡æ¡£ http://lbsyun.baidu.com/index.php?title=flutter/loc ç»„ä»¶ä»£ç ç™¾åº¦åº”ç”¨ç®¡ç†ï¼Œåˆ›å»º AK åº”ç”¨ç®¡ç† https://lbsyun.baidu.com/apiconsole/key#/home æŸ¥è¯¢ SHA1 http://lbsyun.baidu.com/index.php?title=FAQ/SHA1 1keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey è®¾ç½® AK example/android/app/src/main/AndroidManifest.xml 12345678910... &lt;!-- åœ¨è¿™é‡Œè®¾ç½®androidç«¯ak--&gt; &lt;meta-data android:name=\"com.baidu.lbsapi.API_KEY\" android:value=\"aCUtcLDufllGi4nEaKgU8FmBqufFyekh\" /&gt; &lt;/application&gt;&lt;/manifest&gt; è®¾ç½® Android æƒé™ æ–‡æ¡£ http://lbsyun.baidu.com/index.php?title=android-locsdk/guide/create-project/android-studio android/src/main/AndroidManifest.xml 1234567891011121314151617181920212223242526272829303132&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" package=\"tech.ducafecat.flutter_baidu_plugin_ducafecat\"&gt; &lt;!-- è¿™ä¸ªæƒé™ç”¨äºè¿›è¡Œç½‘ç»œå®šä½--&gt; &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"&gt;&lt;/uses-permission&gt; &lt;!-- è¿™ä¸ªæƒé™ç”¨äºè®¿é—®GPSå®šä½--&gt; &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"&gt;&lt;/uses-permission&gt; &lt;!-- ç”¨äºè®¿é—®wifiç½‘ç»œä¿¡æ¯ï¼Œwifiä¿¡æ¯ä¼šç”¨äºè¿›è¡Œç½‘ç»œå®šä½--&gt; &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"&gt;&lt;/uses-permission&gt; &lt;!-- è·å–è¿è¥å•†ä¿¡æ¯ï¼Œç”¨äºæ”¯æŒæä¾›è¿è¥å•†ä¿¡æ¯ç›¸å…³çš„æ¥å£--&gt; &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"&gt;&lt;/uses-permission&gt; &lt;!-- è¿™ä¸ªæƒé™ç”¨äºè·å–wifiçš„è·å–æƒé™ï¼Œwifiä¿¡æ¯ä¼šç”¨æ¥è¿›è¡Œç½‘ç»œå®šä½--&gt; &lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"&gt;&lt;/uses-permission&gt; &lt;!-- ç”¨äºè¯»å–æ‰‹æœºå½“å‰çš„çŠ¶æ€--&gt; &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"&gt;&lt;/uses-permission&gt; &lt;!-- å†™å…¥æ‰©å±•å­˜å‚¨ï¼Œå‘æ‰©å±•å¡å†™å…¥æ•°æ®ï¼Œç”¨äºå†™å…¥ç¦»çº¿å®šä½æ•°æ®--&gt; &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt; &lt;!-- è®¿é—®ç½‘ç»œï¼Œç½‘ç»œå®šä½éœ€è¦ä¸Šç½‘--&gt; &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; &lt;!-- è¯»å–ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…å«ç³»ç»Ÿç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œç”¨ä½œç»Ÿè®¡--&gt; &lt;uses-permission android:name=\"com.android.launcher.permission.READ_SETTINGS\" /&gt; &lt;!-- ç¨‹åºåœ¨æ‰‹æœºå±å¹•å…³é—­ååå°è¿›ç¨‹ä»ç„¶è¿è¡Œ--&gt; &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt; &lt;application&gt; &lt;!-- å£°æ˜serviceç»„ä»¶ --&gt; &lt;service android:name=\"com.baidu.location.f\" android:enabled=\"true\" android:process=\":remote\" &gt; &lt;/service&gt; &lt;/application&gt;&lt;/manifest&gt; æ·»åŠ  android libs åº“æ–‡ä»¶ ç›®å½• android/libs android/build.gradle 123456789101112131415161718192021...android &#123; compileSdkVersion 28 sourceSets &#123; main &#123; jniLibs.srcDir 'libs' &#125; &#125; defaultConfig &#123; minSdkVersion 16 &#125; lintOptions &#123; disable 'InvalidPackage' &#125;&#125;dependencies &#123; implementation files('libs/BaiduLBS_Android.jar')&#125; ç¼–å†™ Flutter ç»„ä»¶ä»£ç  ç›®å½• lib åœ°ç†ä¿¡æ¯ lib/entity/flutter_baidu_location.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119/// ç™¾åº¦å®šä½ç»“æœç±»ï¼Œç”¨äºå­˜å‚¨å„ç±»å®šä½ç»“æœä¿¡æ¯class BaiduLocation &#123; /// å®šä½æˆåŠŸæ—¶é—´ final String locTime; /// å®šä½ç»“æœç±»å‹ final int locType; /// åŠå¾„ final double radius; /// çº¬åº¦ final double latitude; /// ç»åº¦ final double longitude; /// æµ·æ‹” final double altitude; /// å›½å®¶ final String country; /// çœä»½ final String province; /// åŸå¸‚ final String city; /// åŒºå¿ final String district; /// è¡—é“ final String street; /// åœ°å€ final String address; /// ä½ç½®è¯­ä¹‰åŒ–æè¿°ï¼Œä¾‹å¦‚\"åœ¨ç™¾åº¦å¤§å¦é™„è¿‘\" final String locationDetail; /// å‘¨è¾¹poiä¿¡æ¯ï¼Œæ¯ä¸ªpoiä¹‹é—´ç”¨\"|\"éš”å¼€ final String poiList; /// å®šä½ç»“æœå›è°ƒæ—¶é—´ final String callbackTime; /// é”™è¯¯ç  final int errorCode; /// å®šä½å¤±è´¥æè¿°ä¿¡æ¯ final String errorInfo; BaiduLocation( &#123;this.locTime, this.locType, this.radius, this.latitude, this.longitude, this.altitude, this.country, this.province, this.city, this.district, this.street, this.address, this.locationDetail, this.poiList, this.callbackTime, this.errorCode, this.errorInfo&#125;); /// æ ¹æ®ä¼ å…¥çš„mapç”ŸæˆBaiduLocationå¯¹è±¡ factory BaiduLocation.fromMap(dynamic value) &#123; return new BaiduLocation( locTime: value['locTime'], locType: value['locType'], radius: value['radius'], latitude: value['latitude'], longitude: value['longitude'], altitude: value['altitude'], country: value['country'], province: value['province'], city: value['city'], district: value['district'], street: value['street'], address: value['address'], locationDetail: value['locationDetail'], poiList: value['poiList'], callbackTime: value['callbackTime'], errorCode: value['errorCode'], errorInfo: value['errorInfo'], ); &#125; /// è·å–å¯¹æœ¬ç±»æ‰€æœ‰å˜é‡èµ‹å€¼åçš„mapé”®å€¼å¯¹ Map getMap() &#123; return &#123; \"locTime\": locTime, \"locType\": locType, \"radius\": radius, \"latitude\": latitude, \"longitude\": longitude, \"altitude\": altitude, \"country\": country, \"province\": province, \"city\": city, \"district\": district, \"street\": street, \"address\": address, \"locationDescribe\": locationDetail, \"poiList\": poiList, \"callbackTime\": callbackTime, \"errorCode\": errorCode, \"errorInfo\": errorInfo, &#125;; &#125;&#125; android é…ç½®é¡¹ lib/entity/flutter_baidu_location_android_option.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172/// è®¾ç½®androidç«¯å®šä½å‚æ•°ç±»class BaiduLocationAndroidOption &#123; /// åæ ‡ç³»ç±»å‹ String coorType; /// æ˜¯å¦éœ€è¦è¿”å›åœ°å€ä¿¡æ¯ bool isNeedAddres; /// æ˜¯å¦éœ€è¦è¿”å›æµ·æ‹”é«˜åº¦ä¿¡æ¯ bool isNeedAltitude; /// æ˜¯å¦éœ€è¦è¿”å›å‘¨è¾¹poiä¿¡æ¯ bool isNeedLocationPoiList; /// æ˜¯å¦éœ€è¦è¿”å›æ–°ç‰ˆæœ¬rgcä¿¡æ¯ bool isNeedNewVersionRgc; /// æ˜¯å¦éœ€è¦è¿”å›ä½ç½®æè¿°ä¿¡æ¯ bool isNeedLocationDescribe; /// æ˜¯å¦ä½¿ç”¨gps bool openGps; /// å¯é€‰ï¼Œè®¾ç½®å‘èµ·å®šä½è¯·æ±‚çš„é—´éš”ï¼Œintç±»å‹ï¼Œå•ä½ms /// å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä»£è¡¨å•æ¬¡å®šä½ï¼Œå³ä»…å®šä½ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º0 /// å¦‚æœè®¾ç½®é0ï¼Œéœ€è®¾ç½®1000msä»¥ä¸Šæ‰æœ‰æ•ˆ int scanspan; /// è®¾ç½®å®šä½æ¨¡å¼ï¼Œå¯é€‰çš„æ¨¡å¼æœ‰é«˜ç²¾åº¦ã€ä»…è®¾å¤‡ã€ä»…ç½‘ç»œã€‚é»˜è®¤ä¸ºé«˜ç²¾åº¦æ¨¡å¼ int locationMode; /// å¯é€‰ï¼Œè®¾ç½®åœºæ™¯å®šä½å‚æ•°ï¼ŒåŒ…æ‹¬ç­¾åˆ°åœºæ™¯ã€è¿åŠ¨åœºæ™¯ã€å‡ºè¡Œåœºæ™¯ int locationPurpose; /// å¯é€‰ï¼Œè®¾ç½®è¿”å›ç»çº¬åº¦åæ ‡ç±»å‹ï¼Œé»˜è®¤GCJ02 /// GCJ02ï¼šå›½æµ‹å±€åæ ‡ï¼› /// BD09llï¼šç™¾åº¦ç»çº¬åº¦åæ ‡ï¼› /// BD09ï¼šç™¾åº¦å¢¨å¡æ‰˜åæ ‡ï¼› /// æµ·å¤–åœ°åŒºå®šä½ï¼Œæ— éœ€è®¾ç½®åæ ‡ç±»å‹ï¼Œç»Ÿä¸€è¿”å›WGS84ç±»å‹åæ ‡ void setCoorType(String coorType) &#123; this.coorType = coorType; &#125; /// æ˜¯å¦éœ€è¦è¿”å›åœ°å€ä¿¡æ¯ void setIsNeedAddres(bool isNeedAddres) &#123; this.isNeedAddres = isNeedAddres; &#125; /// æ˜¯å¦éœ€è¦è¿”å›æµ·æ‹”é«˜åº¦ä¿¡æ¯ void setIsNeedAltitude(bool isNeedAltitude) &#123; this.isNeedAltitude = isNeedAltitude; &#125; /// æ˜¯å¦éœ€è¦è¿”å›å‘¨è¾¹poiä¿¡æ¯ void setIsNeedLocationPoiList(bool isNeedLocationPoiList) &#123; this.isNeedLocationPoiList = isNeedLocationPoiList; &#125; /// æ˜¯å¦éœ€è¦è¿”å›ä½ç½®æè¿°ä¿¡æ¯ void setIsNeedLocationDescribe(bool isNeedLocationDescribe) &#123; this.isNeedLocationDescribe = isNeedLocationDescribe; &#125; /// æ˜¯å¦éœ€è¦è¿”å›æ–°ç‰ˆæœ¬rgcä¿¡æ¯ void setIsNeedNewVersionRgc(bool isNeedNewVersionRgc) &#123; this.isNeedNewVersionRgc = isNeedNewVersionRgc; &#125; /// æ˜¯å¦ä½¿ç”¨gps void setOpenGps(bool openGps) &#123; this.openGps = openGps; &#125; /// å¯é€‰ï¼Œè®¾ç½®å‘èµ·å®šä½è¯·æ±‚çš„é—´éš”ï¼Œintç±»å‹ï¼Œå•ä½ms /// å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä»£è¡¨å•æ¬¡å®šä½ï¼Œå³ä»…å®šä½ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º0 /// å¦‚æœè®¾ç½®é0ï¼Œéœ€è®¾ç½®1000msä»¥ä¸Šæ‰æœ‰æ•ˆ void setScanspan(int scanspan) &#123; this.scanspan = scanspan; &#125; /// è®¾ç½®å®šä½æ¨¡å¼ï¼Œå¯é€‰çš„æ¨¡å¼æœ‰é«˜ç²¾åº¦ã€ä»…è®¾å¤‡ã€ä»…ç½‘ç»œï¼Œé»˜è®¤ä¸ºé«˜ç²¾åº¦æ¨¡å¼ void setLocationMode(LocationMode locationMode) &#123; if (locationMode == LocationMode.Hight_Accuracy) &#123; this.locationMode = 1; &#125; else if (locationMode == LocationMode.Device_Sensors) &#123; this.locationMode = 2; &#125; else if (locationMode == LocationMode.Battery_Saving) &#123; this.locationMode = 3; &#125; &#125; /// å¯é€‰ï¼Œè®¾ç½®åœºæ™¯å®šä½å‚æ•°ï¼ŒåŒ…æ‹¬ç­¾åˆ°åœºæ™¯ã€è¿åŠ¨åœºæ™¯ã€å‡ºè¡Œåœºæ™¯ void setLocationPurpose(BDLocationPurpose locationPurpose) &#123; if (locationPurpose == BDLocationPurpose.SignIn) &#123; this.locationPurpose = 1; &#125; else if (locationPurpose == BDLocationPurpose.Transport) &#123; this.locationPurpose = 2; &#125; else if (locationPurpose == BDLocationPurpose.Sport) &#123; this.locationPurpose = 3; &#125; &#125; BaiduLocationAndroidOption( &#123;this.coorType, this.isNeedAddres, this.isNeedAltitude, this.isNeedLocationPoiList, this.isNeedNewVersionRgc, this.openGps, this.isNeedLocationDescribe, this.scanspan, this.locationMode, this.locationPurpose&#125;); /// æ ¹æ®ä¼ å…¥çš„mapç”ŸæˆBaiduLocationAndroidOptionå¯¹è±¡ factory BaiduLocationAndroidOption.fromMap(dynamic value) &#123; return new BaiduLocationAndroidOption( coorType: value['coorType'], isNeedAddres: value['isNeedAddres'], isNeedAltitude: value['isNeedAltitude'], isNeedLocationPoiList: value['isNeedLocationPoiList'], isNeedNewVersionRgc: value['isNeedNewVersionRgc'], openGps: value['openGps'], isNeedLocationDescribe: value[''], scanspan: value['scanspan'], locationMode: value['locationMode'], locationPurpose: value['LocationPurpose'], ); &#125; /// è·å–å¯¹æœ¬ç±»æ‰€æœ‰å˜é‡èµ‹å€¼åçš„mapé”®å€¼å¯¹ Map getMap() &#123; return &#123; \"coorType\": coorType, \"isNeedAddres\": isNeedAddres, \"isNeedAltitude\": isNeedAltitude, \"isNeedLocationPoiList\": isNeedLocationPoiList, \"isNeedNewVersionRgc\": isNeedNewVersionRgc, \"openGps\": openGps, \"isNeedLocationDescribe\": isNeedLocationDescribe, \"scanspan\": scanspan, \"locationMode\": locationMode, &#125;; &#125;&#125;/// å®šä½æ¨¡å¼æšä¸¾ç±»enum LocationMode &#123; /// é«˜ç²¾åº¦æ¨¡å¼ Hight_Accuracy, /// ä½åŠŸè€—æ¨¡å¼ Battery_Saving, /// ä»…è®¾å¤‡(Gps)æ¨¡å¼ Device_Sensors&#125;/// åœºæ™¯å®šä½æšä¸¾ç±»enum BDLocationPurpose &#123; /// ç­¾åˆ°åœºæ™¯ /// åªè¿›è¡Œä¸€æ¬¡å®šä½è¿”å›æœ€æ¥è¿‘çœŸå®ä½ç½®çš„å®šä½ç»“æœï¼ˆå®šä½é€Ÿåº¦å¯èƒ½ä¼šå»¶è¿Ÿ1-3sï¼‰ SignIn, /// å‡ºè¡Œåœºæ™¯ /// é«˜ç²¾åº¦è¿ç»­å®šä½ï¼Œé€‚ç”¨äºæœ‰æˆ·å†…å¤–åˆ‡æ¢çš„åœºæ™¯ï¼Œå«æ˜Ÿå®šä½å’Œç½‘ç»œå®šä½ç›¸äº’åˆ‡æ¢ï¼Œå«æ˜Ÿå®šä½æˆåŠŸä¹‹åç½‘ç»œå®šä½ä¸å†è¿”å›ï¼Œå«æ˜Ÿä¿¡å·æ–­å¼€ä¹‹åä¸€æ®µæ—¶é—´æ‰ä¼šè¿”å›ç½‘ç»œç»“æœ Sport, /// è¿åŠ¨åœºæ™¯ /// é«˜ç²¾åº¦è¿ç»­å®šä½ï¼Œé€‚ç”¨äºæœ‰æˆ·å†…å¤–åˆ‡æ¢çš„åœºæ™¯ï¼Œå«æ˜Ÿå®šä½å’Œç½‘ç»œå®šä½ç›¸äº’åˆ‡æ¢ï¼Œå«æ˜Ÿå®šä½æˆåŠŸä¹‹åç½‘ç»œå®šä½ä¸å†è¿”å›ï¼Œå«æ˜Ÿä¿¡å·æ–­å¼€ä¹‹åä¸€æ®µæ—¶é—´æ‰ä¼šè¿”å›ç½‘ç»œç»“æœ Transport&#125; ios é…ç½®é¡¹ lib/entity/flutter_baidu_location_ios_option.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139/// è®¾ç½®iosç«¯å®šä½å‚æ•°ç±»class BaiduLocationIOSOption &#123; /// è®¾ç½®ä½ç½®è·å–è¶…æ—¶æ—¶é—´ int locationTimeout; /// è®¾ç½®è·å–åœ°å€ä¿¡æ¯è¶…æ—¶æ—¶é—´ int reGeocodeTimeout; /// è®¾ç½®åº”ç”¨ä½ç½®ç±»å‹ String activityType; /// è®¾ç½®è¿”å›ä½ç½®çš„åæ ‡ç³»ç±»å‹ String BMKLocationCoordinateType; /// è®¾ç½®é¢„æœŸç²¾åº¦å‚æ•° String desiredAccuracy; /// æ˜¯å¦éœ€è¦æœ€æ–°ç‰ˆæœ¬rgcæ•°æ® bool isNeedNewVersionRgc; /// æŒ‡å®šå®šä½æ˜¯å¦ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ bool pausesLocationUpdatesAutomatically; /// æŒ‡å®šæ˜¯å¦å…è®¸åå°å®šä½ bool allowsBackgroundLocationUpdates; /// è®¾å®šå®šä½çš„æœ€å°æ›´æ–°è·ç¦» double distanceFilter; /// æŒ‡å®šæ˜¯å¦å…è®¸åå°å®šä½ /// allowsBackgroundLocationUpdatesä¸ºtrueåˆ™å…è®¸åå°å®šä½ /// allowsBackgroundLocationUpdatesä¸ºfalseåˆ™ä¸å…è®¸åå°å®šä½ void setAllowsBackgroundLocationUpdates( bool allowsBackgroundLocationUpdates) &#123; this.allowsBackgroundLocationUpdates = allowsBackgroundLocationUpdates; &#125; /// æŒ‡å®šå®šä½æ˜¯å¦ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ /// pausesLocationUpdatesAutomaticallyä¸ºtrueåˆ™å®šä½ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ /// pausesLocationUpdatesAutomaticallyä¸ºfalseåˆ™å®šä½ä¸ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ void setPauseLocUpdateAutomatically(bool pausesLocationUpdatesAutomatically) &#123; this.pausesLocationUpdatesAutomatically = pausesLocationUpdatesAutomatically; &#125; /// è®¾ç½®ä½ç½®è·å–è¶…æ—¶æ—¶é—´ void setLocationTimeout(int locationTimeout) &#123; this.locationTimeout = locationTimeout; &#125; /// è®¾ç½®è·å–åœ°å€ä¿¡æ¯è¶…æ—¶æ—¶é—´ void setReGeocodeTimeout(int reGeocodeTimeout) &#123; this.reGeocodeTimeout = reGeocodeTimeout; &#125; /// è®¾ç½®åº”ç”¨ä½ç½®ç±»å‹ /// activityTypeå¯é€‰å€¼åŒ…æ‹¬: /// \"CLActivityTypeOther\" /// \"CLActivityTypeAutomotiveNavigation\" /// \"CLActivityTypeFitness\" /// \"CLActivityTypeOtherNavigation\" void setActivityType(String activityType) &#123; this.activityType = activityType; &#125; /// è®¾ç½®è¿”å›ä½ç½®çš„åæ ‡ç³»ç±»å‹ /// BMKLocationCoordinateTypeå¯é€‰å€¼åŒ…æ‹¬: /// \"BMKLocationCoordinateTypeBMK09LL\" /// \"BMKLocationCoordinateTypeBMK09MC\" /// \"BMKLocationCoordinateTypeWGS84\" /// \"BMKLocationCoordinateTypeGCJ02\" void setBMKLocationCoordinateType(String BMKLocationCoordinateType) &#123; this.BMKLocationCoordinateType = BMKLocationCoordinateType; &#125; /// è®¾ç½®é¢„æœŸç²¾åº¦å‚æ•° /// desiredAccuracyå¯é€‰å€¼åŒ…æ‹¬: /// \"kCLLocationAccuracyBest\" /// \"kCLLocationAccuracyNearestTenMeters\" /// \"kCLLocationAccuracyHundredMeters\" /// \"kCLLocationAccuracyKilometer\" void setDesiredAccuracy(String desiredAccuracy) &#123; this.desiredAccuracy = desiredAccuracy; &#125; /// è®¾å®šå®šä½çš„æœ€å°æ›´æ–°è·ç¦» void setDistanceFilter(double distanceFilter) &#123; this.distanceFilter = distanceFilter; &#125; /// æ˜¯å¦éœ€è¦æœ€æ–°ç‰ˆæœ¬rgcæ•°æ® /// isNeedNewVersionRgcä¸ºtrueåˆ™éœ€è¦è¿”å›æœ€æ–°ç‰ˆæœ¬rgcæ•°æ® /// isNeedNewVersionRgcä¸ºfalseåˆ™ä¸éœ€è¦è¿”å›æœ€æ–°ç‰ˆæœ¬rgcæ•°æ® void setIsNeedNewVersionRgc(bool isNeedNewVersionRgc) &#123; this.isNeedNewVersionRgc = isNeedNewVersionRgc; &#125; BaiduLocationIOSOption( &#123;this.locationTimeout, this.reGeocodeTimeout, this.activityType, this.BMKLocationCoordinateType, this.desiredAccuracy, this.isNeedNewVersionRgc, this.pausesLocationUpdatesAutomatically, this.allowsBackgroundLocationUpdates, this.distanceFilter&#125;); /// æ ¹æ®ä¼ å…¥çš„mapç”ŸæˆBaiduLocationIOSOptionå¯¹è±¡ factory BaiduLocationIOSOption.fromMap(dynamic value) &#123; return new BaiduLocationIOSOption( locationTimeout: value['locationTimeout'], reGeocodeTimeout: value['reGeocodeTimeout'], activityType: value['activityType'], BMKLocationCoordinateType: value['BMKLocationCoordinateType'], desiredAccuracy: value['desiredAccuracy'], isNeedNewVersionRgc: value['isNeedNewVersionRgc'], pausesLocationUpdatesAutomatically: value['pausesLocationUpdatesAutomatically'], allowsBackgroundLocationUpdates: value['allowsBackgroundLocationUpdates'], distanceFilter: value['distanceFilter'], ); &#125; /// è·å–å¯¹æœ¬ç±»æ‰€æœ‰å˜é‡èµ‹å€¼åçš„mapé”®å€¼å¯¹ Map getMap() &#123; return &#123; \"locationTimeout\": locationTimeout, \"reGeocodeTimeout\": reGeocodeTimeout, \"activityType\": activityType, \"BMKLocationCoordinateType\": BMKLocationCoordinateType, \"desiredAccuracy\": desiredAccuracy, \"isNeedNewVersionRgc\": isNeedNewVersionRgc, \"pausesLocationUpdatesAutomatically\": pausesLocationUpdatesAutomatically, \"allowsBackgroundLocationUpdates\": allowsBackgroundLocationUpdates, \"distanceFilter\": distanceFilter, &#125;; &#125;&#125; æ¥å£ lib/flutter_baidu_plugin_ducafecat.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455import 'dart:async';import 'dart:io';import 'package:flutter/services.dart';class FlutterBaiduPluginDucafecat &#123; /// flutterç«¯ä¸»åŠ¨è°ƒç”¨åŸç”Ÿç«¯æ–¹æ³• static const MethodChannel _channel = const MethodChannel('flutter_baidu_plugin_ducafecat'); /// åŸç”Ÿç«¯ä¸»åŠ¨å›ä¼ ç»“æœæ•°æ®åˆ°flutterç«¯ static const EventChannel _stream = const EventChannel(\"flutter_baidu_plugin_ducafecat_stream\"); /// ios ä¸‹è®¾ç½® key /// android åœ¨ AndroidManifest.xml ä¸­è®¾ç½® static Future&lt;bool&gt; setApiKey(String key) async &#123; return await _channel.invokeMethod(\"setApiKey\", key); &#125; /// è®¾ç½®å®šä½å‚æ•° void prepareLoc(Map androidMap, Map iosMap) &#123; Map map; if (Platform.isAndroid) &#123; map = androidMap; &#125; else &#123; map = iosMap; &#125; _channel.invokeMethod(\"updateOption\", map); return; &#125; /// å¯åŠ¨å®šä½ void startLocation() &#123; _channel.invokeMethod('startLocation'); return; &#125; /// åœæ­¢å®šä½ void stopLocation() &#123; _channel.invokeMethod('stopLocation'); return; &#125; /// åŸç”Ÿç«¯å›ä¼ é”®å€¼å¯¹mapåˆ°flutterç«¯ /// mapä¸­keyä¸ºisInChinaå¯¹åº”çš„valueï¼Œå¦‚æœä¸º1åˆ™åˆ¤æ–­æ˜¯åœ¨å›½å†…ï¼Œä¸º0åˆ™åˆ¤æ–­æ˜¯åœ¨å›½å¤– /// mapä¸­å­˜åœ¨keyä¸ºnearbyåˆ™åˆ¤æ–­ä¸ºå·²åˆ°è¾¾è®¾ç½®ç›‘å¬ä½ç½®é™„è¿‘ Stream&lt;Map&lt;String, Object&gt;&gt; onResultCallback() &#123; Stream&lt;Map&lt;String, Object&gt;&gt; _resultMap; if (_resultMap == null) &#123; _resultMap = _stream.receiveBroadcastStream().map&lt;Map&lt;String, Object&gt;&gt;( (element) =&gt; element.cast&lt;String, Object&gt;()); &#125; return _resultMap; &#125;&#125; è§¦å‘ registerWith çš„æ–¹å¼ï¼Œè€é¡¹ç›® // This static function is optional and equivalent to onAttachedToEngine. It supports the old// pre-Flutter-1.12 Android projects. You are encouraged to continue supporting// plugin registration via this function while apps migrate to use the new Android APIs// post-flutter-1.12 via https://flutter.dev/go/android-project-migration. android ç»„ä»¶ä»£ç  android/src/main/java/tech/ducafecat/flutter_baidu_plugin_ducafecat/FlutterBaiduPluginDucafecatPlugin.java 123public static void registerWith(Registrar registrar) &#123; ......&#125; example android æ³¨å†Œç»„ä»¶ example/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java 123456789101112131415161718public final class GeneratedPluginRegistrant &#123; public static void registerWith(PluginRegistry registry) &#123; if (alreadyRegisteredWith(registry)) &#123; return; &#125; LocationFlutterPlugin.registerWith(registry.registrarFor(\"com.baidu.bdmap_location_flutter_plugin.LocationFlutterPlugin\")); PermissionHandlerPlugin.registerWith(registry.registrarFor(\"com.baseflow.permissionhandler.PermissionHandlerPlugin\")); &#125; private static boolean alreadyRegisteredWith(PluginRegistry registry) &#123; final String key = GeneratedPluginRegistrant.class.getCanonicalName(); if (registry.hasPlugin(key)) &#123; return true; &#125; registry.registrarFor(key); return false; &#125;&#125; æˆå‘˜å˜é‡ã€åŒæ­¥ã€å¼‚æ­¥å¤„ç†MethodChannel è¯·æ±‚æ–¹æ³•åï¼ŒåŒæ­¥è¿”å›ç»“æœ EventChannel ç»„ä»¶ä¸»åŠ¨æ¨æ¶ˆæ¯åˆ° Flutter android/src/main/java/tech/ducafecat/flutter_baidu_plugin_ducafecat/FlutterBaiduPluginDucafecatPlugin.java ç”¨åˆ°çš„æˆå‘˜å˜é‡å…ˆå®šä¹‰ä¸‹ 123456789101112131415161718public class FlutterBaiduPluginDucafecatPlugin implements FlutterPlugin, MethodCallHandler, EventChannel.StreamHandler &#123; // é€šé“åç§° private static final String CHANNEL_METHOD_LOCATION = \"flutter_baidu_plugin_ducafecat\"; private static final String CHANNEL_STREAM_LOCATION = \"flutter_baidu_plugin_ducafecat_stream\"; private Context mContext = null; // flutter view context private LocationClient mLocationClient = null; // å®šä½å¯¹è±¡ private EventChannel.EventSink mEventSink = null; // äº‹ä»¶å¯¹è±¡ private BDNotifyListener mNotifyListener; // ä½ç½®æé†’å¯¹è±¡ private boolean isPurporseLoc = false; // ç­¾åˆ°åœºæ™¯ private boolean isInChina = false; // æ˜¯å¦å¯ç”¨å›½å†…å¤–ä½ç½®åˆ¤æ–­åŠŸèƒ½ private boolean isNotify = false; // ä½ç½®æé†’ // é€šé“å¯¹è±¡ private MethodChannel channel = null; private EventChannel eventChannel = null; ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ æ–‡ä»¶ android/src/main/java/tech/ducafecat/flutter_baidu_plugin_ducafecat/FlutterBaiduPluginDucafecatPlugin.java ç»„ä»¶æ³¨å†Œ onAttachedToEngine 1234567891011121314151617@Overridepublic void onAttachedToEngine(@NonNull FlutterPluginBinding flutterPluginBinding) &#123; this.mContext = flutterPluginBinding.getApplicationContext(); /** * å¼€å§‹ã€åœæ­¢å®šä½ */ channel = new MethodChannel(flutterPluginBinding.getBinaryMessenger(), CHANNEL_METHOD_LOCATION); channel.setMethodCallHandler(this); /** * ç›‘å¬ä½ç½®å˜åŒ– */ eventChannel = new EventChannel(flutterPluginBinding.getBinaryMessenger(), CHANNEL_STREAM_LOCATION); eventChannel.setStreamHandler(this);&#125; è€é¡¹ç›® ç»„ä»¶æ³¨å†Œ registerWith 1234567891011121314151617181920 public static void registerWith(Registrar registrar) &#123; FlutterBaiduPluginDucafecatPlugin plugin = new FlutterBaiduPluginDucafecatPlugin(); plugin.mContext = registrar.context(); /** * å¼€å§‹ã€åœæ­¢å®šä½ */ final MethodChannel channel = new MethodChannel(registrar.messenger(), CHANNEL_METHOD_LOCATION); channel.setMethodCallHandler(plugin); /** * ç›‘å¬ä½ç½®å˜åŒ– */ final EventChannel eventChannel = new EventChannel(registrar.messenger(), CHANNEL_STREAM_LOCATION); eventChannel.setStreamHandler(plugin);// final MethodChannel channel = new MethodChannel(registrar.messenger(), \"flutter_baidu_plugin_ducafecat\");// channel.setMethodCallHandler(new FlutterBaiduPluginDucafecatPlugin()); &#125; æ³¨é”€ç»„ä»¶ onCancel 12345678910@Overridepublic void onCancel(Object arguments) &#123; stopLocation(); if (isNotify) &#123; if (null != mLocationClient) &#123; mLocationClient.removeNotifyEvent(mNotifyListener); &#125; mNotifyListener = null; &#125;&#125; é”€æ¯ç»„ä»¶ onDetachedFromEngine 12345@Overridepublic void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) &#123; channel.setMethodCallHandler(null); eventChannel.setStreamHandler(null);&#125; æ–¹æ³•è°ƒç”¨ onMethodCall 123456789101112131415161718@Overridepublic void onMethodCall(@NonNull MethodCall call, @NonNull Result result) &#123; if (\"startLocation\".equals(call.method)) &#123; startLocation(); // å¯åŠ¨å®šä½ &#125; else if (\"stopLocation\".equals(call.method)) &#123; stopLocation(); // åœæ­¢å®šä½ &#125; else if(\"updateOption\".equals(call.method)) &#123; // è®¾ç½®å®šä½å‚æ•° try &#123; updateOption((Map) call.arguments); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; else if ((\"getPlatformVersion\").equals(call.method)) &#123; result.success(\"Android \" + android.os.Build.VERSION.RELEASE); &#125; else &#123; result.notImplemented(); &#125;&#125; flutter onListen å›è°ƒå¯¹è±¡ 1234@Overridepublic void onListen(Object arguments, EventChannel.EventSink events) &#123; mEventSink = events;&#125; åœ°å›¾ä¸šåŠ¡å‚æ•° æ›´æ–°å‚æ•° updateOption 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455/** * å‡†å¤‡å®šä½ * @param arguments */private void updateOption(Map arguments) &#123; if (null == mLocationClient) &#123; mLocationClient = new LocationClient(mContext); &#125; // åˆ¤æ–­æ˜¯å¦å¯ç”¨ä½ç½®æé†’åŠŸèƒ½ if (arguments.containsKey(\"isNotify\")) &#123; isNotify = true; if (null == mNotifyListener) &#123; mNotifyListener = new MyNotifyLister(); &#125; mLocationClient.registerNotify(mNotifyListener); double lat = 0; double lon = 0; float radius = 0; if (arguments.containsKey(\"latitude\")) &#123; lat = (double)arguments.get(\"latitude\"); &#125; if (arguments.containsKey(\"longitude\")) &#123; lon = (double)arguments.get(\"longitude\"); &#125; if (arguments.containsKey(\"radius\")) &#123; double radius1 = (double)arguments.get(\"radius\"); radius = Float.parseFloat(String.valueOf(radius1)); &#125; String coorType = mLocationClient.getLocOption().getCoorType(); mNotifyListener.SetNotifyLocation(lat, lon, radius, coorType); return; &#125; else &#123; isNotify = false; &#125; mLocationClient.registerLocationListener(new CurrentLocationListener()); // åˆ¤æ–­æ˜¯å¦å¯ç”¨å›½å†…å¤–ä½ç½®åˆ¤æ–­åŠŸèƒ½ if (arguments.containsKey(\"isInChina\")) &#123; isInChina = true; return; &#125; else &#123; isInChina =false; &#125; LocationClientOption option = new LocationClientOption(); parseOptions(option, arguments); option.setProdName(\"flutter\"); mLocationClient.setLocOption(option);&#125; è§£æå®šä½å‚æ•° parseOptions 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102/** * è§£æå®šä½å‚æ•° * @param option * @param arguments */private void parseOptions(LocationClientOption option,Map arguments) &#123; if (arguments != null) &#123; // å¯é€‰ï¼Œè®¾ç½®æ˜¯å¦è¿”å›é€†åœ°ç†åœ°å€ä¿¡æ¯ã€‚é»˜è®¤æ˜¯true if (arguments.containsKey(\"isNeedAddres\")) &#123; if (((boolean)arguments.get(\"isNeedAddres\"))) &#123; option.setIsNeedAddress(true); &#125; else &#123; option.setIsNeedAddress(false); &#125; &#125; // å¯é€‰ï¼Œè®¾ç½®å®šä½æ¨¡å¼ï¼Œå¯é€‰çš„æ¨¡å¼æœ‰é«˜ç²¾åº¦ã€ä»…è®¾å¤‡ã€ä»…ç½‘ç»œã€‚é»˜è®¤ä¸ºé«˜ç²¾åº¦æ¨¡å¼ if (arguments.containsKey(\"locationMode\")) &#123; if (((int)arguments.get(\"locationMode\")) == 1) &#123; option.setLocationMode(LocationClientOption.LocationMode.Hight_Accuracy); // é«˜ç²¾åº¦æ¨¡å¼ &#125; else if (((int)arguments.get(\"locationMode\")) == 2) &#123; option.setLocationMode(LocationClientOption.LocationMode.Device_Sensors); // ä»…è®¾å¤‡æ¨¡å¼ &#125; else if (((int)arguments.get(\"locationMode\")) == 3) &#123; option.setLocationMode(LocationClientOption.LocationMode.Battery_Saving); // ä»…ç½‘ç»œæ¨¡å¼ &#125; &#125; // å¯é€‰ï¼Œè®¾ç½®åœºæ™¯å®šä½å‚æ•°ï¼ŒåŒ…æ‹¬ç­¾åˆ°åœºæ™¯ã€è¿åŠ¨åœºæ™¯ã€å‡ºè¡Œåœºæ™¯ if ((arguments.containsKey(\"LocationPurpose\"))) &#123; isPurporseLoc = true; if (((int)arguments.get(\"LocationPurpose\")) == 1) &#123; option.setLocationPurpose(LocationClientOption.BDLocationPurpose.SignIn); // ç­¾åˆ°åœºæ™¯ &#125; else if (((int)arguments.get(\"LocationPurpose\")) == 2) &#123; option.setLocationPurpose(LocationClientOption.BDLocationPurpose.Transport); // è¿åŠ¨åœºæ™¯ &#125; else if (((int)arguments.get(\"LocationPurpose\")) == 3) &#123; option.setLocationPurpose(LocationClientOption.BDLocationPurpose.Sport); // å‡ºè¡Œåœºæ™¯ &#125; &#125; else &#123; isPurporseLoc = false; &#125; // å¯é€‰ï¼Œè®¾ç½®éœ€è¦è¿”å›æµ·æ‹”é«˜åº¦ä¿¡æ¯ if (arguments.containsKey(\"isNeedAltitude\")) &#123; if (((boolean)arguments.get(\"isNeedAltitude\"))) &#123; option.setIsNeedAddress(true); &#125; else &#123; option.setIsNeedAltitude(false); &#125; &#125; // å¯é€‰ï¼Œè®¾ç½®æ˜¯å¦ä½¿ç”¨gpsï¼Œé»˜è®¤false if (arguments.containsKey(\"openGps\")) &#123; if(((boolean)arguments.get(\"openGps\"))) &#123; option.setOpenGps(true); &#125; else &#123; option.setOpenGps(false); &#125; &#125; // å¯é€‰ï¼Œè®¾ç½®æ˜¯å¦å…è®¸è¿”å›é€†åœ°ç†åœ°å€ä¿¡æ¯ï¼Œé»˜è®¤æ˜¯true if (arguments.containsKey(\"isNeedLocationDescribe\")) &#123; if(((boolean)arguments.get(\"isNeedLocationDescribe\"))) &#123; option.setIsNeedLocationDescribe(true); &#125; else &#123; option.setIsNeedLocationDescribe(false); &#125; &#125; // å¯é€‰ï¼Œè®¾ç½®å‘èµ·å®šä½è¯·æ±‚çš„é—´éš”ï¼Œintç±»å‹ï¼Œå•ä½ms // å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä»£è¡¨å•æ¬¡å®šä½ï¼Œå³ä»…å®šä½ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º0 // å¦‚æœè®¾ç½®é0ï¼Œéœ€è®¾ç½®1000msä»¥ä¸Šæ‰æœ‰æ•ˆ if (arguments.containsKey(\"scanspan\")) &#123; option.setScanSpan((int)arguments.get(\"scanspan\")); &#125; // å¯é€‰ï¼Œè®¾ç½®è¿”å›ç»çº¬åº¦åæ ‡ç±»å‹ï¼Œé»˜è®¤GCJ02 // GCJ02ï¼šå›½æµ‹å±€åæ ‡ï¼› // BD09llï¼šç™¾åº¦ç»çº¬åº¦åæ ‡ï¼› // BD09ï¼šç™¾åº¦å¢¨å¡æ‰˜åæ ‡ï¼› // æµ·å¤–åœ°åŒºå®šä½ï¼Œæ— éœ€è®¾ç½®åæ ‡ç±»å‹ï¼Œç»Ÿä¸€è¿”å›WGS84ç±»å‹åæ ‡ if (arguments.containsKey(\"coorType\")) &#123; option.setCoorType((String)arguments.get(\"coorType\")); &#125; // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›é™„è¿‘çš„poiåˆ—è¡¨ if (arguments.containsKey(\"isNeedLocationPoiList\")) &#123; if (((boolean)arguments.get(\"isNeedLocationPoiList\"))) &#123; option.setIsNeedLocationPoiList(true); &#125; else &#123; option.setIsNeedLocationPoiList(false); &#125; &#125; // è®¾ç½®æ˜¯å¦éœ€è¦æœ€æ–°ç‰ˆæœ¬rgcæ•°æ® if (arguments.containsKey(\"isNeedNewVersionRgc\")) &#123; if (((boolean)arguments.get(\"isNeedNewVersionRgc\"))) &#123; option.setIsNeedLocationPoiList(true); &#125; else &#123; option.setIsNeedLocationPoiList(false); &#125; &#125; &#125;&#125; ç¼–å†™å¯åŠ¨ã€åœæ­¢åŠŸèƒ½ å¼€å§‹å®šä½ 123456private void startLocation() &#123; if(null != mLocationClient) &#123; mLocationClient.start(); &#125;&#125; åœæ­¢å®šä½ 1234567private void stopLocation() &#123; if (null != mLocationClient) &#123; mLocationClient.stop(); mLocationClient = null; &#125;&#125; ç™¾åº¦å®šä½å›è°ƒ CurrentLocationListener 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116 /** * æ ¼å¼åŒ–æ—¶é—´ * * @param time * @param strPattern * @return */ private String formatUTC(long time, String strPattern) &#123; if (TextUtils.isEmpty(strPattern)) &#123; strPattern = \"yyyy-MM-dd HH:mm:ss\"; &#125; SimpleDateFormat sdf = null; try &#123; sdf = new SimpleDateFormat(strPattern, Locale.CHINA); sdf.applyPattern(strPattern); &#125; catch (Throwable e) &#123; e.printStackTrace(); &#125; return sdf == null ? \"NULL\" : sdf.format(time); &#125; class CurrentLocationListener extends BDAbstractLocationListener &#123; @Override public void onReceiveLocation(BDLocation bdLocation) &#123; if (null == mEventSink) &#123; return; &#125; Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(); // åˆ¤æ–­å›½å†…å¤–è·å–ç»“æœ if (isInChina) &#123; if (bdLocation.getLocationWhere() == BDLocation.LOCATION_WHERE_IN_CN) &#123; result.put(\"isInChina\", 1); // åœ¨å›½å†… &#125; else &#123; result.put(\"isInChina\", 0); // åœ¨å›½å¤– &#125; mEventSink.success(result); return; &#125; // åœºæ™¯å®šä½è·å–ç»“æœ if (isPurporseLoc) &#123; result.put(\"latitude\", bdLocation.getLatitude()); // çº¬åº¦ result.put(\"longitude\", bdLocation.getLongitude()); // ç»åº¦ mEventSink.success(result); return; &#125; result.put(\"callbackTime\", formatUTC(System.currentTimeMillis(), \"yyyy-MM-dd HH:mm:ss\")); if (null != bdLocation) &#123; if (bdLocation.getLocType() == BDLocation.TypeGpsLocation || bdLocation.getLocType() == BDLocation.TypeNetWorkLocation || bdLocation.getLocType() == BDLocation.TypeOffLineLocation) &#123; result.put(\"locType\", bdLocation.getLocType()); // å®šä½ç»“æœç±»å‹ result.put(\"locTime\", bdLocation.getTime()); // å®šä½æˆåŠŸæ—¶é—´ result.put(\"latitude\", bdLocation.getLatitude()); // çº¬åº¦ result.put(\"longitude\", bdLocation.getLongitude()); // ç»åº¦ if (bdLocation.hasAltitude()) &#123; result.put(\"altitude\", bdLocation.getAltitude()); // é«˜åº¦ &#125; result.put(\"radius\", Double.parseDouble(String.valueOf(bdLocation.getRadius()))); // å®šä½ç²¾åº¦ result.put(\"country\", bdLocation.getCountry()); // å›½å®¶ result.put(\"province\", bdLocation.getProvince()); // çœä»½ result.put(\"city\", bdLocation.getCity()); // åŸå¸‚ result.put(\"district\", bdLocation.getDistrict()); // åŒºåŸŸ result.put(\"town\", bdLocation.getTown()); // åŸé•‡ result.put(\"street\", bdLocation.getStreet()); // è¡—é“ result.put(\"address\", bdLocation.getAddrStr()); // åœ°å€ result.put(\"locationDetail\", bdLocation.getLocationDescribe()); // ä½ç½®è¯­ä¹‰åŒ–æè¿° if (null != bdLocation.getPoiList() &amp;&amp; !bdLocation.getPoiList().isEmpty()) &#123; List&lt;Poi&gt; pois = bdLocation.getPoiList(); StringBuilder stringBuilder = new StringBuilder(); if (pois.size() == 1) &#123; stringBuilder.append(pois.get(0).getName()).append(\",\").append(pois.get(0).getTags()) .append(pois.get(0).getAddr()); &#125; else &#123; for (int i = 0; i &lt; pois.size() - 1; i++) &#123; stringBuilder.append(pois.get(i).getName()).append(\",\").append(pois.get(i).getTags()) .append(pois.get(i).getAddr()).append(\"|\"); &#125; stringBuilder.append(pois.get(pois.size()-1).getName()).append(\",\").append(pois.get(pois.size()-1).getTags()) .append(pois.get(pois.size()-1).getAddr()); &#125; result.put(\"poiList\",stringBuilder.toString()); // å‘¨è¾¹poiä¿¡æ¯// &#125; if (bdLocation.getFloor() != null) &#123; // å½“å‰æ”¯æŒé«˜ç²¾åº¦å®¤å†…å®šä½ String buildingID = bdLocation.getBuildingID();// ç™¾åº¦å†…éƒ¨å»ºç­‘ç‰©ID String buildingName = bdLocation.getBuildingName();// ç™¾åº¦å†…éƒ¨å»ºç­‘ç‰©ç¼©å†™ String floor = bdLocation.getFloor();// å®¤å†…å®šä½çš„æ¥¼å±‚ä¿¡æ¯ï¼Œå¦‚ f1,f2,b1,b2 StringBuilder stringBuilder = new StringBuilder(); stringBuilder.append(buildingID).append(\"-\").append(buildingName).append(\"-\").append(floor); result.put(\"indoor\", stringBuilder.toString()); // å®¤å†…å®šä½ç»“æœä¿¡æ¯ mLocationClient.startIndoorMode();// å¼€å¯å®¤å†…å®šä½æ¨¡å¼ï¼ˆé‡å¤è°ƒç”¨ä¹Ÿæ²¡é—®é¢˜ï¼‰ï¼Œå¼€å¯åï¼Œå®šä½SDKä¼šèåˆå„ç§å®šä½ä¿¡æ¯ï¼ˆGPS,WI-FIï¼Œè“ç‰™ï¼Œä¼ æ„Ÿå™¨ç­‰ï¼‰è¿ç»­å¹³æ»‘çš„è¾“å‡ºå®šä½ç»“æœï¼› &#125; else &#123; mLocationClient.stopIndoorMode(); // å¤„äºå®¤å¤–åˆ™å…³é—­å®¤å†…å®šä½æ¨¡å¼ &#125; &#125; else &#123; result.put(\"errorCode\", bdLocation.getLocType()); // å®šä½ç»“æœé”™è¯¯ç  result.put(\"errorInfo\", bdLocation.getLocTypeDescription()); // å®šä½å¤±è´¥æè¿°ä¿¡æ¯ &#125; &#125; else &#123; result.put(\"errorCode\", -1); result.put(\"errorInfo\", \"location is null\"); &#125; mEventSink.success(result); // androidç«¯å®æ—¶æ£€æµ‹ä½ç½®å˜åŒ–ï¼Œå°†ä½ç½®ç»“æœå‘é€åˆ°flutterç«¯ &#125; &#125; ä½ç½®æé†’æœåŠ¡123456789101112public class MyNotifyLister extends BDNotifyListener &#123; // å·²åˆ°è¾¾è®¾ç½®ç›‘å¬ä½ç½®é™„è¿‘ public void onNotify(BDLocation mlocation, float distance)&#123; if (null == mEventSink) &#123; return; &#125; Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(); result.put(\"nearby\", \"å·²åˆ°è¾¾è®¾ç½®ç›‘å¬ä½ç½®é™„è¿‘\"); // 1ä¸ºå·²ç»åˆ°è¾¾ 0ä¸ºæœªåˆ°è¾¾ mEventSink.success(result); &#125;&#125; Example ä»£ç åŠ¨æ€æˆæƒ example/pubspec.yaml 1234567dependencies: flutter: sdk: flutter ... permission_handler: ^5.0.1+1 example/lib/main.dart 12345678910111213141516171819class _MyAppState extends State&lt;MyApp&gt; &#123; @override void initState() &#123; super.initState(); _requestPermission(); // æ‰§è¡Œæƒé™è¯·æ±‚ &#125; // åŠ¨æ€ç”³è¯·å®šä½æƒé™ Future&lt;bool&gt; _requestPermission() async &#123; Map&lt;Permission, PermissionStatus&gt; statuses = await [ Permission.location, Permission.storage, ].request(); return statuses[Permission.location].isGranted &amp;&amp; statuses[Permission.storage].isGranted; &#125;&#125; ä¸»ç•Œé¢ä»£ç  example/lib/main.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879import 'dart:io';import 'package:flutter/material.dart';import 'dart:async';import 'package:flutter_baidu_plugin_ducafecat/flutter_baidu_plugin_ducafecat.dart';import 'package:flutter_baidu_plugin_ducafecat_example/views/location-view.dart';import 'package:permission_handler/permission_handler.dart';void main() &#123; runApp(MyApp());&#125;class MyApp extends StatefulWidget &#123; @override _MyAppState createState() =&gt; _MyAppState();&#125;class _MyAppState extends State&lt;MyApp&gt; &#123; @override void initState() &#123; super.initState(); _requestPermission(); // æ‰§è¡Œæƒé™è¯·æ±‚ if (Platform.isIOS == true) &#123; FlutterBaiduPluginDucafecat.setApiKeyForIOS( \"dkYT07blcAj3drBbcN1eGFYqt16HP1pR\"); &#125; &#125; @override void dispose() &#123; super.dispose(); &#125; // åŠ¨æ€ç”³è¯·å®šä½æƒé™ Future&lt;bool&gt; _requestPermission() async &#123; Map&lt;Permission, PermissionStatus&gt; statuses = await [ Permission.location, Permission.storage, ].request(); return statuses[Permission.location].isGranted &amp;&amp; statuses[Permission.storage].isGranted; &#125; @override Widget build(BuildContext context) &#123; return MaterialApp( routes: &#123; \"location_view\": (context) =&gt; LocationView(), &#125;, home: MyHome(), ); &#125;&#125;class MyHome extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: AppBar(title: Text('åœ°å›¾æ’ä»¶')), body: SingleChildScrollView( child: Column( children: [ ListTile( title: Text('å®šä½ä¿¡æ¯'), subtitle: Text('ç‚¹å‡»å¼€å§‹åï¼Œç™¾åº¦åœ°å›¾å®æ—¶æ¨é€ç»çº¬åº¦ä¿¡æ¯'), leading: Icon(Icons.location_searching), trailing: Icon(Icons.keyboard_arrow_right), onTap: () &#123; Navigator.pushNamed(context, \"location_view\"); &#125;, ) ], ), ), ); &#125;&#125; å®šä½æœåŠ¡ä»£ç  example/lib/views/location-view.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232import 'dart:async';import 'package:flutter/material.dart';import 'package:flutter_baidu_plugin_ducafecat/entity/flutter_baidu_location.dart';import 'package:flutter_baidu_plugin_ducafecat/entity/flutter_baidu_location_android_option.dart';import 'package:flutter_baidu_plugin_ducafecat/entity/flutter_baidu_location_ios_option.dart';import 'package:flutter_baidu_plugin_ducafecat/flutter_baidu_plugin_ducafecat.dart';class LocationView extends StatefulWidget &#123; LocationView(&#123;Key key&#125;) : super(key: key); @override _LocationViewState createState() =&gt; _LocationViewState();&#125;class _LocationViewState extends State&lt;LocationView&gt; &#123; FlutterBaiduPluginDucafecat _locationPlugin = FlutterBaiduPluginDucafecat(); StreamSubscription&lt;Map&lt;String, Object&gt;&gt; _locationListener; // äº‹ä»¶ç›‘å¬ BaiduLocation _baiduLocation; // ç»çº¬åº¦ä¿¡æ¯ // Map&lt;String, Object&gt; _loationResult; // è¿”å›æ ¼å¼æ•°æ® @override void dispose() &#123; super.dispose(); // å–æ¶ˆç›‘å¬ if (null != _locationListener) &#123; _locationListener.cancel(); &#125; &#125; // è¿”å›å®šä½ä¿¡æ¯ void _setupListener() &#123; if (_locationListener != null) &#123; return; &#125; _locationListener = _locationPlugin.onResultCallback().listen((Map&lt;String, Object&gt; result) &#123; setState(() &#123; // _loationResult = result; try &#123; _baiduLocation = BaiduLocation.fromMap(result); print(_baiduLocation); &#125; catch (e) &#123; print(e); &#125; &#125;); &#125;); &#125; // è®¾ç½®androidç«¯å’Œiosç«¯å®šä½å‚æ•° void _setLocOption() &#123; // android ç«¯è®¾ç½®å®šä½å‚æ•° BaiduLocationAndroidOption androidOption = new BaiduLocationAndroidOption(); androidOption.setCoorType(\"bd09ll\"); // è®¾ç½®è¿”å›çš„ä½ç½®åæ ‡ç³»ç±»å‹ androidOption.setIsNeedAltitude(true); // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›æµ·æ‹”é«˜åº¦ä¿¡æ¯ androidOption.setIsNeedAddres(true); // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›åœ°å€ä¿¡æ¯ androidOption.setIsNeedLocationPoiList(true); // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›å‘¨è¾¹poiä¿¡æ¯ androidOption.setIsNeedNewVersionRgc(true); // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›æœ€æ–°ç‰ˆæœ¬rgcä¿¡æ¯ androidOption.setIsNeedLocationDescribe(true); // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›ä½ç½®æè¿° androidOption.setOpenGps(true); // è®¾ç½®æ˜¯å¦éœ€è¦ä½¿ç”¨gps androidOption.setLocationMode(LocationMode.Hight_Accuracy); // è®¾ç½®å®šä½æ¨¡å¼ androidOption.setScanspan(1000); // è®¾ç½®å‘èµ·å®šä½è¯·æ±‚æ—¶é—´é—´éš” Map androidMap = androidOption.getMap(); // ios ç«¯è®¾ç½®å®šä½å‚æ•° BaiduLocationIOSOption iosOption = new BaiduLocationIOSOption(); iosOption.setIsNeedNewVersionRgc(true); // è®¾ç½®æ˜¯å¦éœ€è¦è¿”å›æœ€æ–°ç‰ˆæœ¬rgcä¿¡æ¯ iosOption.setBMKLocationCoordinateType( \"BMKLocationCoordinateTypeBMK09LL\"); // è®¾ç½®è¿”å›çš„ä½ç½®åæ ‡ç³»ç±»å‹ iosOption.setActivityType(\"CLActivityTypeAutomotiveNavigation\"); // è®¾ç½®åº”ç”¨ä½ç½®ç±»å‹ iosOption.setLocationTimeout(10); // è®¾ç½®ä½ç½®è·å–è¶…æ—¶æ—¶é—´ iosOption.setDesiredAccuracy(\"kCLLocationAccuracyBest\"); // è®¾ç½®é¢„æœŸç²¾åº¦å‚æ•° iosOption.setReGeocodeTimeout(10); // è®¾ç½®è·å–åœ°å€ä¿¡æ¯è¶…æ—¶æ—¶é—´ iosOption.setDistanceFilter(100); // è®¾ç½®å®šä½æœ€å°æ›´æ–°è·ç¦» iosOption.setAllowsBackgroundLocationUpdates(true); // æ˜¯å¦å…è®¸åå°å®šä½ iosOption.setPauseLocUpdateAutomatically(true); // å®šä½æ˜¯å¦ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æš‚åœ Map iosMap = iosOption.getMap(); _locationPlugin.prepareLoc(androidMap, iosMap); &#125; // å¯åŠ¨å®šä½ void _handleStartLocation() &#123; if (null != _locationPlugin) &#123; _setupListener(); _setLocOption(); _locationPlugin.startLocation(); &#125; &#125; // åœæ­¢å®šä½ void _handleStopLocation() &#123; if (null != _locationPlugin) &#123; _locationPlugin.stopLocation(); setState(() &#123; _baiduLocation = null; &#125;); &#125; &#125; //////////////////////////////////////////////////////////// // æ˜¾ç¤ºåœ°ç†ä¿¡æ¯ Widget _buildLocationView() &#123; return _baiduLocation != null ? Table( children: [ TableRow(children: [ TableCell(child: Text('ç»åº¦')), TableCell(child: Text(_baiduLocation.longitude.toString())), ]), TableRow(children: [ TableCell(child: Text('çº¬åº¦')), TableCell(child: Text(_baiduLocation.latitude.toString())), ]), TableRow(children: [ TableCell(child: Text('å›½å®¶')), TableCell( child: Text(_baiduLocation.country != null ? _baiduLocation.country : \"\")), ]), TableRow(children: [ TableCell(child: Text('çœä»½')), TableCell( child: Text(_baiduLocation.province != null ? _baiduLocation.province : \"\")), ]), TableRow(children: [ TableCell(child: Text('åŸå¸‚')), TableCell( child: Text(_baiduLocation.city != null ? _baiduLocation.city : \"\")), ]), TableRow(children: [ TableCell(child: Text('åŒºå¿')), TableCell( child: Text(_baiduLocation.district != null ? _baiduLocation.district : \"\")), ]), TableRow(children: [ TableCell(child: Text('è¡—é“')), TableCell( child: Text(_baiduLocation.street != null ? _baiduLocation.street : \"\")), ]), TableRow(children: [ TableCell(child: Text('åœ°å€')), TableCell( child: Text(_baiduLocation.address != null ? _baiduLocation.address : \"\")), ]), TableRow(children: [ TableCell(child: Text('ä½ç½®è¯­ä¹‰åŒ–æè¿°')), TableCell( child: Text(_baiduLocation.locationDetail != null ? _baiduLocation.locationDetail : \"\")), ]), TableRow(children: [ TableCell(child: Text('å‘¨è¾¹poiä¿¡æ¯')), TableCell( child: Text(_baiduLocation.poiList != null ? _baiduLocation.poiList : \"\")), ]), TableRow(children: [ TableCell(child: Text('é”™è¯¯ç ')), TableCell( child: Text(_baiduLocation.errorCode != null ? _baiduLocation.errorCode.toString() : \"\")), ]), TableRow(children: [ TableCell(child: Text('å®šä½å¤±è´¥æè¿°ä¿¡æ¯')), TableCell( child: Text(_baiduLocation.errorInfo != null ? _baiduLocation.errorInfo : \"\")), ]), ], ) : Container(); &#125; // æ§åˆ¶é¢æ¿ Widget _buildControlPlan() &#123; return Row( mainAxisAlignment: MainAxisAlignment.center, children: [ MaterialButton( color: Colors.blue, textColor: Colors.white, onPressed: _baiduLocation == null ? _handleStartLocation : null, child: Text('å¼€å§‹å®šä½'), ), MaterialButton( color: Colors.blue, textColor: Colors.white, onPressed: _baiduLocation != null ? _handleStopLocation : null, child: Text('æš‚åœå®šä½'), ) ], ); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: AppBar( title: Text('å®šä½ä¿¡æ¯'), ), body: SingleChildScrollView( child: Column( children: [ _buildControlPlan(), Divider(), _buildLocationView(), ], ), ), ); &#125;&#125; å‚è€ƒ https://lbsyun.baidu.com/apiconsole/key#/home http://lbsyun.baidu.com/index.php?title=android-locsdk Â© çŒ«å“¥ https://ducafecat.techhttps://ducafecat.gitee.io","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter æ··åˆå¼€å‘ - 01 ç¼–å†™è®¾å¤‡ç«¯ç»„ä»¶çš„æ­£ç¡®å§¿åŠ¿!","date":"2020-07-29T16:00:00.000Z","path":"2020/07/30/flutter-daily/flutter-plugins-01-developing-packages-plugins/","text":"æœ¬èŠ‚ç›®æ ‡ é—²é±¼æ‰‹å†Œä¸­æåˆ°çš„æ··åˆå¼€å‘ ç¼–å†™åˆ°ä½¿ç”¨ä¸€ä¸ª flutter ç»„ä»¶çš„å®Œæ•´è¿‡ç¨‹ è§†é¢‘https://www.bilibili.com/video/bv1iT4y1j72t ä»£ç https://github.com/ducafecat/flutter_baidu_plugin_ducafecat/releases/tag/1.0.1 æ­£æ–‡ä»å¤è‡³ä»Šã€ç§»åŠ¨å¼€å‘ä¸å¯å›é¿çš„é—®é¢˜ flutterã€weexã€React Nativeã€Cordova å¼€å‘æ¨¡å¼ èŠèŠ Flutter in Action é—²é±¼æœ€ä½³å®è·µç”µå­ä¹¦ä¸‹è½½ https://c.tb.cn/I3.ZZpRl ç¬¬äºŒä»£æ··åˆæŠ€æœ¯æ–¹æ¡ˆ FlutterBoost é¡¹ç›®å¼€æºåœ°å€ https://github.com/alibaba/flutter_boost æ¶æ„å›¾ Native å±‚æ¦‚å¿µ â— Containerï¼šNative å®¹å™¨ï¼Œå¹³å° Controllerï¼ŒActivityï¼ŒViewControllerâ— Container Managerï¼šå®¹å™¨çš„ç®¡ç†è€…â— Adaptorï¼šFlutter æ˜¯é€‚é…å±‚â— Messagingï¼šåŸºäº Channel çš„æ¶ˆæ¯é€šä¿¡ Dart å±‚æ¦‚å¿µ â— Containerï¼šFlutter ç”¨æ¥å®¹çº³ Widget çš„å®¹å™¨ï¼Œå…·ä½“å®ç°ä¸º Navigator çš„æ´¾ç”Ÿç±»â— Container Managerï¼šFlutter å®¹å™¨çš„ç®¡ç†ï¼Œæä¾› showï¼Œremove ç­‰ Apiâ— Coordinator: åè°ƒå™¨ï¼Œæ¥å— Messaging æ¶ˆæ¯ï¼Œè´Ÿè´£è°ƒç”¨ Container Manager çš„çŠ¶æ€ç®¡ç†ã€‚â— Messagingï¼šåŸºäº Channel çš„æ¶ˆæ¯é€šä¿¡ Flutter &amp; FaaS äº‘ç«¯ä¸€ä½“åŒ– Flutter ä¼šä¸ºä»¥ä¸‹å›¢é˜Ÿå¸¦æ¥è¾ƒå¤§çš„æ”¶ç›Š Flutter Redux æ··åˆå·¥ç¨‹ä¸‹çš„ Flutter ç ”å‘ç»“æ„ åŠ¨æ‰‹å†™ç¬¬ä¸€ä¸ª Flutter ç»„ä»¶åˆ›å»º flutter ç»„ä»¶å·¥ç¨‹1$ flutter create --org tech.ducafecat --template=plugin -a java -i objc flutter-baidu-plugin-ducafecat åŠ å…¥ åŠ æ³• å‡½æ•° dart ä»£ç  lib/flutter_baidu_plugin_ducafecat.dart 123456789101112131415161718import 'dart:async';import 'package:flutter/services.dart';class FlutterBaiduPluginDucafecat &#123; static const MethodChannel _channel = const MethodChannel('flutter_baidu_plugin_ducafecat'); static Future&lt;String&gt; get platformVersion async &#123; final String version = await _channel.invokeMethod('getPlatformVersion'); return version; &#125; static Future&lt;int&gt; duAddOne(int num) async &#123; final int val = await _channel.invokeMethod('duAddOne', &#123;\"num\": num&#125;); return val; &#125;&#125; android ä»£ç  android/src/main/java/tech/ducafecat/flutter_baidu_plugin_ducafecat/FlutterBaiduPluginDucafecatPlugin.java 1234567891011121314@Overridepublic void onMethodCall(@NonNull MethodCall call, @NonNull Result result) &#123; if (call.method.equals(\"getPlatformVersion\")) &#123; result.success(\"Android \" + android.os.Build.VERSION.RELEASE); &#125; else if (call.method.equals(\"duAddOne\")) &#123; int val = 100; val += Integer.valueOf(call.argument(\"num\").toString()); result.success(val); &#125; else &#123; result.notImplemented(); &#125;&#125; ios ä»£ç  ios/Classes/FlutterBaiduPluginDucafecatPlugin.m 1234567891011121314151617181920212223242526#import \"FlutterBaiduPluginDucafecatPlugin.h\"@implementation FlutterBaiduPluginDucafecatPlugin+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar &#123; FlutterMethodChannel* channel = [FlutterMethodChannel methodChannelWithName:@\"flutter_baidu_plugin_ducafecat\" binaryMessenger:[registrar messenger]]; FlutterBaiduPluginDucafecatPlugin* instance = [[FlutterBaiduPluginDucafecatPlugin alloc] init]; [registrar addMethodCallDelegate:instance channel:channel];&#125;- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result &#123; if ([@\"getPlatformVersion\" isEqualToString:call.method]) &#123; result([@\"iOS \" stringByAppendingString:[[UIDevice currentDevice] systemVersion]]); &#125; else if ([@\"duAddOne\" isEqualToString:call.method]) &#123; NSInteger val = 100; val += [[call.arguments objectForKey:@\"num\"] intValue]; result([NSNumber numberWithLong:val]); &#125; else &#123; result(FlutterMethodNotImplemented); &#125;&#125;@end æ–°å»ºå·¥ç¨‹è°ƒç”¨ pubspec.yaml 1234flutter_baidu_plugin_ducafecat: git: url: https://github.com/ducafecat/flutter_baidu_plugin_ducafecat version: ^0.0.1 è°ƒç”¨ åŠ æ³• 1234void _incrementCounter() async &#123; _counter = await FlutterBaiduPluginDucafecat.duAddOne(20); setState(() &#123;&#125;);&#125; å‚è€ƒ https://cordova.apache.org/ https://reactnative.dev/ https://flutter.dev/ https://weex.apache.org/ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 17 headless strapi centos å‘å¸ƒéƒ¨ç½² + jmeter å‹æµ‹","date":"2020-07-20T16:00:00.000Z","path":"2020/07/21/flutter-project/flutter-project-news-17-strapi-docker-compose-deploy-jmeter/","text":"æœ¬èŠ‚ç›®æ ‡ ä¸Šä¼ ä»£ç åˆ°ç”Ÿäº§ç¯å¢ƒ é…ç½®å‘å¸ƒç¯å¢ƒä»£ç  docker-compose æ–¹å¼å¯åŠ¨é¡¹ç›® jmeter åšåŸºçº¿æµ‹è¯• è°ƒä¼˜æœåŠ¡å™¨é…ç½® è§†é¢‘https://www.bilibili.com/video/BV15v411q7CK/ strapi è¿è¡Œç¯å¢ƒç½‘ç›˜ä¸‹è½½ ç½‘ç›˜ é“¾æ¥:https://pan.baidu.com/s/13Ujy2hzXp8tSqxCx_4IhVQå¯†ç :yu82 è¿è¡Œ æœ¬èŠ‚ä¸‹è½½ strapi-docker-compose-16.zip è¿™ä¸ªæ–‡ä»¶ éœ€è¦ç”¨ docker-compose å¯åŠ¨è´¦å· adminå¯†ç  123456 12345# å¯åŠ¨docker-compose up -d --remove-orphans# å…³é—­docker-compose down æ­£æ–‡æ‰“åŒ…ä¸Šä¼ æœåŠ¡å™¨ æœåŠ¡å™¨é…ç½® è€ƒè™‘åˆ°åŸºçº¿å‹æµ‹ä¼˜åŒ–ï¼Œæ‰€ä»¥ä¸€å¼€å§‹ä½äº› æœåŠ¡å™¨ cpu1 æ ¸å¿ƒ 2G å†…å­˜ å¦‚ä½•é…ç½® centos æœåŠ¡å™¨ å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç«  https://ducafecat.tech/2020/05/29/docker/docker-02-windows-vmware-centos-setup/ https://youtu.be/NJIwbs8qmDY æŠŠæ‰€æœ‰æ–‡ä»¶ tarã€zip æ‰“åŒ…åä¸Šä¼  123&gt; yum install -y zip unzip&gt; unzip filename.zip ä¿®æ”¹ graphql é…ç½® æ–‡ä»¶ ./config/plugins.js 1234567891011module.exports = &#123; // graphql: &#123; endpoint: \"/graphql\", tracing: false, shadowCRUD: true, playgroundAlways: false, depthLimit: 7, amountLimit: 100, &#125;,&#125;; åç§° è¯´æ˜ endpoint å¯¹å¤–è·¯å¾„ tracing åé¦ˆæ€§èƒ½æŠ¥å‘Š shadowCRUD æ”¯æŒ CRUD æ“ä½œ playgroundAlways æ˜¾ç¤ºè°ƒè¯•ç•Œé¢ depthLimit æŸ¥è¯¢æ·±åº¦é™åˆ¶ amountLimit æŸ¥è¯¢é¡¹ç›®ä¸ªæ•° å‚æ•°è¯´æ˜ ä¿®æ”¹ admin é¢æ¿åœ°å€ æ–‡ä»¶ ./config/server.js 1234567module.exports = (&#123; env &#125;) =&gt; (&#123; host: env(\"HOST\", \"0.0.0.0\"), port: env.int(\"PORT\", 1337), admin: &#123; url: \"/dashboard\", &#125;,&#125;); é»˜è®¤ admin ä¸å®‰å…¨ï¼Œå¯ä»¥æ”¹æˆå¥‡æ€ªçš„è·¯å¾„ dfasdx97s7 è¿™ç§ strapi build ç¼–è¯‘ å®‰è£… portainer 12345docker run -d -p 9000:9000 \\ --restart=always \\ -v /var/run/docker.sock:/var/run/docker.sock \\ --name portainer-local \\ portainer/portainer ç”¨å·¥å…· portainer è¿›å…¥å®¹å™¨ 1&gt; strapi build ä¿®æ”¹ docker-compose å‘½ä»¤12345678910...strapi-app: image: strapi/strapi container_name: strapi-app restart: always ports: - 1337:1337 command: strapi start environment: ... jmeter å‹ç¬¬ä¸€è½® - æœåŠ¡å™¨ cpu1 æ ¸å¿ƒ 2G å†…å­˜ æµ‹è¯•å·¥å…· https://jmeter.apache.org/download_jmeter.cgi éœ€è¦å®‰è£… java è¿è¡Œç¯å¢ƒ jre 1.8 æµ‹è¯•å†…å®¹ æ–°é—»é¦–é¡µ 123post /graphql&#123;&quot;operationName&quot;:&quot;pageIndex&quot;,&quot;variables&quot;:&#123;&#125;,&quot;query&quot;:&quot;query pageIndex &#123;\\n dictCategories(sort: \\&quot;sortNum:desc\\&quot;) &#123;\\n code\\n title\\n &#125;\\n dictChannels(sort: \\&quot;sortNum:desc\\&quot;) &#123;\\n code\\n title\\n icon &#123;\\n url\\n &#125;\\n &#125;\\n busNews(where: &#123;dict_categories: &#123;code: \\&quot;news_hot\\&quot;&#125;&#125;) &#123;\\n title\\n dict_channel &#123;\\n code\\n title\\n icon &#123;\\n url\\n &#125;\\n &#125;\\n dict_categories &#123;\\n code\\n title\\n &#125;\\n author\\n url\\n addtime\\n thumbnail &#123;\\n url\\n &#125;\\n &#125;\\n&#125;\\n&quot;&#125; æµ‹è¯•ç¯å¢ƒ å‹æµ‹æœº: 8 æ ¸å¿ƒ 32G æœ¬æœº macosï¼Œå‘èµ·çº¿ç¨‹æ•° 1000~2000 å®˜æ–¹å»ºè®®å•æœºæ•°é‡æœåŠ¡å™¨: 1 æ ¸å¿ƒ 2G è™šæ‹Ÿæœº centos æœåŠ¡å™¨ä¿¡æ¯ç›‘æ§ 12345678910111213141516171819202122&gt; toptop - 23:41:47 up 45 min, 2 users, load average: 0.12, 2.10, 2.09Tasks: 160 total, 1 running, 159 sleeping, 0 stopped, 0 zombie%Cpu(s): 2.2 us, 1.2 sy, 0.0 ni, 96.3 id, 0.0 wa, 0.0 hi, 0.2 si, 0.0 stKiB Mem : 1877360 total, 424344 free, 746224 used, 706792 buff/cacheKiB Swap: 6713340 total, 6713340 free, 0 used. 963492 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND31814 root 20 0 2099204 91620 23620 S 3.7 4.9 3:03.04 node 977 root 20 0 820140 47944 14876 S 2.0 2.6 0:40.63 containerd 9 root 20 0 0 0 0 S 0.3 0.0 0:01.84 rcu_sched 445 root 20 0 0 0 0 S 0.3 0.0 0:01.07 xfsaild/dm-0 995 root 20 0 783740 91376 29532 S 0.3 4.9 0:08.46 dockerd 1675 polkitd 20 0 1659672 119912 18932 S 0.3 6.4 2:15.62 mongod31570 root 20 0 633704 38776 15156 S 0.3 2.1 0:13.24 node 1 root 20 0 191036 3940 2572 S 0.0 0.2 0:00.60 systemd 2 root 20 0 0 0 0 S 0.0 0.0 0:00.00 kthreadd 4 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kworker/0:0H 6 root 20 0 0 0 0 S 0.0 0.0 0:01.15 ksoftirqd/0 7 root rt 0 0 0 0 S 0.0 0.0 0:00.09 migration/0 8 root 20 0 0 0 0 S 0.0 0.0 0:00.00 rcu_bh ctrl + c åœæ­¢ GUI å‹æµ‹ 1000 ä¸ªè¯·æ±‚ 10 ç§’å†… å‘½ä»¤è¡Œ å‹æµ‹ 1jmeter -n -t strapi.jmx -l report/result.csv -j report/log.log -e -o report_html jmeter å‹ç¬¬äºŒè½® - æœåŠ¡å™¨ cpu4 æ ¸å¿ƒ 2G å†…å­˜ æµ‹è¯•ç¯å¢ƒ å‹æµ‹æœº: 8 æ ¸å¿ƒ 32G æœ¬æœº macosï¼Œå‘èµ·çº¿ç¨‹æ•° 1000~2000æœåŠ¡å™¨: 4 æ ¸å¿ƒ 2G è™šæ‹Ÿæœº centos 1000 ä¸ªè¯·æ±‚ 5 ç§’å†… å‹æµ‹æŠ¥å‘Š 1jmeter -n -t strapi.jmx -l report/result.csv -j report/log.log -e -o report_html strapi ä¼˜åŒ–çº¿ç¨‹æ•° å®‰è£… pm2 å·¥å…· https://pm2.keymetrics.io/docs/usage/quick-start/ ç¼–å†™ å¯åŠ¨ä»£ç  server.js 12const strapi = require(\"strapi\");strapi().start(); ç¼–å†™ é…ç½®æ–‡ä»¶ strapi.config.js 12345678910module.exports = &#123; apps: [ &#123; name: \"strapi-app\", script: \"./server.js\", instances: 4, exec_mode: \"cluster\", &#125;, ],&#125;; instances ç­‰äºä½ çš„æ ¸å¿ƒæ•° ä¿®æ”¹ docker-compose.yml 123456789101112131415161718 ...strapi-app: image: strapi/strapi container_name: strapi-app restart: always ports: - 1337:1337 # command: strapi build # command: strapi start command: - /bin/bash - -c - | npm install pm2@latest -g cd /srv/app pm2-runtime start strapi.config.js environment: ... jmeter å‹ç¬¬ä¸‰è½® - æœåŠ¡å™¨ cpu4 æ ¸å¿ƒ 2G å†…å­˜ 2000 ä¸ªè¯·æ±‚ 1 ç§’å†… ä¸»è¦æœåŠ¡å™¨æŒ‡æ ‡ åç§° è¯´æ˜ CPU &lt;= 40% å†…å­˜ &lt;= 70% å…¶å®ƒä¸»è¦æŒ‡æ ‡ è¿æ¥æ•°ã€æœ¬æœºè¿›å‡ºæµé‡ã€å†…ç½‘å¸¦å®½ã€å¤–ç½‘å¸¦å®½ æ€»ç»“ strapi æœåŠ¡å™¨éƒ¨ç½²é…ç½® jmetre åŸºçº¿æµ‹è¯•æ–¹æ³•ã€ä¸»è¦æŒ‡æ ‡æŸ¥çœ‹ å‚è€ƒ strapi æ’ä»¶é…ç½® https://strapi.io/documentation/v3.x/plugins/graphql.html strapi å‘½ä»¤è¡Œ https://strapi.io/documentation/v3.x/cli/CLI.html#strapi-new strapi éƒ¨ç½²è¯´æ˜ https://strapi.io/documentation/v3.x/admin-panel/deploy.html pm2 å®‰è£… https://pm2.keymetrics.io/docs/usage/quick-start/ pm2 é…ç½®æ–‡ä»¶ https://pm2.keymetrics.io/docs/usage/application-declaration/ jmeter https://jmeter.apache.org/download_jmeter.cgi jmeter åˆ†å¸ƒå¼ https://jmeter.apache.org/usermanual/jmeter_distributed_testing_step_by_step.html èµ„æºè®¾è®¡ç¨¿è“æ¹–é¢„è§ˆhttps://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 16 headless strapi + graphql ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€å¼‚å¸¸å¤„ç†","date":"2020-07-13T16:00:00.000Z","path":"2020/07/14/flutter-project/flutter-project-news-16-strapi-graphql-login-register/","text":"æœ¬èŠ‚ç›®æ ‡ ç¼–å†™ mutation æ“ä½œï¼Œç™»å½•ã€æ³¨å†Œ graphql æ“ä½œç±»åŠ å…¥å¼‚å¸¸å¤„ç† è§†é¢‘https://www.bilibili.com/video/BV1vt4y1Q7i3/ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.16 strapi è¿è¡Œç¯å¢ƒç½‘ç›˜ä¸‹è½½ ç½‘ç›˜ é“¾æ¥:https://pan.baidu.com/s/13Ujy2hzXp8tSqxCx_4IhVQå¯†ç :yu82 è¿è¡Œ éœ€è¦ç”¨ docker-compose å¯åŠ¨è´¦å· adminå¯†ç  123456 12345# å¯åŠ¨docker-compose up -d --remove-orphans# å…³é—­docker-compose down æ­£æ–‡ è°ƒè¯•åœ°å€ http://localhost:1337/graphql æ³¨å†Œ graphql mutation 123456789101112131415161718mutation UserRegister($username: String!, $email: String!, $password: String!) &#123; register(input: &#123; username: $username, email: $email, password: $password &#125;) &#123; jwt user &#123; id username email role &#123; id name description type &#125; blocked confirmed &#125; &#125;&#125; variables 12345&#123; \"username\": \"dbuser\", \"email\": \"dbuser@ducafecat.tech\", \"password\": \"12345678\"&#125; ç™»å½• graphql123456789101112131415161718mutation UserLogin($identifier: String!, $password: String!) &#123; login(input: &#123; identifier: $identifier, password: $password &#125;) &#123; jwt user &#123; id username email role &#123; id name description type &#125; blocked confirmed &#125; &#125;&#125; variables 1234&#123; \"identifier\": \"dbuser\", \"password\": \"12345678\"&#125; identifier å¯ä»¥æ˜¯ usernameã€email ï¼Œéƒ½æ˜¯å”¯ä¸€çš„ Graphql è¯·æ±‚ç±»åŠ å…¥å¼‚å¸¸å¤„ç† lib/common/utils/graphql_client.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';import 'package:flutter_ducafecat_news/common/widgets/widgets.dart';import 'package:flutter_ducafecat_news/global.dart';import 'package:graphql/client.dart';class GraphqlClientUtil &#123; static OptimisticCache cache = OptimisticCache( dataIdFromObject: typenameDataIdFromObject, ); static client() &#123; HttpLink _httpLink = HttpLink( uri: '$SERVER_STRAPI_GRAPHQL_URL/graphql', ); if (Global.profile?.jwt != null) &#123; final AuthLink _authLink = AuthLink( getToken: () =&gt; 'Bearer $&#123;Global.profile.jwt&#125;', ); final Link _link = _authLink.concat(_httpLink); return GraphQLClient( cache: cache, link: _link, ); &#125; else &#123; return GraphQLClient( cache: cache, link: _httpLink, ); &#125; &#125; /// é”™è¯¯å¤„ç† static _formatException(BuildContext context, OperationException exception) &#123; var statusCode = ''; try &#123; statusCode = exception .graphqlErrors[0]?.extensions[\"exception\"][\"output\"][\"statusCode\"] .toString(); if (statusCode == '') &#123; statusCode = exception.graphqlErrors[0]?.extensions[\"exception\"][\"code\"] .toString(); &#125; &#125; catch (e) &#123;&#125; switch (statusCode) &#123; case '400': // é‡æ–°ç™»å½• toastInfo(msg: \"é”™è¯¯è¯·æ±‚ï¼Œæäº¤æ•°æ®é”™è¯¯ï¼\"); break; case '401': // æ²¡æœ‰è®¤è¯ case '403': // æ²¡æœ‰æˆæƒ toastInfo(msg: \"è´¦å·æ— æ•ˆã€æœåŠ¡æ²¡æœ‰æˆæƒï¼Œè¯·é‡æ–°ç™»å½•ï¼\"); return goLoginPage(context); // break; default: toastInfo(msg: exception.toString()); &#125; throw exception; &#125; // æŸ¥è¯¢ static Future query(&#123; @required BuildContext context, @required String schema, Map&lt;String, dynamic&gt; variables, &#125;) async &#123; QueryOptions options = QueryOptions( documentNode: gql(schema), variables: variables, ); QueryResult result = await client().query(options); if (result.hasException) &#123; _formatException(context, result.exception); &#125; return result; &#125; // æ“ä½œ static Future mutate(&#123; @required BuildContext context, @required String schema, Map&lt;String, dynamic&gt; variables, &#125;) async &#123; MutationOptions options = MutationOptions( documentNode: gql(schema), variables: variables, ); QueryResult result = await client().mutate(options); if (result.hasException) &#123; _formatException(context, result.exception); &#125; return result; &#125;&#125; å¸¸è§é”™è¯¯ç : 400 æ•°æ®æäº¤æ—¶é—´401 éœ€è¦ç™»å½•è®¤è¯403 åŠŸèƒ½éœ€è¦æˆæƒ Entity ç”¨æˆ· lib/common/entitys/gql_user.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159// ç”¨æˆ·ç™»å½• - requestclass GqlUserLoginRequestEntity &#123; GqlUserLoginRequestEntity(&#123; this.identifier, this.password, &#125;); String identifier; String password; factory GqlUserLoginRequestEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlUserLoginRequestEntity( identifier: json[\"identifier\"], password: json[\"password\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"identifier\": identifier, \"password\": password, &#125;;&#125;// ç”¨æˆ·ç™»å½• - requestclass GqlUserRegisterRequestEntity &#123; GqlUserRegisterRequestEntity(&#123; this.username, this.email, this.password, &#125;); String username; String email; String password; factory GqlUserRegisterRequestEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlUserRegisterRequestEntity( username: json[\"username\"], email: json[\"email\"], password: json[\"password\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"username\": username, \"email\": email, \"password\": password, &#125;;&#125;//////////////////////////////////////////////////////////////////// ç”¨æˆ·ç™»å½• - responseclass GqlUserLoginResponseEntity &#123; GqlUserLoginResponseEntity(&#123; this.jwt, this.user, &#125;); String jwt; UserEntity user; factory GqlUserLoginResponseEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlUserLoginResponseEntity( jwt: json[\"jwt\"], user: UserEntity.fromJson(json[\"user\"]), ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"jwt\": jwt, \"user\": user.toJson(), &#125;;&#125;// æ³¨å†Œæ–°ç”¨æˆ· - responseclass GqlUserRegisterResponseEntity &#123; GqlUserRegisterResponseEntity(&#123; this.jwt, this.user, &#125;); String jwt; UserEntity user; factory GqlUserRegisterResponseEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlUserRegisterResponseEntity( jwt: json[\"jwt\"], user: UserEntity.fromJson(json[\"user\"]), ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"jwt\": jwt, \"user\": user.toJson(), &#125;;&#125;// ç”¨æˆ·class UserEntity &#123; UserEntity(&#123; this.id, this.username, this.email, this.role, this.blocked, this.confirmed, &#125;); String id; String username; String email; RoleEntity role; bool blocked; bool confirmed; factory UserEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; UserEntity( id: json[\"id\"], username: json[\"username\"], email: json[\"email\"], role: RoleEntity.fromJson(json[\"role\"]), blocked: json[\"blocked\"], confirmed: json[\"confirmed\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"id\": id, \"username\": username, \"email\": email, \"role\": role.toJson(), \"blocked\": blocked, \"confirmed\": confirmed, &#125;;&#125;// è§’è‰²class RoleEntity &#123; RoleEntity(&#123; this.id, this.name, this.description, this.type, &#125;); String id; String name; String description; String type; factory RoleEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; RoleEntity( id: json[\"id\"], name: json[\"name\"], description: json[\"description\"], type: json[\"type\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"id\": id, \"name\": name, \"description\": description, \"type\": type, &#125;;&#125; API ç”¨æˆ·æ³¨å†Œã€ç™»å½• lib/common/apis/gql_user.dart 12345678910111213141516171819202122232425262728293031323334import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/entitys/entitys.dart';import 'package:flutter_ducafecat_news/common/graphql/graphql.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:graphql/client.dart';/// æ–°é—»class GqlUserAPI &#123; /// ç™»å½• static Future&lt;GqlUserLoginResponseEntity&gt; login(&#123; @required BuildContext context, @required GqlUserLoginRequestEntity variables, &#125;) async &#123; QueryResult response = await GraphqlClientUtil.mutate( context: context, schema: GQL_USER_LOGIN, variables: variables.toJson()); return GqlUserLoginResponseEntity.fromJson(response.data[\"login\"]); &#125; /// æ³¨å†Œ static Future&lt;GqlUserRegisterResponseEntity&gt; register(&#123; @required BuildContext context, @required GqlUserRegisterRequestEntity variables, &#125;) async &#123; QueryResult response = await GraphqlClientUtil.mutate( context: context, schema: GQL_USER_REGISTER, variables: variables.toJson()); return GqlUserRegisterResponseEntity.fromJson(response.data[\"register\"]); &#125;&#125; èµ„æºè®¾è®¡ç¨¿è“æ¹–é¢„è§ˆhttps://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 15 headless strapi æ•°æ®å»ºæ¨¡ graphql æ¡ä»¶æŸ¥è¯¢æ’åº","date":"2020-07-08T16:00:00.000Z","path":"2020/07/09/flutter-project/flutter-project-news-15-strapi-graphql-data-model/","text":"æœ¬èŠ‚ç›®æ ‡ portainer å®¹å™¨ç®¡ç†å·¥å…· æ•°æ®åº“è®¾è®¡è¿‡ç¨‹ æ•°æ®åº“è®¾è®¡ç›®æ ‡ã€è§„èŒƒã€ä¹ æƒ¯ graphql æ¡ä»¶æŸ¥è¯¢ã€æ’åº flutter ä»£ç å®ç° è§†é¢‘https://www.bilibili.com/video/BV1jD4y1S7Mu/ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.15 strapi è¿è¡Œç¯å¢ƒç½‘ç›˜ä¸‹è½½ ç½‘ç›˜ é“¾æ¥:https://pan.baidu.com/s/13Ujy2hzXp8tSqxCx_4IhVQå¯†ç :yu82 æ–‡ä»¶ åç§° è¯´æ˜ strapi-docker-compose-00.zip å¹²å‡€ç¯å¢ƒï¼Œå·²å®‰è£… graphql æ’ä»¶ strapi-docker-compose-15.zip 15 è¯¾å†…å®¹ è¿è¡Œ éœ€è¦ç”¨ docker-compose å¯åŠ¨è´¦å· adminå¯†ç  123456 12345# å¯åŠ¨docker-compose up -d --remove-orphans# å…³é—­docker-compose down å·¥å…· https://www.portainer.io https://www.draw.io https://app.quicktype.io æ­£æ–‡å®‰è£… portainer https://www.portainer.io 12345docker run -d -p 9000:9000 \\ --restart=always \\ -v /var/run/docker.sock:/var/run/docker.sock \\ --name portainer-local \\ portainer/portainer è®¾è®¡æ•°æ®æ¨¡å‹ https://www.draw.io æ ‡å‡†æ•°æ®åº“è®¾è®¡ ER å›¾ -&gt; è®¾è®¡èŒƒå¼ -&gt; æ•°æ®åº“ç‰©ç†è¡¨ ER èŒƒå¼ https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%84%E8%8C%83%E5%8C%96 è®¾è®¡è§„èŒƒ è¡¨å‰ç¼€ sys ç³»ç»Ÿã€ç”¨æˆ·ã€æƒé™dict å­—å…¸è¡¨bus_ ä¸šåŠ¡ è®¾è®¡æ•°æ® å¯¹è±¡ã€å±æ€§ã€å…³ç³» åˆ›å»º strapi æ•°æ®ç±»å‹ åˆ›å»ºå¤–é”®è¡¨ æ–°é—»åˆ†ç±» åˆ›å»ºå¤–é”®è¡¨ æ–°é—»é¢‘é“ åˆ›å»ºä¸šåŠ¡è¡¨ æ–°é—»å†…å®¹ åˆ›å»ºé“¾æ¥å¤–é”® æ–°é—»å†…å®¹ã€åˆ†ç±»ã€é¢‘é“ ç¼–å†™ graphql æŸ¥è¯¢ æ–°é—» 12345678910111213141516171819202122query News($category_code: String) &#123; busNews(where: &#123; dict_categories: &#123; code: $category_code &#125; &#125;) &#123; title dict_channel &#123; code title icon &#123; url &#125; &#125; dict_categories &#123; code title &#125; author url addtime thumbnail &#123; url &#125; &#125;&#125; é¦–é¡µ 123456789101112131415161718192021222324252627282930313233343536query pageIndex &#123; # åˆ†ç±» dictCategories(sort: &quot;sortNum:desc&quot;) &#123; code title &#125; # é¢‘é“ dictChannels(sort: &quot;sortNum:desc&quot;) &#123; code title icon &#123; url &#125; &#125; # çƒ­ç‚¹ busNews(where: &#123; dict_categories: &#123; code: &quot;news_hot&quot; &#125; &#125;) &#123; title dict_channel &#123; code title icon &#123; url &#125; &#125; dict_categories &#123; code title &#125; author url addtime thumbnail &#123; url &#125; &#125;&#125; ç¼–å†™ flutter ä»£ç  å®ä¾‹ entity lib/common/entitys/gql_news.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140// é¦–é¡µclass GqlIndexResponseEntity &#123; GqlIndexResponseEntity(&#123; this.dictCategories, this.dictChannels, this.busNews, &#125;); List&lt;DictCategoryEntity&gt; dictCategories; List&lt;DictChannelEntity&gt; dictChannels; List&lt;GqlNewsResponseEntity&gt; busNews; factory GqlIndexResponseEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlIndexResponseEntity( dictCategories: List&lt;DictCategoryEntity&gt;.from( json[\"dictCategories\"].map((x) =&gt; DictCategoryEntity.fromJson(x))), dictChannels: List&lt;DictChannelEntity&gt;.from( json[\"dictChannels\"].map((x) =&gt; DictChannelEntity.fromJson(x))), busNews: List&lt;GqlNewsResponseEntity&gt;.from( json[\"busNews\"].map((x) =&gt; GqlNewsResponseEntity.fromJson(x))), ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"dictCategories\": List&lt;dynamic&gt;.from(dictCategories.map((x) =&gt; x.toJson())), \"dictChannels\": List&lt;dynamic&gt;.from(dictChannels.map((x) =&gt; x.toJson())), \"busNews\": List&lt;dynamic&gt;.from(busNews.map((x) =&gt; x.toJson())), &#125;;&#125;// æ–°é—»class GqlNewsResponseEntity &#123; GqlNewsResponseEntity(&#123; this.title, this.dictChannel, this.dictCategories, this.author, this.url, this.addtime, this.thumbnail, &#125;); String title; DictChannelEntity dictChannel; List&lt;DictCategoryEntity&gt; dictCategories; String author; String url; DateTime addtime; ThumbnailEntity thumbnail; factory GqlNewsResponseEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlNewsResponseEntity( title: json[\"title\"], dictChannel: DictChannelEntity.fromJson(json[\"dict_channel\"]), dictCategories: List&lt;DictCategoryEntity&gt;.from( json[\"dict_categories\"].map((x) =&gt; DictCategoryEntity.fromJson(x))), author: json[\"author\"], url: json[\"url\"], addtime: DateTime.parse(json[\"addtime\"]), thumbnail: ThumbnailEntity.fromJson(json[\"thumbnail\"]), ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"title\": title, \"dict_channel\": dictChannel.toJson(), \"dict_categories\": List&lt;dynamic&gt;.from(dictCategories.map((x) =&gt; x.toJson())), \"author\": author, \"url\": url, \"addtime\": \"$&#123;addtime.year.toString().padLeft(4, '0')&#125;-$&#123;addtime.month.toString().padLeft(2, '0')&#125;-$&#123;addtime.day.toString().padLeft(2, '0')&#125;\", \"ThumbnailEntity\": thumbnail.toJson(), &#125;;&#125;// åˆ†ç±»class DictCategoryEntity &#123; DictCategoryEntity(&#123; this.code, this.title, &#125;); String code; String title; factory DictCategoryEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; DictCategoryEntity( code: json[\"code\"], title: json[\"title\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"code\": code, \"title\": title, &#125;;&#125;// é¢‘é“class DictChannelEntity &#123; DictChannelEntity(&#123; this.code, this.title, this.icon, &#125;); String code; String title; ThumbnailEntity icon; factory DictChannelEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; DictChannelEntity( code: json[\"code\"], title: json[\"title\"], icon: ThumbnailEntity.fromJson(json[\"icon\"]), ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"code\": code, \"title\": title, \"icon\": icon.toJson(), &#125;;&#125;// å›¾class ThumbnailEntity &#123; ThumbnailEntity(&#123; this.url, &#125;); String url; factory ThumbnailEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; ThumbnailEntity( url: json[\"url\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"url\": url, &#125;;&#125; api lib/common/apis/gql_news.dart 123456789101112131415161718192021222324252627/// æ–°é—»class GqlNewsAPI &#123; /// é¦–é¡µ static Future&lt;GqlIndexResponseEntity&gt; indexPageInfo(&#123; @required BuildContext context, Map&lt;String, dynamic&gt; params, &#125;) async &#123; QueryResult response = await GraphqlClientUtil.query(context: context, schema: GQL_INDEX_PAGE); return GqlIndexResponseEntity.fromJson(response.data); &#125; /// ç¿»é¡µ static Future&lt;List&lt;GqlNewsResponseEntity&gt;&gt; newsPageList(&#123; @required BuildContext context, Map&lt;String, dynamic&gt; params, &#125;) async &#123; QueryResult response = await GraphqlClientUtil.query( context: context, schema: GQL_NEWS_LIST, variables: params); return response.data['busNews'] .map&lt;GqlNewsResponseEntity&gt;( (item) =&gt; GqlNewsResponseEntity.fromJson(item)) .toList(); &#125;&#125; ç•Œé¢ä¸šåŠ¡ä»£ç  lib/pages/main/main.dart 123456789101112131415161718192021222324252627GqlIndexResponseEntity _indexPageData; // é¦–é¡µæ•°æ®// è¯»å–æ‰€æœ‰æ•°æ®_loadAllData() async &#123; _indexPageData = await GqlNewsAPI.indexPageInfo(context: context); ... if (mounted) &#123; setState(() &#123;&#125;); &#125;&#125;// æ‹‰å–æ¨èã€æ–°é—»_loadNewsData( categoryCode, &#123; bool refresh = false,&#125;) async &#123; _selCategoryCode = categoryCode; _newsPageList = await GqlNewsAPI.newsPageList( context: context, params: &#123;\"category_code\": categoryCode&#125;); if (mounted) &#123; setState(() &#123;&#125;); &#125;&#125;... è¯¦è§ git èµ„æºè®¾è®¡ç¨¿è“æ¹–é¢„è§ˆhttps://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 14 headless strapi + graphql å¿«é€Ÿæ„å»ºæ–°é—»åå°","date":"2020-07-02T16:00:00.000Z","path":"2020/07/03/flutter-project/flutter-project-news-14-headless-strapi-graphql/","text":"æœ¬èŠ‚ç›®æ ‡ strapi + graphql æ’ä»¶ + docker å®‰è£… strapi ç®¡ç†æ•°æ®ç»“æ„ã€å†…å®¹ flutter + graphql æ’ä»¶ å®ç°æŸ¥è¯¢ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.14 æ­£æ–‡åå°å¼€å‘æ­¥éª¤ é‡‡ç”¨ strapi + nodejs + ç½‘å…³ çš„æ–¹æ¡ˆ 1. strapi å®‰è£…1.1 docker-compose æ–¹å¼å®‰è£… .env 1PASSWORD=123456 docker-compose.yml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152version: \"3\"services: mongo: image: mongo container_name: mongo restart: always ports: - 27017:27017 environment: - TZ=Asia/Shanghai - MONGO_INITDB_ROOT_USERNAME=root - MONGO_INITDB_ROOT_PASSWORD=$&#123;PASSWORD&#125; volumes: - ./docker-data/mongo:/data/db networks: docker_net: ipv4_address: 172.22.0.11 # starpi # admin / 123456 / admin@ducafecat.tech strapi-app: image: strapi/strapi container_name: strapi-app restart: always ports: - 1337:1337 # command: strapi build # command: strapi start environment: - TZ=Asia/Shanghai - DATABASE_CLIENT=mongo - DATABASE_HOST=mongo - DATABASE_PORT=27017 - DATABASE_NAME=strapi - DATABASE_USERNAME=root - DATABASE_PASSWORD=$&#123;PASSWORD&#125; - DATABASE_AUTHENTICATION_DATABASE=strapi # - NODE_ENV=production depends_on: - mongo volumes: - ./docker-data/strapi-app:/srv/app networks: docker_net: ipv4_address: 172.22.0.12networks: docker_net: driver: bridge ipam: config: - subnet: 172.22.0.0/16 http://localhost:1337/admin 1.2 å®‰è£… graphql æ’ä»¶ 2. æ„å»ºæ–°é—»æ•°æ®ç»“æ„2.1 åˆ›å»ºæ•°æ®ç±»å‹ æ·»åŠ ç±»å‹ æ·»åŠ å­—æ®µ å­—æ®µåˆ—è¡¨ 2.2 è°ƒæ•´æ•°æ®ç¼–è¾‘ç•Œé¢ 2.3 è°ƒæ•´æ•°æ®åˆ—è¡¨ç•Œé¢ 2.4 ç»´æŠ¤æ•°æ® åˆ—è¡¨ æ·»åŠ  3. è°ƒè¯• graphql è¯·æ±‚3.3 graphql è¯­æ³• ç±»å‹ query æŸ¥è¯¢ mutate æ“ä½œ 3.4 è°ƒè¯•æ–°é—»åˆ—è¡¨http://localhost:1337/graphql 4. ç¼–å†™ flutter ä»£ç 4.1 åŠ å…¥ graphql æ’ä»¶https://pub.flutter-io.cn/packages/graphql pubspec.yaml 123dependencies: # graphql graphql: ^3.0.2 4.2 å°è£… graphql client å·¥å…·ç±» lib/common/utils/graphql_client.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';import 'package:flutter_ducafecat_news/common/widgets/widgets.dart';import 'package:graphql/client.dart';class GraphqlClientUtil &#123; static OptimisticCache cache = OptimisticCache( dataIdFromObject: typenameDataIdFromObject, ); static client() &#123; HttpLink _httpLink = HttpLink( uri: '$SERVER_STRAPI_GRAPHQL_URL/graphql', ); // final AuthLink _authLink = AuthLink( // getToken: () =&gt; // 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVlZmMzNDdhYzgzOTVjMDAwY2ViYzE5NyIsImlhdCI6MTU5MzY1NDcwNiwiZXhwIjoxNTk2MjQ2NzA2fQ.RYDmNSDJxcZLLPHAf4u59IER7Bs5VoWfBo1_t-TR5yY', // ); // final Link _link = _authLink.concat(_httpLink); return GraphQLClient( cache: cache, link: _httpLink, ); &#125; // æŸ¥è¯¢ static Future query(&#123; @required BuildContext context, @required String schema, Map&lt;String, dynamic&gt; variables, &#125;) async &#123; QueryOptions options = QueryOptions( documentNode: gql(schema), variables: variables, ); QueryResult result = await client().query(options); if (result.hasException) &#123; toastInfo(msg: result.exception.toString()); throw result.exception; &#125; return result; &#125; // æ“ä½œ static Future mutate(&#123; @required BuildContext context, @required String schema, Map&lt;String, dynamic&gt; variables, &#125;) async &#123; QueryOptions options = QueryOptions( documentNode: gql(schema), variables: variables, ); QueryResult result = await client().mutate(options); if (result.hasException) &#123; toastInfo(msg: result.exception.toString()); throw result.exception; &#125; return result; &#125;&#125; 4.3 ç¼–å†™ graphql æŸ¥è¯¢è¯·æ±‚ lib/common/graphql/news_content.dart 1234567891011121314const String GQL_NEWS_LIST = r''' query News &#123; newsContents &#123; title category author url addtime thumbnail &#123; url &#125; &#125; &#125;'''; 4.4 ç¼–å†™æ•°æ®å®ä½“lib/common/entitys/gql_news.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657class GqlNewsResponseEntity &#123; GqlNewsResponseEntity(&#123; this.id, this.title, this.category, this.author, this.url, this.addtime, this.thumbnail, &#125;); String id; String title; String category; String author; String url; DateTime addtime; Thumbnail thumbnail; factory GqlNewsResponseEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; GqlNewsResponseEntity( id: json[\"id\"], title: json[\"title\"], category: json[\"category\"], author: json[\"author\"], url: json[\"url\"], addtime: DateTime.parse(json[\"addtime\"]), thumbnail: Thumbnail.fromJson(json[\"thumbnail\"]), ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"id\": id, \"title\": title, \"category\": category, \"author\": author, \"url\": url, \"addtime\": \"$&#123;addtime.year.toString().padLeft(4, '0')&#125;-$&#123;addtime.month.toString().padLeft(2, '0')&#125;-$&#123;addtime.day.toString().padLeft(2, '0')&#125;\", \"thumbnail\": thumbnail.toJson(), &#125;;&#125;class Thumbnail &#123; Thumbnail(&#123; this.url, &#125;); String url; factory Thumbnail.fromJson(Map&lt;String, dynamic&gt; json) =&gt; Thumbnail( url: json[\"url\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"url\": url, &#125;;&#125; 4.5 ç¼–å†™ API è®¿é—® lib/common/apis/gql_news.dart 12345678910111213141516171819202122import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/entitys/entitys.dart';import 'package:flutter_ducafecat_news/common/graphql/graphql.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:graphql/client.dart';/// æ–°é—»class GqlNewsAPI &#123; /// ç¿»é¡µ static Future&lt;List&lt;GqlNewsResponseEntity&gt;&gt; newsPageList(&#123; @required BuildContext context, Map&lt;String, dynamic&gt; params, &#125;) async &#123; QueryResult response = await GraphqlClientUtil.query(context: context, schema: GQL_NEWS_LIST); return response.data['newsContents'] .map&lt;GqlNewsResponseEntity&gt;( (item) =&gt; GqlNewsResponseEntity.fromJson(item)) .toList(); &#125;&#125; 4.6 ä¿®æ”¹æ–°é—»åˆ—è¡¨é¡µ lib/pages/main/main.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212import 'dart:async';import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/apis/apis.dart';import 'package:flutter_ducafecat_news/common/entitys/entitys.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';import 'package:flutter_ducafecat_news/common/widgets/widgets.dart';import 'package:flutter_ducafecat_news/pages/main/ad_widget.dart';import 'package:flutter_ducafecat_news/pages/main/categories_widget.dart';import 'package:flutter_ducafecat_news/pages/main/channels_widget.dart';import 'package:flutter_ducafecat_news/pages/main/news_item_widget.dart';import 'package:flutter_ducafecat_news/pages/main/newsletter_widget.dart';import 'package:flutter_ducafecat_news/pages/main/recommend_widget.dart';import 'package:flutter_easyrefresh/easy_refresh.dart';class MainPage extends StatefulWidget &#123; MainPage(&#123;Key key&#125;) : super(key: key); @override _MainPageState createState() =&gt; _MainPageState();&#125;class _MainPageState extends State&lt;MainPage&gt; &#123; EasyRefreshController _controller; // EasyRefreshæ§åˆ¶å™¨ // NewsPageListResponseEntity _newsPageList; // æ–°é—»ç¿»é¡µ List&lt;GqlNewsResponseEntity&gt; _newsPageList; // æ–°é—»ç¿»é¡µ NewsItem _newsRecommend; // æ–°é—»æ¨è List&lt;CategoryResponseEntity&gt; _categories; // åˆ†ç±» List&lt;ChannelResponseEntity&gt; _channels; // é¢‘é“ String _selCategoryCode; // é€‰ä¸­çš„åˆ†ç±»Code @override void initState() &#123; super.initState(); _controller = EasyRefreshController(); _loadAllData(); _loadLatestWithDiskCache(); &#125; // å¦‚æœæœ‰ç£ç›˜ç¼“å­˜ï¼Œå»¶è¿Ÿ3ç§’æ‹‰å–æ›´æ–°æ¡£æ¡ˆ _loadLatestWithDiskCache() &#123; if (CACHE_ENABLE == true) &#123; var cacheData = StorageUtil().getJSON(STORAGE_INDEX_NEWS_CACHE_KEY); if (cacheData != null) &#123; Timer(Duration(seconds: 3), () &#123; _controller.callRefresh(); &#125;); &#125; &#125; &#125; // è¯»å–æ‰€æœ‰æ•°æ® _loadAllData() async &#123; _categories = await NewsAPI.categories( context: context, cacheDisk: true, ); _channels = await NewsAPI.channels( context: context, cacheDisk: true, ); // _newsRecommend = await NewsAPI.newsRecommend( // context: context, // cacheDisk: true, // ); // _newsPageList = await NewsAPI.newsPageList( // context: context, // cacheDisk: true, // ); _newsPageList = await GqlNewsAPI.newsPageList( context: context, ); _selCategoryCode = _categories.first.code; if (mounted) &#123; setState(() &#123;&#125;); &#125; &#125; // æ‹‰å–æ¨èã€æ–°é—» _loadNewsData( categoryCode, &#123; bool refresh = false, &#125;) async &#123; _selCategoryCode = categoryCode; _newsRecommend = await NewsAPI.newsRecommend( context: context, params: NewsRecommendRequestEntity(categoryCode: categoryCode), refresh: refresh, cacheDisk: true, ); // _newsPageList = await NewsAPI.newsPageList( // context: context, // params: NewsPageListRequestEntity(categoryCode: categoryCode), // refresh: refresh, // cacheDisk: true, // ); _newsPageList = await GqlNewsAPI.newsPageList( context: context, ); if (mounted) &#123; setState(() &#123;&#125;); &#125; &#125; // åˆ†ç±»èœå• Widget _buildCategories() &#123; return _categories == null ? Container() : newsCategoriesWidget( categories: _categories, selCategoryCode: _selCategoryCode, onTap: (CategoryResponseEntity item) &#123; _loadNewsData(item.code); &#125;, ); &#125; // æ¨èé˜…è¯» Widget _buildRecommend() &#123; return _newsRecommend == null // æ•°æ®æ²¡åˆ°ä½ï¼Œå¯ä»¥ç”¨éª¨æ¶å›¾å±•ç¤º ? Container() : recommendWidget(_newsRecommend); &#125; // é¢‘é“ Widget _buildChannels() &#123; return _channels == null ? Container() : newsChannelsWidget( channels: _channels, onTap: (ChannelResponseEntity item) &#123;&#125;, ); &#125; // æ–°é—»åˆ—è¡¨ Widget _buildNewsList() &#123; return _newsPageList == null ? Container( height: duSetHeight(161 * 5 + 100.0), ) : Column( children: _newsPageList.map((item) &#123; // æ–°é—»è¡Œ List&lt;Widget&gt; widgets = &lt;Widget&gt;[ newsItem(item), Divider(height: 1), ]; // æ¯ 5 æ¡ æ˜¾ç¤ºå¹¿å‘Š int index = _newsPageList.indexOf(item); if (((index + 1) % 5) == 0) &#123; widgets.addAll(&lt;Widget&gt;[ adWidget(), Divider(height: 1), ]); &#125; // è¿”å› return Column( children: widgets, ); &#125;).toList(), ); &#125; // ad å¹¿å‘Šæ¡ // é‚®ä»¶è®¢é˜… Widget _buildEmailSubscribe() &#123; return newsletterWidget(); &#125; @override Widget build(BuildContext context) &#123; return _newsPageList == null ? cardListSkeleton() : EasyRefresh( enableControlFinishRefresh: true, controller: _controller, header: ClassicalHeader(), onRefresh: () async &#123; await _loadNewsData( _selCategoryCode, refresh: true, ); _controller.finishRefresh(); &#125;, child: SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildCategories(), Divider(height: 1), _buildRecommend(), Divider(height: 1), _buildChannels(), Divider(height: 1), _buildNewsList(), Divider(height: 1), _buildEmailSubscribe(), ], ), ), ); &#125;&#125; 4.7 ä¿®æ”¹æ–°é—»è¯¦æƒ…é¡µ lib/pages/main/news_item_widget.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141import 'package:auto_route/auto_route.dart';import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/entitys/entitys.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';import 'package:flutter_ducafecat_news/common/widgets/widgets.dart';import 'package:flutter_ducafecat_news/common/router/router.gr.dart';/// æ–°é—»è¡Œ ItemWidget newsItem(GqlNewsResponseEntity item) &#123; return Container( height: duSetHeight(161), padding: EdgeInsets.all(duSetWidth(20)), child: Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, crossAxisAlignment: CrossAxisAlignment.start, children: &lt;Widget&gt;[ // å›¾ InkWell( onTap: () &#123; ExtendedNavigator.rootNavigator.pushNamed( Routes.detailsPageRoute, arguments: DetailsPageArguments(item: item), ); &#125;, child: imageCached( '$SERVER_STRAPI_GRAPHQL_URL$&#123;item.thumbnail.url&#125;', width: duSetWidth(121), height: duSetWidth(121), ), ), // å³ä¾§ SizedBox( width: duSetWidth(194), child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: &lt;Widget&gt;[ // ä½œè€… Container( margin: EdgeInsets.all(0), child: Text( item.author, style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.thirdElementText, fontSize: duSetFontSize(14), height: 1, ), ), ), // æ ‡é¢˜ InkWell( onTap: () &#123; ExtendedNavigator.rootNavigator.pushNamed( Routes.detailsPageRoute, arguments: DetailsPageArguments(item: item), ); &#125;, child: Container( margin: EdgeInsets.only(top: duSetHeight(10)), child: Text( item.title, style: TextStyle( fontFamily: 'Montserrat', fontWeight: FontWeight.w500, color: AppColors.primaryText, fontSize: duSetFontSize(16), height: 1, ), overflow: TextOverflow.clip, maxLines: 3, ), ), ), // Spacer Spacer(), // ä¸€è¡Œ 3 åˆ— Container( child: Row( crossAxisAlignment: CrossAxisAlignment.center, children: &lt;Widget&gt;[ // åˆ†ç±» ConstrainedBox( constraints: BoxConstraints( maxWidth: duSetWidth(60), ), child: Text( item.category, style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.secondaryElementText, fontSize: duSetFontSize(14), height: 1, ), overflow: TextOverflow.clip, maxLines: 1, ), ), // æ·»åŠ æ—¶é—´ Container( width: duSetWidth(15), ), ConstrainedBox( constraints: BoxConstraints( maxWidth: duSetWidth(100), ), child: Text( 'â€¢ $&#123;duTimeLineFormat(item.addtime)&#125;', style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.thirdElementText, fontSize: duSetFontSize(14), height: 1, ), overflow: TextOverflow.clip, maxLines: 1, ), ), // æ›´å¤š Spacer(), InkWell( child: Icon( Icons.more_horiz, color: AppColors.primaryText, size: 24, ), onTap: () &#123;&#125;, ), ], ), ), ], ), ), ], ), );&#125; èµ„æºè®¾è®¡ç¨¿è“æ¹–é¢„è§ˆhttps://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat å‚è€ƒ https://pub.flutter-io.cn/packages/graphql https://strapi.io/documentation/v3.x/getting-started/quick-start.html Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 13 ä½¿ç”¨ supernovaã€imgcook å¯¼å…¥ sketch psd xd è‡ªåŠ¨ç”Ÿæˆç”¨æˆ·ä¸­å¿ƒä»£ç ","date":"2020-06-17T16:00:00.000Z","path":"2020/06/18/flutter-project/flutter-project-news-13-code-generate-supernova/","text":"æœ¬èŠ‚ç›®æ ‡ äº†è§£ supernova ä»£ç ç”Ÿæˆå™¨ä½œç”¨ å¯¼å…¥ xd è®¾è®¡ç¨¿ å¦‚ä½•é«˜æ•ˆä½¿ç”¨ç”Ÿæˆä»£ç  è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.13 æ­£æ–‡ä»£ç ç”Ÿæˆå™¨ supernova imgcook æœ‰æ½œåŠ›åŠ å…¥ä»£ç ç”ŸæˆåŠŸèƒ½ lanhuapp mockplus supernova ä»£ç ç”Ÿæˆå™¨https://supernova.io/ å¯¼å…¥ xd è®¾è®¡ç¨¿ï¼Œç”Ÿæˆä»£ç  å•†ä¸šè®¾è®¡ç¨¿ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat ç¼–å†™ç”¨æˆ·ä¸­å¿ƒç•Œé¢ä»£ç ç»„ç»‡ä»£ç ç»“æ„123456789101112131415161718192021class _AccountPageState extends State&lt;AccountPage&gt; &#123; // ä¸ªäººé¡µé¢ å¤´éƒ¨ Widget _buildUserHeader() &#123;&#125; // åˆ—è¡¨é¡¹ Widget _buildCell() &#123;&#125; @override Widget build(BuildContext context) &#123; final appState = Provider.of&lt;AppState&gt;(context); return SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildUserHeader(), _buildCell(), ], ), ); &#125;&#125; ç›´æ¥ä½¿ç”¨ç”Ÿæˆçš„ä»£ç  ä¸ªäººé¡µé¢ å¤´éƒ¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133Widget _buildUserHeader() &#123; return Container( height: 333, child: Stack( alignment: Alignment.center, children: [ Positioned( left: 0, right: 0, child: Container( height: 333, decoration: BoxDecoration( color: AppColors.primaryBackground, ), child: Column( mainAxisAlignment: MainAxisAlignment.end, crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Container( height: 2, decoration: BoxDecoration( color: AppColors.primaryElement, ), child: Container(), ), ], ), ), ), Positioned( left: 20, top: 40, right: 20, bottom: 21, child: Column( crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Container( height: 198, child: Column( crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Align( alignment: Alignment.topCenter, child: Container( width: 108, height: 108, child: Stack( alignment: Alignment.center, children: [ Positioned( top: 0, child: Container( width: 108, height: 108, decoration: BoxDecoration( color: AppColors.primaryBackground, boxShadow: [ Shadows.primaryShadow, ], borderRadius: Radii.k54pxRadius, ), child: Container(), ), ), Positioned( top: 10, child: Image.asset( \"assets/images/image.png\", fit: BoxFit.none, ), ), ], ), ), ), Spacer(), Container( margin: EdgeInsets.only(bottom: 9), child: Text( \"Cameron Rogers\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: 24, ), ), ), Text( \"@boltrogers\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: 16, ), ), ], ), ), Spacer(), Container( height: 44, child: FlatButton( onPressed: () =&gt; this.onButtonPressed(context), color: Color.fromARGB(255, 41, 103, 255), shape: RoundedRectangleBorder( borderRadius: BorderRadius.all(Radius.circular(6)), ), textColor: Color.fromARGB(255, 255, 255, 255), padding: EdgeInsets.all(0), child: Text( \"Get Premium - \\$9.99\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.secondaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: 18, ), ), ), ), ], ), ), ], ), );&#125; åˆ—è¡¨é¡¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990Widget _buildCell() &#123; return Container( height: 60, child: Stack( alignment: Alignment.centerLeft, children: [ Positioned( left: 0, right: 0, child: Container( height: 60, decoration: BoxDecoration( color: AppColors.secondaryElement, ), child: Column( mainAxisAlignment: MainAxisAlignment.end, crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Container( height: 1, decoration: BoxDecoration( color: AppColors.primaryElement, ), child: Container(), ), ], ), ), ), Positioned( right: 0, child: Row( mainAxisAlignment: MainAxisAlignment.end, children: [ Container( margin: EdgeInsets.only(right: 11), child: Text( \"12\", textAlign: TextAlign.right, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: 18, ), ), ), Container( width: 24, height: 24, margin: EdgeInsets.only(right: 20), child: Image.asset( \"assets/images/icon.png\", fit: BoxFit.none, ), ), ], ), ), Positioned( left: 0, child: Stack( alignment: Alignment.center, children: [ Positioned( left: 0, right: 19, child: Container(), ), Positioned( left: 20, right: 0, child: Text( \"Favorite channels\", textAlign: TextAlign.left, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: 18, ), ), ), ], ), ), ], ), );&#125; æŠ½å–ä»£ç  lib/common/widgets/app.dart123456789/// 10åƒç´  DividerWidget divider10Px(&#123;Color bgColor = AppColors.secondaryElement&#125;) &#123; return Container( height: duSetWidth(10), decoration: BoxDecoration( color: bgColor, ), );&#125; ä¿®æ”¹ä»£ç  _buildUserHeader123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141// ä¸ªäººé¡µé¢ å¤´éƒ¨Widget _buildUserHeader() &#123; return Container( height: duSetWidth(333), child: Stack( alignment: Alignment.center, children: [ // èƒŒæ™¯ Positioned( left: 0, right: 0, child: Container( height: duSetWidth(333), decoration: BoxDecoration( color: AppColors.primaryBackground, ), child: Column( mainAxisAlignment: MainAxisAlignment.end, crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Container( height: duSetWidth(2), decoration: BoxDecoration( color: AppColors.tabCellSeparator, ), child: Container(), ), ], ), ), ), Positioned( left: 20, top: 40, right: 20, bottom: 21, child: Column( crossAxisAlignment: CrossAxisAlignment.stretch, children: [ // å¤´åƒ Container( height: duSetWidth(198), child: Column( crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Align( alignment: Alignment.topCenter, child: Container( width: duSetWidth(108), height: duSetWidth(108), child: Stack( alignment: Alignment.center, children: [ Positioned( top: 0, child: Container( width: duSetWidth(108), height: duSetWidth(108), decoration: BoxDecoration( color: AppColors.primaryBackground, boxShadow: [ Shadows.primaryShadow, ], borderRadius: BorderRadius.all( Radius.circular(duSetWidth(108) / 2)), ), child: Container(), ), ), Positioned( top: 10, child: Image.asset( \"assets/images/account_header.png\", height: duSetWidth(88), width: duSetWidth(88), fit: BoxFit.fill, ), ), ], ), ), ), // æ–‡å­— Spacer(), Container( margin: EdgeInsets.only(bottom: 9), child: Text( Global.profile.displayName, textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: 24, ), ), ), Text( \"@boltrogers\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: 16, ), ), ], ), ), // æŒ‰é’® Spacer(), Container( height: 44, child: FlatButton( onPressed: () =&gt; &#123;&#125;, color: Color.fromARGB(255, 41, 103, 255), shape: RoundedRectangleBorder( borderRadius: BorderRadius.all(Radius.circular(6)), ), textColor: Color.fromARGB(255, 255, 255, 255), padding: EdgeInsets.all(0), child: Text( \"Get Premium - \\$9.99\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryElementText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: 18, ), ), ), ), ], ), ), ], ), );&#125; ä¿®æ”¹ä»£ç  _buildCell123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117// åˆ—è¡¨é¡¹Widget _buildCell(&#123; String title, String subTitle, int number, bool hasArrow = false, VoidCallback onTap,&#125;) &#123; return GestureDetector( onTap: onTap, child: Container( height: duSetWidth(60), color: Colors.white, child: Stack( alignment: Alignment.centerLeft, children: [ // èƒŒæ™¯ Positioned( left: 0, right: 0, child: Container( height: duSetWidth(60), decoration: BoxDecoration( color: AppColors.primaryBackground, ), child: Column( mainAxisAlignment: MainAxisAlignment.end, crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Container( height: duSetWidth(1), decoration: BoxDecoration( color: AppColors.tabCellSeparator, ), child: Container(), ), ], ), ), ), // å³ä¾§ Positioned( right: 0, child: Row( mainAxisAlignment: MainAxisAlignment.end, children: [ // æ•°å­— number == null ? Container() : Container( margin: EdgeInsets.only(right: 11), child: Text( number.toString(), textAlign: TextAlign.right, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(18), ), ), ), // ç®­å¤´ hasArrow == false ? Container() : Container( width: duSetWidth(24), height: duSetWidth(24), margin: EdgeInsets.only(right: 20), child: Icon( Icons.arrow_forward_ios, color: AppColors.primaryText, ), ), ], ), ), // æ ‡é¢˜ title == null ? Container() : Positioned( left: 20, child: Text( title, textAlign: TextAlign.left, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(18), ), ), ), // å­æ ‡é¢˜ subTitle == null ? Container() : Positioned( right: 20, child: Text( subTitle, textAlign: TextAlign.left, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(18), ), ), ), ], ), ), );&#125; ä¿®æ”¹ä»£ç  build12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455@overrideWidget build(BuildContext context) &#123; final appState = Provider.of&lt;AppState&gt;(context); return SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildUserHeader(), divider10Px(), _buildCell( title: \"Email\", subTitle: \"boltrogers@gmail.com\", ), divider10Px(), _buildCell( title: \"Favorite channels\", number: 12, hasArrow: true, ), _buildCell( title: \"Bookmarks\", number: 294, hasArrow: true, ), _buildCell( title: \"Popular categories\", number: 7, hasArrow: true, ), divider10Px(), _buildCell( title: \"Newsletter\", hasArrow: true, ), _buildCell( title: \"Settings\", hasArrow: true, ), divider10Px(), _buildCell( title: \"Switch Gray Filter\", hasArrow: true, onTap: () =&gt; appState.switchGrayFilter(), ), _buildCell( title: \"Log out\", hasArrow: true, onTap: () =&gt; goLoginPage(context), ), divider10Px(), ], ), );&#125; æŠ€å·§ vscode å›ºå®šä»£ç  æ€»ç»“ èµ„æºè®¾è®¡ç¨¿è“æ¹–é¢„è§ˆhttps://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 12 é‡‡ç”¨ sentry å¹³å°æ”¶é›†é”™è¯¯","date":"2020-06-04T16:00:00.000Z","path":"2020/06/05/flutter-project/flutter-project-news-12-error-sentry/","text":"æœ¬èŠ‚ç›®æ ‡ ä½¿ç”¨ sentry å¹³å° flutter é›†æˆ android é›†æˆ ios é›†æˆ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.12 æ­£æ–‡é”™è¯¯æ”¶é›†ç­–ç•¥ sentry å¹³å°https://sentry.io æ”¶é›† flutter å‚è€ƒ https://docs.sentry.io/platforms/flutter/ pubspec.yaml 12dependencies: sentry: ^3.0.1 lib/main.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// åˆ›å»º SentryClient ç”¨äºå°†å¼‚å¸¸æ—¥å¿—ä¸ŠæŠ¥ç»™ sentry å¹³å°final SentryClient _sentry = new SentryClient( dsn: 'https://xxxxxxxxxx',);// æ˜¯å¦å¼€å‘ç¯å¢ƒbool get isInDebugMode &#123; return false; // false å¼€å§‹ä¸Šä¼  sentry&#125;// ä¸ŠæŠ¥å¼‚å¸¸çš„å‡½æ•°Future&lt;void&gt; _reportError(dynamic error, dynamic stackTrace) async &#123; print('Caught error: $error'); if (isInDebugMode) &#123; print(stackTrace); &#125; else &#123; final SentryResponse response = await _sentry.captureException( exception: error, stackTrace: stackTrace, ); if (response.isSuccessful) &#123; print('Success! Event ID: $&#123;response.eventId&#125;'); &#125; else &#123; print('Failed to report to Sentry.io: $&#123;response.error&#125;'); &#125; &#125;&#125;Future&lt;Null&gt; main() async &#123; // æ•è·å¹¶ä¸ŠæŠ¥ Flutter å¼‚å¸¸ FlutterError.onError = (FlutterErrorDetails details) async &#123; if (isInDebugMode == true) &#123; FlutterError.dumpErrorToConsole(details); &#125; else &#123; Zone.current.handleUncaughtError(details.exception, details.stack); &#125; &#125;; // æ•è·å¹¶ä¸ŠæŠ¥ Dart å¼‚å¸¸ runZonedGuarded(() async &#123; await Global.init(); runApp( MultiProvider( providers: [ ChangeNotifierProvider&lt;AppState&gt;.value( value: Global.appState, ), ], child: Consumer&lt;AppState&gt;(builder: (context, appState, _) &#123; if (appState.isGrayFilter) &#123; return ColorFiltered( colorFilter: ColorFilter.mode(Colors.white, BlendMode.color), child: NewsApp(), ); &#125; else &#123; return NewsApp(); &#125; &#125;), ), ); &#125;, (Object error, StackTrace stack) &#123; _reportError(error, stack); &#125;);&#125; æ”¶é›† android å‚è€ƒ https://docs.sentry.io/platforms/android/ é›†æˆ sdk 123456789101112131415161718// ADD JCENTER REPOSITORYrepositories &#123; jcenter()&#125;// ADD COMPATIBILITY OPTIONS TO BE COMPATIBLE WITH JAVA 1.8android &#123; compileOptions &#123; sourceCompatibility = JavaVersion.VERSION_1_8 targetCompatibility = JavaVersion.VERSION_1_8 &#125;&#125;// ADD SENTRY ANDROID AS A DEPENDENCYdependencies &#123; // https://github.com/getsentry/sentry-android/releases implementation &apos;io.sentry:sentry-android:&#123;version&#125;&apos;&#125; android/app/src/main/AndroidManifest.xml 12345678910&lt;application android:name=\"io.flutter.app.FlutterApplication\" android:label=\"çŒ«å“¥æ–°é—»\" android:icon=\"@mipmap/launcher_icon\"&gt; ... &lt;!-- sentry --&gt; &lt;meta-data android:name=\"io.sentry.dsn\" android:value=\"xxxxxxxxxxxxxxxxx\" /&gt;&lt;/application&gt; android/app/src/main/kotlin/com/example/flutterducafecatnews/CrashHandler.java 1234567public class CrashHandler implements UncaughtExceptionHandler &#123; @Override public void uncaughtException(Thread t, Throwable e) &#123; Sentry.captureException(e); &#125;&#125; android/app/src/main/kotlin/com/example/flutterducafecatnews/MainActivity.kt 123456789import io.sentry.core.Sentryclass MainActivity: FlutterActivity() &#123; override fun configureFlutterEngine(@NonNull flutterEngine: FlutterEngine) &#123; val crashHandler = CrashHandler() Thread.setDefaultUncaughtExceptionHandler(crashHandler) GeneratedPluginRegistrant.registerWith(flutterEngine) &#125;&#125; æ”¶é›† ios èµ„æ–™ https://docs.sentry.io/platforms/cocoa/?_ga=2.17974013.534595501.1591172359-228174411.1591172359&amp;_gac=1.12380800.1591172359.EAIaIQobChMIrICd9Jrl6QIVCj5gCh2zFw8lEAAYASAAEgJwyfD_BwE&amp;platform=javascript é›†æˆ CocoaPods 123456platform :ios, &apos;8.0&apos;use_frameworks! # This is importanttarget &apos;YourApp&apos; do pod &apos;Sentry&apos;, :git =&gt; &apos;https://github.com/getsentry/sentry-cocoa.git&apos;, :tag =&gt; &apos;5.1.2&apos;end ios/Runner/AppDelegate.swift 123456789101112131415161718&#123; SentrySDK.start(options: [ \"dsn\": \"https://xxxxxxxxxxxxxxxxxxx\", \"debug\": true, // Enabled debug when first installing is always helpful \"enableAutoSessionTracking\": true ]) NSSetUncaughtExceptionHandler &#123; exception in print(exception) SentrySDK.capture(message: exception.description) SentrySDK.capture(exception: exception) &#125; GeneratedPluginRegistrant.register(with: self) return super.application(application, didFinishLaunchingWithOptions: launchOptions) &#125; èµ„æºå‚è€ƒ https://docs.sentry.io/platforms/flutter/ https://docs.sentry.io/platforms/android/ https://docs.sentry.io/platforms/cocoa/?_ga=2.17974013.534595501.1591172359-228174411.1591172359&amp;_gac=1.12380800.1591172359.EAIaIQobChMIrICd9Jrl6QIVCj5gCh2zFw8lEAAYASAAEgJwyfD_BwE&amp;platform=javascript è®¾è®¡ç¨¿è“æ¹–é¢„è§ˆhttps://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Docker - 02 å‰ç«¯å…¨æ ˆ windows ä»é›¶å®‰è£… vmware + centos + docker + yapi","date":"2020-05-28T16:00:00.000Z","path":"2020/05/29/docker/docker-02-windows-vmware-centos-setup/","text":"æœ¬èŠ‚ç›®æ ‡ å‰ç«¯å…¨æ ˆä¸»åŠ›æ“ä½œç³»ç»Ÿé€‰å“ªä¸ª ? windows ä¸‹ä½¿ç”¨ docker ä¸ºä»€ä¹ˆä¸è¡Œ ? VMWare å®‰è£… centos è¿œç¨‹ centos ç³»ç»Ÿ centos é…ç½® docker ç¯å¢ƒ è§†é¢‘https://youtu.be/NJIwbs8qmDY æ­£æ–‡1. ä¸»åŠ›æ“ä½œç³»ç»Ÿåˆ†æä»å‰ç«¯å…¨æ ˆè§’åº¦è€ƒè™‘ windows macos ubuntu nodejsã€javaã€goã€python ok ok ok vueã€reactã€electronã€rn ok ok ok å°ç¨‹åº ok ok ok ios ok android ok ok ok åŠå…¬ office wps ps å¾®ä¿¡ QQ XD VSCode ok ok ok macos ä¸“å± safri sketch ok ç¨‹åºç¼–è¯‘ã€æ–‡ä»¶åå¤§å°å†™ä¸¥æ ¼ ok ok 2. windows ç›´æ¥ç”¨ docker å­˜åœ¨çš„é—®é¢˜é—®é¢˜ï¼š https://docs.docker.com/get-started/overview/https://docs.docker.com/get-started/https://docs.microsoft.com/en-us/windows/wsl/about å®¹å™¨æ¶æ„ä¸åŒ åˆ‡åˆ° linux å®¹å™¨æ¶æ„ï¼Œé¢‘ç¹é‡åˆ°å­˜å‚¨é©±åŠ¨å…¼å®¹é—®é¢˜ WSL 2 çš„è·¯è¿˜å¾ˆé•¿ æ€»ç»“ å¼€å‘ç¯å¢ƒä¸çº¿ä¸Šç¯å¢ƒä¸ä¸€è‡´ï¼Œå¼•å‘ä¸å¿…è¦çš„è”è°ƒæˆæœ¬ã€‚ 3. windows ä¸‹ vmware å®‰è£… centos3.1 ä¸‹è½½ centos 7http://isoredirect.centos.org/centos/7/isos/x86_64/ 3.2 å®‰è£… centos 7æ“ä½œè§è§†é¢‘ 3.3 é…ç½® centos ç½‘å¡æ“ä½œè§è§†é¢‘ æŒ‡ä»¤è®°å½• 123456789101112131415161718192021222324252627282930313233343536373839404142434445# ä¿®æ”¹é…ç½®$ cd /etc/sysconfig/network-scripts$ ll$ vi ifcfg-eth0ONBOOT=yes# vi æ–‡ä»¶ç¼–è¾‘# cd è¿›å…¥ç›®å½•# ll ç›®å½•åˆ—è¡¨------------------------------# é‡å¯ç½‘å¡$ service network restart# service ç®¡ç†ç³»ç»ŸæœåŠ¡------------------------------# å®‰è£…å·¥å…·$ yum install -y net-tools# yum è½¯ä»¶åŒ…ç®¡ç†------------------------------# æŸ¥çœ‹ip$ ifconfig------------------------------# å›ºå®šipã€dns$ vi ifcfg-eth0BOOTPROTO=staticIPADDR=10.211.55.5NETMASK=255.255.255.0GATEWAY=10.211.55.1DNS1=223.5.5.5DNS2=223.6.6.6------------------------------# é‡å¯æœåŠ¡ã€æŸ¥çœ‹dns$ service network restart$ cat /etc/resolv.conf 3.4 è¿œç¨‹ ssh å·¥å…· finalshellhttp://www.hostbuf.com xshellã€sftphttps://www.netsarang.com/zh/xshell/ puttyhttps://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html cmderhttp://cmder.net/ 3.6 å®‰è£… dockerå¸è½½æ—§ç‰ˆ12345678$ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine sudo root ç”¨æˆ·å¯ä»¥ä¸ç”¨ åŸç”Ÿå®‰è£…1234567891011121314151617181920212223242526272829# ç³»ç»Ÿå·¥å…·$ sudo yum install -y yum-utils device-mapper-persistent-data lvm2# åŠ ä»“åº“$ sudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo# å®‰è£… docker ce cli$ sudo yum install -y docker-ce docker-ce-cli containerd.io# å¯åŠ¨æœåŠ¡$ sudo systemctl start docker# å¼€æœºå¯åŠ¨$ sudo systemctl enable docker# å®‰è£… docker-compose$ sudo curl -L \"https://github.com/docker/compose/releases/download/1.25.5/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose# é˜¿é‡Œäº‘åŠ é€Ÿ$ sudo mkdir -p /etc/docker$ sudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'&#123; \"registry-mirrors\": [\"https://8stycbeq.mirror.aliyuncs.com\"]&#125;EOF$ sudo systemctl daemon-reload$ sudo systemctl restart docker 4. è¿è¡Œ yapi4.1 docker-compose é…ç½®è¿™æ¬¡ä¿®æ”¹äº†æ•°æ®æŒä¹…åŒ–åœ¨æŒ‡å®šç›®å½• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253version: \"3\"services: mongo-yapi: image: mongo container_name: mongo-ypai restart: always # ports: # - 27017:27017 environment: - TZ=Asia/Shanghai - MONGO_INITDB_DATABASE=yapi # - MONGO_INITDB_ROOT_USERNAME=root # - MONGO_INITDB_ROOT_PASSWORD=$&#123;PASSWORD&#125; volumes: - ./docker-data/mongo-yapi:/data/db networks: docker_net: ipv4_address: 172.22.0.11 # https://github.com/fjc0k/docker-YApi web-yapi: image: jayfong/yapi:latest container_name: web-ypai restart: always ports: - 3000:3000 depends_on: - mongo-yapi links: - mongo-yapi environment: - TZ=Asia/Shanghai - YAPI_ADMIN_ACCOUNT=admin@ducafecat.tech - YAPI_ADMIN_PASSWORD=$&#123;PASSWORD&#125; - YAPI_CLOSE_REGISTER=true - YAPI_DB_SERVERNAME=mongo-yapi - YAPI_DB_PORT=27017 - YAPI_DB_DATABASE=yapi # - YAPI_DB_USER=root # - YAPI_DB_PASS=$&#123;PASSWORD&#125; - YAPI_MAIL_ENABLE=false - YAPI_LDAP_LOGIN_ENABLE=false - YAPI_PLUGINS=[] networks: docker_net: ipv4_address: 172.22.0.12networks: docker_net: driver: bridge ipam: config: - subnet: 172.22.0.0/16 4.2 è¿è¡Œ yapi12345# å¯åŠ¨$ docker-compose up -d# å¸è½½$ docker-compose down 4.3 ä¿®æ”¹æœ¬åœ°è§£æC:\\Windows\\System32\\drivers\\etc\\hosts 1127.0.0.1 api.news.ducafecat.tech é—®é¢˜æ•´ç†VMware Workstation ä¸ Device/Credential Guard ä¸å…¼å®¹ã€‚ç½‘ä¸Šè¯´å¸è½½ Hyper-Vï¼Œ æ²¡å¿…è¦å¸è½½ ç®¡ç†å‘˜æ–¹å¼è¿è¡Œ cmd æ‰§è¡Œ 1bcdedit /set hypervisorlaunchtype off ç„¶åé‡å¯ç”µè„‘ å‚è€ƒ install docker https://docs.docker.com/engine/install/centos/ install docker-compose https://github.com/docker/compose/releases é˜¿é‡Œé•œåƒ https://cr.console.aliyun.com/cn-beijing/instances/mirrors Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"Docker","slug":"Docker","permalink":"https://ducafecat.tech/tags/Docker/"}]},{"title":"Docker - 01 windows ä¸‹å®‰è£… docker å¹¶è¿è¡Œ yapi æœåŠ¡","date":"2020-05-20T16:00:00.000Z","path":"2020/05/21/docker/docker-01-install-yapi/","text":"æœ¬èŠ‚ç›®æ ‡ å®‰è£… docker å¯åŠ¨ yapi å¤‡ä»½ã€æ¢å¤ yapi æ­£æ–‡å®‰è£… Windows 10 ä¸“ä¸šå·¥ä½œç«™ç‰ˆ i tell you https://msdn.itellyou.cn/ é€‰ç”¨ business é•œåƒ å®‰è£… docker å®˜ç½‘ https://www.docker.com/ å¯ç”¨ Hyper-V åˆ‡æ¢ linunx container é˜¿é‡Œé•œåƒåŠ é€Ÿ é˜¿é‡Œé•œåƒåŠ é€Ÿ https://cr.console.aliyun.com/cn-zhangjiakou/instances/mirrors 123456&#123; \"registry-mirrors\": [\"https://ä½ çš„ä»£ç .mirror.aliyuncs.com\"], \"insecure-registries\": [], \"debug\": true, \"experimental\": true&#125; docker-compose é…ç½® yapi .env 1PASSWORD=$V7iTNk5N8#AkOeiwO@BywzBFte2^WsAuI$eJ4k9CKV0riqe docker-compose.yml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657version: \"3\"services: mongo-yapi: image: mongo container_name: mongo-ypai restart: always # ports: # - 27017:27017 environment: - TZ=Asia/Shanghai - MONGO_INITDB_DATABASE=yapi # - MONGO_INITDB_ROOT_USERNAME=root # - MONGO_INITDB_ROOT_PASSWORD=$&#123;PASSWORD&#125; volumes: # - ./docker-data/mongo-yapi:/data/db - mongo-data:/data/db networks: docker_net: ipv4_address: 172.22.0.11 # https://github.com/fjc0k/docker-YApi web-yapi: image: jayfong/yapi:latest container_name: web-ypai restart: always ports: - 3000:3000 depends_on: - mongo-yapi links: - mongo-yapi environment: - TZ=Asia/Shanghai - YAPI_ADMIN_ACCOUNT=admin@ducafecat.tech - YAPI_ADMIN_PASSWORD=$&#123;PASSWORD&#125; - YAPI_CLOSE_REGISTER=true - YAPI_DB_SERVERNAME=mongo-yapi - YAPI_DB_PORT=27017 - YAPI_DB_DATABASE=yapi # - YAPI_DB_USER=root # - YAPI_DB_PASS=$&#123;PASSWORD&#125; - YAPI_MAIL_ENABLE=false - YAPI_LDAP_LOGIN_ENABLE=false - YAPI_PLUGINS=[] networks: docker_net: ipv4_address: 172.22.0.12volumes: mongo-data:networks: docker_net: driver: bridge ipam: config: - subnet: 172.22.0.0/16 å¯åŠ¨ã€å¸è½½ ypai æœåŠ¡ å¯åŠ¨ 1$ docker-compose up -d å¸è½½ 1$ docker-compose down æœ¬åœ°åŸŸåè§£æ C:\\Windows\\System32\\drivers\\etc\\hosts 1127.0.0.1 api.news.ducafecat.tech æŸ¥è¯¢ volume12345$ docker volume lsDRIVER VOLUME NAMElocal 2fc91e2fd47a7110c2ecc5c8b88b997c4e6ddcf471a1df04f3fb618238ffd8aalocal 26e58cd678a97108f6dcd2cab33b9de341f992ceedacb7fd772c196bec908306local yapi-volumes_mongo-data å¤‡ä»½æ•°æ®1$ docker run --rm --volumes-from mongo-ypai -v c:\\backup:/backup ubuntu tar cvf /backup/backup.tar -C /data/db . è¿˜åŸæ•°æ®1$ docker run --rm --volumes-from mongo-ypai -v c:\\backup:/backup ubuntu bash -c \"cd /data/db &amp;&amp; tar xvf /backup/backup.tar -C /data/db \" èµ„æºå‚è€ƒ https://github.com/fjc0k/docker-YApi https://cr.console.aliyun.com/cn-zhangjiakou/instances/mirrors https://docs.docker.com/storage/volumes/#backup-restore-or-migrate-data-volumes è§†é¢‘ä»£ç https://github.com/ducafecat/docker-yapi.git Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"Docker","slug":"Docker","permalink":"https://ducafecat.tech/tags/Docker/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 11 APPå‡çº§ã€androidåŠ¨æ€æˆæƒ","date":"2020-05-15T16:00:00.000Z","path":"2020/05/16/flutter-project/flutter-project-news-11-update-permission/","text":"æœ¬èŠ‚ç›®æ ‡ app å‡çº§ç­–ç•¥ android åŠ¨æ€æˆæƒ android è®¾å¤‡ç›®å½• ios æ”¯æŒ swift è¯­è¨€ å¿«é€Ÿæç¤ºæ¡† è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.11 æ­£æ–‡ios æ”¯æŒ swift è¯­è¨€ å‡ºå‘ç‚¹ ç¤¾åŒºç¬¬ä¸‰æ–¹åŒ…éƒ½åœ¨ç”¨ swift å¼€å‘ï¼Œæ‰“åŒ…çš„æ—¶å€™éœ€è¦åŠ å…¥ swift è¯­è¨€åŒ…ã€‚ æ“ä½œ åˆ›å»ºä¸€ä¸ªæ”¯æŒ swift çš„æ–°é¡¹ç›®ï¼Œç„¶åæŠŠ lib assets pubspec.yaml è¦†ç›–å³å¯ã€‚ app å‡çº§ç­–ç•¥ ä»£ç å®ç°å®šä¹‰æ¥å£ post /app/update åŠ å…¥ä¾èµ–åŒ… pubspec.yaml 123456789101112131415161718dependencies: # è®¾å¤‡ä¿¡æ¯ device_info: ^0.4.2+3 # åŒ…ä¿¡æ¯ package_info: ^0.4.0+18 # è·¯å¾„æŸ¥è¯¢ path_provider: ^1.6.8 # permission æƒé™ permission_handler: ^5.0.0+hotfix.6 # å®‰è£… install_plugin: ^2.0.1 # å¯¹è¯æ¡† easy_dialog: ^1.0.5 å‡çº§å·¥å…·ç±» lib/common/utils/update.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134import 'dart:io';import 'package:dio/dio.dart';import 'package:easy_dialog/easy_dialog.dart';import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/apis/app.dart';import 'package:flutter_ducafecat_news/common/entitys/entitys.dart';import 'package:flutter_ducafecat_news/common/widgets/toast.dart';import 'package:flutter_ducafecat_news/global.dart';import 'package:install_plugin/install_plugin.dart';import 'package:path_provider/path_provider.dart';/// app å‡çº§class AppUpdateUtil &#123; static AppUpdateUtil _instance = AppUpdateUtil._internal(); factory AppUpdateUtil() =&gt; _instance; BuildContext _context; AppUpdateResponseEntity _appUpdateInfo; AppUpdateUtil._internal(); /// è·å–æ›´æ–°ä¿¡æ¯ Future run(BuildContext context) async &#123; _context = context; // æäº¤ è®¾å¤‡ç±»å‹ã€å‘è¡Œæ¸ é“ã€æ¶æ„ã€æœºå‹ AppUpdateRequestEntity requestDeviceInfo = AppUpdateRequestEntity( device: Global.isIOS == true ? \"ios\" : \"android\", channel: Global.channel, architecture: Global.isIOS == true ? Global.iosDeviceInfo.utsname.machine : Global.androidDeviceInfo.device, model: Global.isIOS == true ? Global.iosDeviceInfo.name : Global.androidDeviceInfo.brand, ); _appUpdateInfo = await AppApi.update(context: context, params: requestDeviceInfo); _runAppUpdate(); &#125; /// æ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆ Future _runAppUpdate() async &#123; // æ¯”è¾ƒç‰ˆæœ¬ final isNewVersion = (_appUpdateInfo.latestVersion.compareTo(Global.packageInfo.version) == 1); // å®‰è£… if (isNewVersion == true) &#123; _appUpdateConformDialog(() &#123; Navigator.of(_context).pop(); if (Global.isIOS == true) &#123; // å»è‹¹æœåº— InstallPlugin.gotoAppStore(_appUpdateInfo.shopUrl); &#125; else &#123; // apk ä¸‹è½½å®‰è£… toastInfo(msg: \"å¼€å§‹ä¸‹è½½å‡çº§åŒ…\"); _downloadAPKAndSetup(_appUpdateInfo.fileUrl); &#125; &#125;); &#125; &#125; /// ä¸‹è½½æ–‡ä»¶ &amp; å®‰è£… Future _downloadAPKAndSetup(String fileUrl) async &#123; // ä¸‹è½½ Directory externalDir = await getExternalStorageDirectory(); String fullPath = externalDir.path + \"/release.apk\"; Dio dio = Dio(BaseOptions( responseType: ResponseType.bytes, followRedirects: false, validateStatus: (status) &#123; return status &lt; 500; &#125;)); Response response = await dio.get( fileUrl, ); File file = File(fullPath); var raf = file.openSync(mode: FileMode.write); raf.writeFromSync(response.data); await raf.close(); // å®‰è£… await InstallPlugin.installApk(fullPath, Global.packageInfo.packageName); &#125; /// å‡çº§ç¡®è®¤å¯¹è¯æ¡† void _appUpdateConformDialog(VoidCallback onPressed) &#123; EasyDialog( title: Text( \"å‘ç°æ–°ç‰ˆæœ¬ $&#123;_appUpdateInfo.latestVersion&#125;\", style: TextStyle(fontWeight: FontWeight.bold), textScaleFactor: 1.2, ), description: Text( _appUpdateInfo.latestDescription, textScaleFactor: 1.1, textAlign: TextAlign.center, ), height: 220, contentList: [ Row( mainAxisAlignment: MainAxisAlignment.end, children: &lt;Widget&gt;[ new FlatButton( padding: const EdgeInsets.only(top: 8.0), textColor: Colors.lightBlue, onPressed: onPressed, child: new Text( \"åŒæ„\", textScaleFactor: 1.2, ), ), new FlatButton( padding: const EdgeInsets.only(top: 8.0), textColor: Colors.lightBlue, onPressed: () &#123; Navigator.of(_context).pop(); &#125;, child: new Text( \"å–æ¶ˆ\", textScaleFactor: 1.2, ), ), ], ) ]).show(_context); &#125;&#125; è¯»å–è®¾å¤‡ä¿¡æ¯ æ’ä»¶ https://pub.flutter-io.cn/packages/device_info å…¨å±€ä¿¡æ¯ lib/global.dart 12345678910111213141516171819202122232425262728/// æ˜¯å¦ iosstatic bool isIOS = Platform.isIOS;/// android è®¾å¤‡ä¿¡æ¯static AndroidDeviceInfo androidDeviceInfo;/// ios è®¾å¤‡ä¿¡æ¯static IosDeviceInfo iosDeviceInfo;/// åŒ…ä¿¡æ¯static PackageInfo packageInfo;/// initstatic Future init() async &#123; ... // è¯»å–è®¾å¤‡ä¿¡æ¯ DeviceInfoPlugin deviceInfoPlugin = DeviceInfoPlugin(); if (Global.isIOS) &#123; Global.iosDeviceInfo = await deviceInfoPlugin.iosInfo; &#125; else &#123; Global.androidDeviceInfo = await deviceInfoPlugin.androidInfo; &#125; // åŒ…ä¿¡æ¯ Global.packageInfo = await PackageInfo.fromPlatform(); ... å®šä¹‰å‡çº§ä¿¡æ¯ entity lib/common/entitys/app.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657class AppUpdateRequestEntity &#123; String device; String channel; String architecture; String model; AppUpdateRequestEntity(&#123; this.device, this.channel, this.architecture, this.model, &#125;); factory AppUpdateRequestEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; AppUpdateRequestEntity( device: json[\"device\"], channel: json[\"channel\"], architecture: json[\"architecture\"], model: json[\"model\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"device\": device, \"channel\": channel, \"architecture\": architecture, \"model\": model, &#125;;&#125;class AppUpdateResponseEntity &#123; String shopUrl; String fileUrl; String latestVersion; String latestDescription; AppUpdateResponseEntity(&#123; this.shopUrl, this.fileUrl, this.latestVersion, this.latestDescription, &#125;); factory AppUpdateResponseEntity.fromJson(Map&lt;String, dynamic&gt; json) =&gt; AppUpdateResponseEntity( shopUrl: json[\"shopUrl\"], fileUrl: json[\"fileUrl\"], latestVersion: json[\"latestVersion\"], latestDescription: json[\"latestDescription\"], ); Map&lt;String, dynamic&gt; toJson() =&gt; &#123; \"shopUrl\": shopUrl, \"fileUrl\": fileUrl, \"latestVersion\": latestVersion, \"latestDescription\": latestDescription, &#125;;&#125; api è¯·æ±‚ lib/common/apis/app.dart 123456789101112131415/// ç³»ç»Ÿç›¸å…³class AppApi &#123; /// è·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ static Future&lt;AppUpdateResponseEntity&gt; update(&#123; @required BuildContext context, AppUpdateRequestEntity params, &#125;) async &#123; var response = await HttpUtil().post( '/app/update', context: context, params: params, ); return AppUpdateResponseEntity.fromJson(response); &#125;&#125; æäº¤ä¿¡æ¯ è·å–ç‰ˆæœ¬ lib/common/utils/update.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243/// è·å–æ›´æ–°ä¿¡æ¯Future run(BuildContext context) async &#123; _context = context; // æäº¤ è®¾å¤‡ç±»å‹ã€å‘è¡Œæ¸ é“ã€æ¶æ„ã€æœºå‹ AppUpdateRequestEntity requestDeviceInfo = AppUpdateRequestEntity( device: Global.isIOS == true ? \"ios\" : \"android\", channel: Global.channel, architecture: Global.isIOS == true ? Global.iosDeviceInfo.utsname.machine : Global.androidDeviceInfo.device, model: Global.isIOS == true ? Global.iosDeviceInfo.name : Global.androidDeviceInfo.brand, ); _appUpdateInfo = await AppApi.update(context: context, params: requestDeviceInfo); _runAppUpdate();&#125;/// æ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆFuture _runAppUpdate() async &#123; // æ¯”è¾ƒç‰ˆæœ¬ final isNewVersion = (_appUpdateInfo.latestVersion.compareTo(Global.packageInfo.version) == 1); // å®‰è£… if (isNewVersion == true) &#123; _appUpdateConformDialog(() &#123; Navigator.of(_context).pop(); if (Global.isIOS == true) &#123; // å»è‹¹æœåº— InstallPlugin.gotoAppStore(_appUpdateInfo.shopUrl); &#125; else &#123; // apk ä¸‹è½½å®‰è£… toastInfo(msg: \"å¼€å§‹ä¸‹è½½å‡çº§åŒ…\"); _downloadAPKAndSetup(_appUpdateInfo.fileUrl); &#125; &#125;); &#125;&#125; android åŠ¨æ€æˆæƒ æ’ä»¶ https://pub.flutter-io.cn/packages/permission_handler å®˜æ–¹æ–‡ç«  https://developer.android.com/training/permissions/requesting https://developer.android.com/training/permissions/usage-notes AndroidManifest.xml ä¸­åŠ å…¥æƒé™ android/app/src/main/AndroidManifest.xml 123&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt; flutter å¯åŠ¨é¡µä¸­æ‰§è¡Œæˆæƒ lib/pages/index/index.dart åœ¨ initState æ˜¯æ‰§è¡Œ å»¶è¿Ÿ 3 ç§’ï¼Œç”¨æˆ·ä½“éªŒå¥½äº› 123456789101112131415161718192021class _IndexPageState extends State&lt;IndexPage&gt; &#123; @override void initState() &#123; super.initState(); if (Global.isRelease == true) &#123; doAppUpdate(); &#125; &#125; Future doAppUpdate() async &#123; await Future.delayed(Duration(seconds: 3), () async &#123; if (Global.isIOS == false &amp;&amp; await Permission.storage.isGranted == false) &#123; await [Permission.storage].request(); &#125; if (await Permission.storage.isGranted) &#123; AppUpdateUtil().run(context); &#125; &#125;); &#125; android ç›®å½•æƒé™ æ’ä»¶ https://pub.flutter-io.cn/packages/path_providerhttps://pub.flutter-io.cn/packages/install_plugin æ–‡ç«  https://developer.android.com/reference/androidx/core/content/FileProvider.html lib/common/utils/update.dart 123456789101112131415161718192021222324/// ä¸‹è½½æ–‡ä»¶ &amp; å®‰è£…Future _downloadAPKAndSetup(String fileUrl) async &#123; // ä¸‹è½½ Directory externalDir = await getExternalStorageDirectory(); String fullPath = externalDir.path + \"/release.apk\"; Dio dio = Dio(BaseOptions( responseType: ResponseType.bytes, followRedirects: false, validateStatus: (status) &#123; return status &lt; 500; &#125;)); Response response = await dio.get( fileUrl, ); File file = File(fullPath); var raf = file.openSync(mode: FileMode.write); raf.writeFromSync(response.data); await raf.close(); // å®‰è£… await InstallPlugin.installApk(fullPath, Global.packageInfo.packageName);&#125; EasyDialog å¿«é€Ÿæç¤ºæ¡† æ’ä»¶ https://pub.flutter-io.cn/packages/easy_dialog lib/common/utils/update.dart 123456789101112131415161718192021222324252627282930313233343536373839404142/// å‡çº§ç¡®è®¤å¯¹è¯æ¡†void _appUpdateConformDialog(VoidCallback onPressed) &#123; EasyDialog( title: Text( \"å‘ç°æ–°ç‰ˆæœ¬ $&#123;_appUpdateInfo.latestVersion&#125;\", style: TextStyle(fontWeight: FontWeight.bold), textScaleFactor: 1.2, ), description: Text( _appUpdateInfo.latestDescription, textScaleFactor: 1.1, textAlign: TextAlign.center, ), height: 220, contentList: [ Row( mainAxisAlignment: MainAxisAlignment.end, children: &lt;Widget&gt;[ new FlatButton( padding: const EdgeInsets.only(top: 8.0), textColor: Colors.lightBlue, onPressed: onPressed, child: new Text( \"åŒæ„\", textScaleFactor: 1.2, ), ), new FlatButton( padding: const EdgeInsets.only(top: 8.0), textColor: Colors.lightBlue, onPressed: () &#123; Navigator.of(_context).pop(); &#125;, child: new Text( \"å–æ¶ˆ\", textScaleFactor: 1.2, ), ), ], ) ]).show(_context);&#125; èµ„æºè§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ è“æ¹–è®¾è®¡ç¨¿ï¼ˆåŠ å¾®ä¿¡ç»™æˆæƒ ducafecatï¼‰https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ å‚è€ƒ æ–‡ç«  https://developer.android.com/training/permissions/requestinghttps://developer.android.com/training/permissions/usage-noteshttps://developer.android.com/reference/androidx/core/content/FileProvider.html flutter æ’ä»¶ https://pub.flutter-io.cn/packages/device_infohttps://pub.flutter-io.cn/packages/path_providerhttps://pub.flutter-io.cn/packages/permission_handlerhttps://pub.flutter-io.cn/packages/install_pluginhttps://pub.flutter-io.cn/packages/easy_dialog VSCode æ’ä»¶ Flutterã€Dart Flutter Widget Snippets Awesome Flutter Snippets Paste JSON as Code bloc Code Spell Checker Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 10 ç¼–è¯‘å‘å¸ƒæ­£å¼ç‰ˆ","date":"2020-05-04T16:00:00.000Z","path":"2020/05/05/flutter-project/flutter-project-news-10-release/","text":"æœ¬èŠ‚ç›®æ ‡ ç¼–è¯‘ build releae ç¨‹åºç˜¦èº« æ··æ·†ç¨‹åº ä¿®æ”¹ç¨‹åºåç§° åˆ¶ä½œå›¾æ ‡ åˆ¶ä½œå¯åŠ¨ç”»é¢ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.10 æ­£æ–‡1. APP å›¾æ ‡è§„æ ¼è¯´æ˜https://developer.android.com/google-play/resources/icon-design-specifications https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/app-icon/ å›¾æ ‡å°ºå¯¸android 512x512 ios 1024x1024 åœ¨çº¿å·¥å…·https://www.designevo.com/cn/logo-maker/ flutter_launcher_icons æ’ä»¶https://pub.dev/packages/flutter_launcher_icons pubspec.yaml12345678dev_dependencies: # icons flutter_launcher_icons: ^0.7.5flutter_icons: android: \"launcher_icon\" ios: true image_path: \"assets/icons/logo-1024.png\" ç”Ÿæˆå›¾æ ‡1flutter pub run flutter_launcher_icons:main å›¾æ ‡ç›®å½•android/app/src/main/res ios/Runner/Assets.xcassets/AppIcon.appiconset 2. å¯åŠ¨å›¾ç‰‡è§„æ ¼è¯´æ˜https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/adaptivity-and-layout/#device-screen-sizes-and-orientations https://developer.android.com/about/dashboards/index.html#Screens https://uiiiuiii.com/screen/ å›¾ç‰‡å°ºå¯¸iPhone XS Max 1242px Ã— 2688px android xxhdpi xhdpi åœ¨çº¿å·¥å…·https://hotpot.ai/icon_resizer 3. Android å‘å¸ƒè¯ä¹¦ç­¾åè¯´æ˜https://developer.android.com/studio/publish/app-signing?hl=zh-cn ç”Ÿæˆè¯ä¹¦12345# è¿›å…¥ç›®å½• android/app/keytool -genkey -v -keystore ./key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key# è¾“å‡ºæ–‡ä»¶android/app/key.jks Gradle é…ç½® android/gradle.properties 1android.enableAapt2=false # ä¸æ£€æµ‹ä¾èµ–èµ„æº android/key.properties 1234storePassword=123456keyPassword=123456keyAlias=keystoreFile=./key.jks android/app/build.gradle 123456789101112131415161718192021222324252627282930// å®šä¹‰å±æ€§è¯»å–å¯¹è±¡ï¼Œè¯»å– android/key.propertiesdef keystoreProperties = new Properties()def keystorePropertiesFile = rootProject.file('key.properties')if (keystorePropertiesFile.exists()) &#123; keystoreProperties.load(new FileInputStream(keystorePropertiesFile))&#125;android &#123; compileSdkVersion 28 ... // ç­¾åé…ç½® signingConfigs &#123; release &#123; keyAlias keystoreProperties['keyAlias'] keyPassword keystoreProperties['keyPassword'] storeFile file(keystoreProperties['storeFile']) storePassword keystoreProperties['storePassword'] &#125; &#125; buildTypes &#123; // å‘å¸ƒé…ç½® release &#123; signingConfig signingConfigs.release &#125; &#125;&#125; ä¿®æ”¹ç‰ˆæœ¬å· pubspec.yaml 1version: 1.0.0+1 ä¿®æ”¹ç¨‹åºåç§° android/app/src/main/AndroidManifest.xml 1234&lt;application android:name=\"io.flutter.app.FlutterApplication\" android:label=\"çŒ«å“¥æ–°é—»\" android:icon=\"@mipmap/launcher_icon\"&gt; è®¾ç½®ç½‘ç»œæƒé™ android/app/src/main/AndroidManifest.xml 1234 &lt;/application&gt; &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;&lt;/manifest&gt; ç¼–è¯‘æ‰“åŒ…1flutter build apk --split-per-abi è¾“å‡ºç›®å½•123âœ“ Built build/app/outputs/apk/release/app-armeabi-v7a-release.apk (7.2MB).âœ“ Built build/app/outputs/apk/release/app-arm64-v8a-release.apk (7.4MB).âœ“ Built build/app/outputs/apk/release/app-x86_64-release.apk (7.6MB). æ··æ·†ç¼–è¯‘https://github.com/flutter/flutter/wiki/Obfuscating-Dart-Code android/gradle.properties 1extra-gen-snapshot-options=--obfuscate android/proguard-rules.pro 12345678#Flutter Wrapper-dontwarn io.flutter.**-keep class io.flutter.app.** &#123; *; &#125;-keep class io.flutter.plugin.** &#123; *; &#125;-keep class io.flutter.util.** &#123; *; &#125;-keep class io.flutter.view.** &#123; *; &#125;-keep class io.flutter.** &#123; *; &#125;-keep class io.flutter.plugins.** &#123; *; &#125; android/app/build.gradle 123456789101112buildTypes &#123; release &#123; signingConfig signingConfigs.release minifyEnabled true //èµ„æºå‹ç¼©è®¾ç½® useProguard true //ä»£ç å‹ç¼©è®¾ç½® //è¯»å–ä»£ç å‹ç¼©é…ç½®æ–‡ä»¶ proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' &#125;&#125; ç¼–è¯‘ 1flutter build apk --split-per-abi å¯åŠ¨é¡µ å›¾ç‰‡ android/app/src/main/res/values/colors.xml 1234&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;resources&gt; &lt;color name=\"cyan\"&gt;#deecec&lt;/color&gt;&lt;/resources&gt; android/app/src/main/res/drawable/launch_background.xml 12345678910&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;!-- Modify this file to customize your launch splash screen --&gt;&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt; &lt;item android:drawable=\"@color/cyan\" /&gt; &lt;item&gt; &lt;bitmap android:gravity=\"center\" android:src=\"@mipmap/launch_image\" /&gt; &lt;/item&gt;&lt;/layer-list&gt; 4. IOS å‘å¸ƒå¯åŠ¨é¡µ ä¿®æ”¹ç¨‹åºåç§° èµ„æºè§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ è“æ¹–è®¾è®¡ç¨¿ï¼ˆåŠ å¾®ä¿¡ç»™æˆæƒ ducafecatï¼‰https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ å‚è€ƒhttps://flutter.dev/docs/deployment/android https://flutter.dev/docs/deployment/ios https://flutter.dev/docs/deployment/obfuscate https://github.com/flutter/flutter/wiki/Obfuscating-Dart-Code https://pub.dev/packages/flutter_launcher_icons https://developer.android.com/google-play/resources/icon-design-specifications https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/app-icon/ https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/adaptivity-and-layout/#device-screen-sizes-and-orientations https://developer.android.com/about/dashboards/index.html#Screens https://uiiiuiii.com/screen/ VSCode æ’ä»¶ Flutterã€Dart Flutter Widget Snippets Awesome Flutter Snippets Paste JSON as Code bloc Code Spell Checker Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 09 è¯¦æƒ…é¡µå±•ç¤ºã€åˆ†äº«ã€è¿œç¨‹çœŸæœºè°ƒè¯•","date":"2020-04-23T16:00:00.000Z","path":"2020/04/24/flutter-project/flutter-project-news-09-webview/","text":"æœ¬èŠ‚ç›®æ ‡ è¯¦æƒ…é¡µæŠ€æœ¯æ–¹æ¡ˆæ¯”è¾ƒ è½½å…¥ web å†…å®¹ è‡ªåŠ¨è®¡ç®—é«˜åº¦ æ¸…é™¤å¹¿å‘Šã€æ¨è æ‹¦æˆªè¯·æ±‚ loading çŠ¶æ€æ˜¾ç¤º åˆ†äº«æ’ä»¶ è¿œç¨‹ android è®¾å¤‡è°ƒè¯• è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.9 è¯¦æƒ…å±•ç¤ºæŠ€æœ¯æ–¹æ¡ˆé€‰æ‹©åˆ†æå·¥å…· UI automator view æ–‡ä»¶ä½ç½® /Users/ducafecat/Library/Android/sdk/tools/bin/uiautomatorviewer æ·˜å®æ–¹æ¡ˆ æ··åˆæ–¹å¼ å¤´æ¡ æ··åˆæ–¹å¼ ä»€ä¹ˆå€¼å¾—ä¹° å•ä¸€ webView æŠ€æœ¯ç‚¹åˆ†æ webView åŸç”Ÿ æ··åˆæ–¹å¼ è®¡ç®— web é¡µé¢é«˜åº¦ æ‹¦æˆªè¯·æ±‚ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤ å†…å­˜å ç”¨ï¼ˆå°½é‡å°‘çš„ dom å…ƒç´ ï¼‰ å®‰è£…æ’ä»¶ webview_flutter https://pub.flutter-io.cn/packages/webview_flutter pubspec.yaml 12dependencies: webview_flutter: ^0.3.20+2 ios/Runner/Info.plist 12&lt;key&gt;io.flutter.embedded_views_preview&lt;/key&gt;&lt;true/&gt; æ„å»ºç•Œé¢ä»£ç 123456789101112131415161718192021222324252627282930313233343536// é¡¶éƒ¨å¯¼èˆªWidget _buildAppBar() &#123; return Container();&#125;// é¡µæ ‡é¢˜Widget _buildPageTitle() &#123; return Container();&#125;// é¡µå¤´éƒ¨Widget _buildPageHeader() &#123; return Container();&#125;// webå†…å®¹Widget _buildWebView() &#123; return Container();&#125;@overrideWidget build(BuildContext context) &#123; return Scaffold( appBar: _buildAppBar(), body: SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildPageTitle(), Divider(height: 1), _buildPageHeader(), _buildWebView(), ], ), ), );&#125; url è½½å…¥1234567891011121314Widget _buildWebView() &#123; return Container( height: _webViewHeight, child: WebView( initialUrl: '$SERVER_API_URL/news/content/$&#123;widget.item.id&#125;', //widget.url, javascriptMode: JavascriptMode.unrestricted, onWebViewCreated: (WebViewController webViewController) async &#123; _controller.complete(webViewController); &#125;, gestureNavigationEnabled: true, ), );&#125; è®¡ç®—é«˜åº¦ PX DP https://blog.akanelee.me/2018/07/31/dpi-px-pt-dp-sp/ è®¾å¤‡åƒç´ å¯†åº¦ ä¸€ä¸ªé€»è¾‘åƒç´ å ç”¨å¤šå°‘ä¸ªå®é™…åƒç´  https://developer.mozilla.org/zh-CN/docs/Web/API/Window/devicePixelRatio https://api.flutter.dev/flutter/dart-ui/Window/devicePixelRatio.html æ³¨å†Œ js 12345double _webViewHeight = 200; javascriptChannels: &lt;JavascriptChannel&gt;[ _invokeJavascriptChannel(context), ].toSet(), 123456789101112131415// æ³¨å†Œjså›è°ƒJavascriptChannel _invokeJavascriptChannel(BuildContext context) &#123; return JavascriptChannel( name: 'Invoke', onMessageReceived: (JavascriptMessage message) &#123; print(message.message); var webHeight = double.parse(message.message); if (webHeight != null) &#123; setState(() &#123; _webViewHeight = webHeight; &#125;); &#125; &#125;);&#125; å›è°ƒ 123456onPageFinished: (String url) &#123; _getWebViewHeight(); setState(() &#123; _isPageFinished = true; &#125;);&#125;, 123456789101112// è·å–é¡µé¢é«˜åº¦_getWebViewHeight() async &#123; await (await _controller.future)?.evaluateJavascript(''' try &#123; // Invoke.postMessage([document.body.clientHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight]); let scrollHeight = document.documentElement.scrollHeight; if (scrollHeight) &#123; Invoke.postMessage(scrollHeight); &#125; &#125; catch &#123;&#125; ''');&#125; æ¸…é™¤å¹¿å‘Šã€æ¨è https://cn.engadget.com/cn-2020-01-21-google-pixelbook-go-not-pink-available.html åˆ é™¤å¹¿å‘Š 123456789onPageStarted: (String url) &#123; Timer(Duration(seconds: 1), () &#123; setState(() &#123; _isPageFinished = true; &#125;); _removeAd(); _getViewHeight(); &#125;);&#125;, 1234567891011121314151617181920212223_removeWebViewAd() async &#123; await (await _controller.future)?.evaluateJavascript(''' try &#123; function removeElement(elementName)&#123; let _element = document.getElementById(elementName); if(!_element) &#123; _element = document.querySelector(elementName); &#125; if(!_element) &#123; return; &#125; let _parentElement = _element.parentNode; if(_parentElement)&#123; _parentElement.removeChild(_element); &#125; &#125; removeElement('module-engadget-deeplink-top-ad'); removeElement('module-engadget-deeplink-streams'); removeElement('footer'); &#125; catch&#123;&#125; ''');&#125; æ‹¦æˆªè¯·æ±‚ é¡µé¢ä¸­ href 1234567891011&lt;div class=\"tags\"&gt; &lt;a href=\"/tag/chrome-os\" class=\"tag\"&gt;chrome os&lt;/a&gt; &lt;a href=\"/tag/chromebook\" class=\"tag\"&gt;chromebook&lt;/a&gt; &lt;a href=\"/tag/computer\" class=\"tag\"&gt;computer&lt;/a&gt; &lt;a href=\"/tag/gear\" class=\"tag\"&gt;gear&lt;/a&gt; &lt;a href=\"/tag/google\" class=\"tag\"&gt;google&lt;/a&gt; &lt;a href=\"/tag/laptop\" class=\"tag\"&gt;laptop&lt;/a&gt; &lt;a href=\"/tag/personal computing\" class=\"tag\"&gt;personal computing&lt;/a&gt; &lt;a href=\"/tag/personalcomputing\" class=\"tag\"&gt;personalcomputing&lt;/a&gt; &lt;a href=\"/tag/pixelbook-go\" class=\"tag\"&gt;pixelbook go&lt;/a&gt;&lt;/div&gt; navigation æ‹¦æˆª 1234567navigationDelegate: (NavigationRequest request) &#123; if (request.url != '$SERVER_API_URL/news/content/$&#123;widget.item.id&#125;') &#123; toastInfo(msg: request.url); return NavigationDecision.prevent; &#125; return NavigationDecision.navigate;&#125;, loading çŠ¶æ€æ˜¾ç¤º12345678910111213141516171819202122232425262728bool _isPageFinished = false;@overrideWidget build(BuildContext context) &#123; return Scaffold( appBar: _buildAppBar(), body: Stack( children: &lt;Widget&gt;[ SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildPageTitle(), Divider(height: 1), _buildPageHeader(), _buildWebView(), ], ), ), _isPageFinished == true ? Container() : Align( alignment: Alignment.center, child: LoadingBouncingGrid.square(), ), ], ));&#125; åˆ†äº«å®‰è£…æ’ä»¶12dependencies: share: ^0.6.4 ä»£ç 123onPressed: () &#123; Share.share('$&#123;widget.item.title&#125; $&#123;widget.item.url&#125;');&#125;, çœŸæœºè°ƒè¯• scrcpy https://github.com/Genymobile/scrcpy èµ„æºè§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ è“æ¹–è®¾è®¡ç¨¿ï¼ˆåŠ å¾®ä¿¡ç»™æˆæƒ ducafecatï¼‰https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ å‚è€ƒhttps://pub.flutter-io.cn/packages/webview_flutterhttps://pub.flutter-io.cn/packages/loading_animationshttps://pub.flutter-io.cn/packages/sharehttps://github.com/Genymobile/scrcpy VSCode æ’ä»¶ Flutterã€Dart Flutter Widget Snippets Awesome Flutter Snippets Paste JSON as Code bloc Code Spell Checker Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 08 è·¯ç”±ç®¡ç† auto_route","date":"2020-04-16T16:00:00.000Z","path":"2020/04/17/flutter-project/flutter-project-news-08-auto-route/","text":"æœ¬èŠ‚ç›®æ ‡ å®‰è£…æ’ä»¶ è·¯ç”±å®šä¹‰ è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ§åˆ¶ç±» è½¬åœºåŠ¨ç”» ç™»å½•æ£€æŸ¥ä¸­é—´ä»¶ å¸¦å‚æ•°ä¼ é€’ è·å–è¿”å›å€¼ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.8 æ­£æ–‡ä¸€äº›ä¼˜ç§€çš„è·¯ç”±æ’ä»¶ fluro å‰ç«¯çš„ä½¿ç”¨ä½“éªŒ router.navigateTo(context, â€œ/users/1234â€, transition: TransitionType.fadeIn); flutter_modular åŠŸèƒ½å¼ºå¤§çš„è·¯ç”±ç®¡ç†ï¼šä¸­é—´ä»¶ã€æ‡’åŠ è½½ã€çŠ¶æ€ç®¡ç†ã€åŠ¨æ€è·¯ç”±ã€åˆ†ç»„è·¯ç”±ã€åŠ¨ç”»ã€è¿”å›å€¼ã€å‘½åè·¯ç”± auto_route è®¾è®¡ç²¾ç®€ã€ä½è€¦åˆå…¶å®ƒåŠŸèƒ½ åŠŸèƒ½ï¼šä¸­é—´ä»¶ã€è‡ªåŠ¨ç”Ÿæˆè·¯ç”±ä»£ç ã€åŠ¨æ€è·¯ç”±ã€åŠ¨ç”»ã€è¿”å›å€¼ã€å‘½åè·¯ç”± å®‰è£…æ’ä»¶ å®˜ç½‘ https://pub.flutter-io.cn/packages/auto_route pubspec.yaml 1234567891011121314dependencies: flutter: sdk: flutter # è·¯ç”±ç®¡ç† auto_route: ^0.4.4dev_dependencies: flutter_test: sdk: flutter # è·¯ç”±ç”Ÿæˆ auto_route_generator: ^0.4.4 build_runner: è·¯ç”±å®šä¹‰ lib/common/router/router.dart 123456789101112131415@MaterialAutoRouter()class $AppRouter &#123; @initial IndexPage indexPageRoute; WelcomePage welcomePageRoute; SignInPage signInPageRoute; SignUpPage signUpPageRoute; ApplicationPage applicationPageRoute; DetailsPage detailsPageRoute;&#125; æ³¨æ„ $ ç¬¦å· è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ§åˆ¶ç±» æ‰§è¡Œå‘½ä»¤ 1flutter packages pub run build_runner build è‡ªåŠ¨ç”Ÿæˆ lib/common/router/router.gr.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144// GENERATED CODE - DO NOT MODIFY BY HAND// **************************************************************************// AutoRouteGenerator// **************************************************************************import 'package:flutter/material.dart';import 'package:flutter/cupertino.dart';import 'package:auto_route/auto_route.dart';import 'package:flutter_ducafecat_news/pages/index/index.dart';import 'package:flutter_ducafecat_news/pages/welcome/welcome.dart';import 'package:flutter_ducafecat_news/pages/sign_in/sign_in.dart';import 'package:flutter_ducafecat_news/pages/sign_up/sign_up.dart';import 'package:flutter_ducafecat_news/pages/application/application.dart';import 'package:flutter_ducafecat_news/common/router/auth_grard.dart';import 'package:flutter_ducafecat_news/pages/details/details.dart';abstract class Routes &#123; static const indexPageRoute = '/'; static const welcomePageRoute = '/welcome-page-route'; static const signInPageRoute = '/sign-in-page-route'; static const signUpPageRoute = '/sign-up-page-route'; static const applicationPageRoute = '/application-page-route'; static const detailsPageRoute = '/details-page-route';&#125;class AppRouter extends RouterBase &#123; @override Map&lt;String, List&lt;Type&gt;&gt; get guardedRoutes =&gt; &#123; Routes.applicationPageRoute: [AuthGuard], Routes.detailsPageRoute: [AuthGuard], &#125;; //This will probably be removed in future versions //you should call ExtendedNavigator.ofRouter&lt;Router&gt;() directly static ExtendedNavigatorState get navigator =&gt; ExtendedNavigator.ofRouter&lt;AppRouter&gt;(); @override Route&lt;dynamic&gt; onGenerateRoute(RouteSettings settings) &#123; final args = settings.arguments; switch (settings.name) &#123; case Routes.indexPageRoute: if (hasInvalidArgs&lt;IndexPageArguments&gt;(args)) &#123; return misTypedArgsRoute&lt;IndexPageArguments&gt;(args); &#125; final typedArgs = args as IndexPageArguments ?? IndexPageArguments(); return MaterialPageRoute&lt;dynamic&gt;( builder: (_) =&gt; IndexPage(key: typedArgs.key), settings: settings, ); case Routes.welcomePageRoute: if (hasInvalidArgs&lt;WelcomePageArguments&gt;(args)) &#123; return misTypedArgsRoute&lt;WelcomePageArguments&gt;(args); &#125; final typedArgs = args as WelcomePageArguments ?? WelcomePageArguments(); return MaterialPageRoute&lt;dynamic&gt;( builder: (_) =&gt; WelcomePage(key: typedArgs.key), settings: settings, ); case Routes.signInPageRoute: if (hasInvalidArgs&lt;SignInPageArguments&gt;(args)) &#123; return misTypedArgsRoute&lt;SignInPageArguments&gt;(args); &#125; final typedArgs = args as SignInPageArguments ?? SignInPageArguments(); return MaterialPageRoute&lt;dynamic&gt;( builder: (_) =&gt; SignInPage(key: typedArgs.key), settings: settings, ); case Routes.signUpPageRoute: if (hasInvalidArgs&lt;SignUpPageArguments&gt;(args)) &#123; return misTypedArgsRoute&lt;SignUpPageArguments&gt;(args); &#125; final typedArgs = args as SignUpPageArguments ?? SignUpPageArguments(); return MaterialPageRoute&lt;dynamic&gt;( builder: (_) =&gt; SignUpPage(key: typedArgs.key), settings: settings, ); case Routes.applicationPageRoute: if (hasInvalidArgs&lt;ApplicationPageArguments&gt;(args)) &#123; return misTypedArgsRoute&lt;ApplicationPageArguments&gt;(args); &#125; final typedArgs = args as ApplicationPageArguments ?? ApplicationPageArguments(); return MaterialPageRoute&lt;dynamic&gt;( builder: (_) =&gt; ApplicationPage(key: typedArgs.key), settings: settings, ); case Routes.detailsPageRoute: if (hasInvalidArgs&lt;DetailsPageArguments&gt;(args)) &#123; return misTypedArgsRoute&lt;DetailsPageArguments&gt;(args); &#125; final typedArgs = args as DetailsPageArguments ?? DetailsPageArguments(); return MaterialPageRoute&lt;dynamic&gt;( builder: (_) =&gt; DetailsPage(key: typedArgs.key), settings: settings, ); default: return unknownRoutePage(settings.name); &#125; &#125;&#125;//**************************************************************************// Arguments holder classes//***************************************************************************//IndexPage arguments holder classclass IndexPageArguments &#123; final Key key; IndexPageArguments(&#123;this.key&#125;);&#125;//WelcomePage arguments holder classclass WelcomePageArguments &#123; final Key key; WelcomePageArguments(&#123;this.key&#125;);&#125;//SignInPage arguments holder classclass SignInPageArguments &#123; final Key key; SignInPageArguments(&#123;this.key&#125;);&#125;//SignUpPage arguments holder classclass SignUpPageArguments &#123; final Key key; SignUpPageArguments(&#123;this.key&#125;);&#125;//ApplicationPage arguments holder classclass ApplicationPageArguments &#123; final Key key; ApplicationPageArguments(&#123;this.key&#125;);&#125;//DetailsPage arguments holder classclass DetailsPageArguments &#123; final Key key; DetailsPageArguments(&#123;this.key&#125;);&#125; è·¯ç”±è·³è½¬ æ–¹å¼ 1ï¼šå¸¦ context æ–¹å¼ 1ExtendedNavigator.of(context).pushNamed(Routes.signUpPageRoute); æ–¹å¼ 2ï¼šä¸å¸¦ context æ–¹å¼ 1ExtendedNavigator.ofRouter&lt;AppRouter&gt;().pushNamed(Routes.signUpPageRoute); æ–¹å¼ 3ï¼šå¦‚æœä½ åªæœ‰ä¸€ä¸ªå¯¼èˆª 1ExtenedNavigator.rootNavigator.pushNamed(Routes.signUpPageRoute); è½¬åœºåŠ¨ç”» lib/common/router/router.dart 1234567891011121314Widget zoomInTransition(BuildContext context, Animation&lt;double&gt; animation, Animation&lt;double&gt; secondaryAnimation, Widget child) &#123; // you get an animation object and a widget // make your own transition return ScaleTransition(scale: animation, child: child);&#125;@MaterialAutoRouter()class $AppRouter &#123; ... @CustomRoute(transitionsBuilder: zoomInTransition) ApplicationPage applicationPageRoute;&#125; é‡æ–°ç”Ÿæˆ 1flutter packages pub run build_runner build ç™»å½•æ£€æŸ¥ä¸­é—´ä»¶ åˆ›å»º lib/common/router/auth_grard.dart 12345678910111213141516import 'package:auto_route/auto_route.dart';import 'package:flutter_ducafecat_news/common/router/router.gr.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';class AuthGuard extends RouteGuard &#123; @override Future&lt;bool&gt; canNavigate(ExtendedNavigatorState navigator, String routeName, Object arguments) async &#123; var isAuth = await isAuthenticated(); if (isAuth == false) &#123; ExtendedNavigator.rootNavigator.pushNamed(Routes.signInPageRoute); &#125; return isAuth; &#125;&#125; æ³¨å†Œ lib/main.dart 1234567891011121314class MyApp extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; return MaterialApp( title: 'ducafecat.tech', debugShowCheckedModeBanner: false, builder: ExtendedNavigator&lt;AppRouter&gt;( initialRoute: Routes.indexPageRoute, router: AppRouter(), guards: [AuthGuard()], ), ); &#125;&#125; å®šä¹‰ lib/common/router/router.dart 12345678@MaterialAutoRouter()class $AppRouter &#123; ... @GuardedBy([AuthGuard]) @CustomRoute(transitionsBuilder: zoomInTransition) ApplicationPage applicationPageRoute;&#125; é‡æ–°ç”Ÿæˆ 1flutter packages pub run build_runner build å‚æ•°ä¼ é€’ è®¾å®šåˆå§‹å‚æ•° lib/pages/details/details.dart 123class DetailsPage extends StatefulWidget &#123; final String cid; DetailsPage(&#123;Key key, this.cid&#125;) : super(key: key); å®šä¹‰ lib/common/router/router.dart 123@MaterialAutoRouter(generateNavigationHelperExtension: true)class $AppRouter &#123; ... é‡æ–°ç”Ÿæˆ 1flutter packages pub run build_runner build lib/common/router/router.gr.dart 123456//DetailsPage arguments holder classclass DetailsPageArguments &#123; final Key key; final String cid; DetailsPageArguments(&#123;this.key, this.cid&#125;);&#125; å¯¼èˆªå‚æ•° 1ExtendedNavigator.rootNavigator.pushDetailsPageRoute(cid: '123'); è·å–è¿”å›å€¼ 12345ExtendedNavigator.rootNavigator .pushNamed(Routes.signUpPageRoute) .then((onValue) &#123; print(onValue);&#125;); èµ„æºè§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ è“æ¹–è®¾è®¡ç¨¿ï¼ˆåŠ å¾®ä¿¡ç»™æˆæƒ ducafecatï¼‰https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ å‚è€ƒhttps://pub.flutter-io.cn/packages/auto_route VSCode æ’ä»¶ Flutterã€Dart Flutter Widget Snippets Awesome Flutter Snippets Paste JSON as Code bloc Code Spell Checker Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 07 Providerã€è®¤è¯æˆæƒã€éª¨æ¶å±ã€ç£ç›˜ç¼“å­˜","date":"2020-04-07T16:00:00.000Z","path":"2020/04/08/flutter-project/flutter-project-news-07-provider/","text":"æœ¬èŠ‚ç›®æ ‡ ç¬¬ä¸€æ¬¡ç™»å½•æ˜¾ç¤ºæ¬¢è¿ç•Œé¢ ç¦»çº¿ç™»å½• Provider å“åº”æ•°æ®ç®¡ç† å®ç° APP è‰²å½©ç°åº¦å¤„ç† æ³¨é”€ç™»å½• Http Status 401 è®¤è¯æˆæƒ é¦–é¡µç£ç›˜ç¼“å­˜ é¦–é¡µç¼“å­˜ç­–ç•¥ï¼Œå»¶è¿Ÿ 1~3 ç§’ é¦–é¡µéª¨æ¶å± è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.7 è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ èµ„æº è“æ¹–è®¾è®¡ç¨¿ï¼ˆåŠ å¾®ä¿¡ç»™æˆæƒ ducafecatï¼‰https://lanhuapp.com/url/wbhGq YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.7 å‚è€ƒ provider pk_skeleton ç¬¬ä¸€æ¬¡æ˜¾ç¤ºæ¬¢è¿ç•Œé¢ã€ç¦»çº¿ç™»å½• lib/global.dart 12345678910111213141516171819202122/// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€static bool isFirstOpen = false;/// æ˜¯å¦ç¦»çº¿ç™»å½•static bool isOfflineLogin = false;/// initstatic Future init() async &#123; ... // è¯»å–è®¾å¤‡ç¬¬ä¸€æ¬¡æ‰“å¼€ isFirstOpen = !StorageUtil().getBool(STORAGE_DEVICE_ALREADY_OPEN_KEY); if (isFirstOpen) &#123; StorageUtil().setBool(STORAGE_DEVICE_ALREADY_OPEN_KEY, true); &#125; // è¯»å–ç¦»çº¿ç”¨æˆ·ä¿¡æ¯ var _profileJSON = StorageUtil().getJSON(STORAGE_USER_PROFILE_KEY); if (_profileJSON != null) &#123; profile = UserLoginResponseEntity.fromJson(_profileJSON); isOfflineLogin = true; &#125; lib/pages/index/index.dart 123456789101112131415161718192021222324class IndexPage extends StatefulWidget &#123; IndexPage(&#123;Key key&#125;) : super(key: key); @override _IndexPageState createState() =&gt; _IndexPageState();&#125;class _IndexPageState extends State&lt;IndexPage&gt; &#123; @override Widget build(BuildContext context) &#123; ScreenUtil.init( context, width: 375, height: 812 - 44 - 34, allowFontScaling: true, ); return Scaffold( body: Global.isFirstOpen == true ? WelcomePage() : Global.isOfflineLogin == true ? ApplicationPage() : SignInPage(), ); &#125;&#125; Provider å®ç°åŠ¨æ€ç°åº¦å¤„ç†https://pub.flutter-io.cn/packages/provider æ­¥éª¤ 1ï¼šå®‰è£…ä¾èµ–12dependencies: provider: ^4.0.4 æ­¥éª¤ 2ï¼šåˆ›å»ºå“åº”æ•°æ®ç±» lib/common/provider/app.dart 123456789101112import 'package:flutter/material.dart';/// ç³»ç»Ÿç›¸åº”çŠ¶æ€class AppState with ChangeNotifier &#123; bool _isGrayFilter; get isGrayFilter =&gt; _isGrayFilter; AppState(&#123;bool isGrayFilter = false&#125;) &#123; this._isGrayFilter = isGrayFilter; &#125;&#125; æ­¥éª¤ 3ï¼šåˆå§‹å“åº”æ•°æ®æ–¹å¼ä¸€ï¼šå…ˆåˆ›å»ºæ•°æ®å¯¹è±¡ï¼Œå†æŒ‚è½½ lib/global.dart 12/// åº”ç”¨çŠ¶æ€static AppState appState = AppState(); lib/main.dart 12345678910void main() =&gt; Global.init().then((e) =&gt; runApp( MultiProvider( providers: [ ChangeNotifierProvider&lt;AppState&gt;.value( value: Global.appState, ), ], child: MyApp(), ), )); æ–¹å¼äºŒï¼šæŒ‚è½½æ—¶ï¼Œåˆ›å»ºå¯¹è±¡ lib/main.dart 12345678910void main() =&gt; Global.init().then((e) =&gt; runApp( MultiProvider( providers: [ ChangeNotifierProvider&lt;AppState&gt;( Create: (_) =&gt; new AppState(), ), ], child: MyApp(), ), )); æ­¥éª¤ 4ï¼šé€šçŸ¥æ•°æ®å‘å£°å˜åŒ– lib/common/provider/app.dart 123456789class AppState with ChangeNotifier &#123; ... // åˆ‡æ¢ç°è‰²æ»¤é•œ switchGrayFilter() &#123; _isGrayFilter = !_isGrayFilter; notifyListeners(); &#125;&#125; æ­¥éª¤ 5ï¼šæ”¶åˆ°æ•°æ®å‘å£°å˜åŒ–æ–¹å¼ä¸€ï¼šConsumer lib/main.dart 12345678910111213141516171819void main() =&gt; Global.init().then((e) =&gt; runApp( MultiProvider( providers: [ ChangeNotifierProvider&lt;AppState&gt;.value( value: Global.appState, ), ], child: Consumer&lt;AppState&gt;(builder: (context, appState, _) &#123; if (appState.isGrayFilter) &#123; return ColorFiltered( colorFilter: ColorFilter.mode(Colors.white, BlendMode.color), child: MyApp(), ); &#125; else &#123; return MyApp(); &#125; &#125;), ), )); æ–¹å¼äºŒï¼šProvider.of lib/pages/account/account.dart 123456789101112final appState = Provider.of&lt;AppState&gt;(context);return Column( children: &lt;Widget&gt;[ MaterialButton( onPressed: () &#123; appState.switchGrayFilter(); &#125;, child: Text('ç°è‰²åˆ‡æ¢ $&#123;appState.isGrayFilter&#125;'), ), ],); å¤šä¸ªå“åº”æ•°æ®å¤„ç† æŒ‚è½½ç”¨ MultiProvider æ¥æ”¶ç”¨ Consumer2 ~ Consumer6 æ³¨é”€ç™»å½• lib/common/utils/authentication.dart 123456789101112131415161718/// æ£€æŸ¥æ˜¯å¦æœ‰ tokenFuture&lt;bool&gt; isAuthenticated() async &#123; var profileJSON = StorageUtil().getJSON(STORAGE_USER_PROFILE_KEY); return profileJSON != null ? true : false;&#125;/// åˆ é™¤ç¼“å­˜ tokenFuture deleteAuthentication() async &#123; await StorageUtil().remove(STORAGE_USER_PROFILE_KEY); Global.profile = null;&#125;/// é‡æ–°ç™»å½•Future goLoginPage(BuildContext context) async &#123; await deleteAuthentication(); Navigator.pushNamedAndRemoveUntil( context, \"/sign-in\", (Route&lt;dynamic&gt; route) =&gt; false);&#125; lib/pages/account/account.dart 12345678910111213141516171819class _AccountPageState extends State&lt;AccountPage&gt; &#123; @override Widget build(BuildContext context) &#123; final appState = Provider.of&lt;AppState&gt;(context); return Column( children: &lt;Widget&gt;[ Text('ç”¨æˆ·: $&#123;Global.profile.displayName&#125;'), Divider(), MaterialButton( onPressed: () &#123; goLoginPage(context); &#125;, child: Text('é€€å‡º'), ), ], ); &#125;&#125; Http Status 401 è®¤è¯æˆæƒdio å°è£…ç•Œé¢çš„ä¸Šä¸‹æ–‡å¯¹è±¡ BuildContext context lib/common/utils/http.dart 123456789101112Future post( String path, &#123; @required BuildContext context, dynamic params, Options options,&#125;) async &#123; Options requestOptions = options ?? Options(); requestOptions = requestOptions.merge(extra: &#123; \"context\": context, &#125;); ...&#125; é”™è¯¯å¤„ç† 401 å»ç™»å½•ç•Œé¢ lib/common/utils/http.dart 12345678910111213141516171819202122// æ·»åŠ æ‹¦æˆªå™¨dio.interceptors .add(InterceptorsWrapper(onRequest: (RequestOptions options) &#123; return options; //continue&#125;, onResponse: (Response response) &#123; return response; // continue&#125;, onError: (DioError e) &#123; ErrorEntity eInfo = createErrorEntity(e); // é”™è¯¯æç¤º toastInfo(msg: eInfo.message); // é”™è¯¯äº¤äº’å¤„ç† var context = e.request.extra[\"context\"]; if (context != null) &#123; switch (eInfo.code) &#123; case 401: // æ²¡æœ‰æƒé™ é‡æ–°ç™»å½• goLoginPage(context); break; default: &#125; &#125; return eInfo;&#125;)); é¦–é¡µç£ç›˜ç¼“å­˜ lib/common/utils/net_cache.dart 12345678910111213141516171819202122232425// ç­–ç•¥ 1 å†…å­˜ç¼“å­˜ä¼˜å…ˆï¼Œ2 ç„¶åæ‰æ˜¯ç£ç›˜ç¼“å­˜// 1 å†…å­˜ç¼“å­˜var ob = cache[key];if (ob != null) &#123; //è‹¥ç¼“å­˜æœªè¿‡æœŸï¼Œåˆ™è¿”å›ç¼“å­˜å†…å®¹ if ((DateTime.now().millisecondsSinceEpoch - ob.timeStamp) / 1000 &lt; CACHE_MAXAGE) &#123; return cache[key].response; &#125; else &#123; //è‹¥å·²è¿‡æœŸåˆ™åˆ é™¤ç¼“å­˜ï¼Œç»§ç»­å‘æœåŠ¡å™¨è¯·æ±‚ cache.remove(key); &#125;&#125;// 2 ç£ç›˜ç¼“å­˜if (cacheDisk) &#123; var cacheData = StorageUtil().getJSON(key); if (cacheData != null) &#123; return Response( statusCode: 200, data: cacheData, ); &#125;&#125; é¦–é¡µç¼“å­˜ç­–ç•¥ï¼Œå»¶è¿Ÿ 1~3 ç§’ lib/pages/main/channels_widget.dart 1234567891011// å¦‚æœæœ‰ç£ç›˜ç¼“å­˜ï¼Œå»¶è¿Ÿ3ç§’æ‹‰å–æ›´æ–°æ¡£æ¡ˆ_loadLatestWithDiskCache() &#123; if (CACHE_ENABLE == true) &#123; var cacheData = StorageUtil().getJSON(STORAGE_INDEX_NEWS_CACHE_KEY); if (cacheData != null) &#123; Timer(Duration(seconds: 3), () &#123; _controller.callRefresh(); &#125;); &#125; &#125;&#125; é¦–é¡µéª¨æ¶å±https://pub.flutter-io.cn/packages/pk_skeleton lib/pages/main/main.dart 12345678@overrideWidget build(BuildContext context) &#123; return _newsPageList == null ? cardListSkeleton() : EasyRefresh( enableControlFinishRefresh: true, controller: _controller, ... Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 06 ä»£ç è§„èŒƒã€ä¸šåŠ¡ä»£ç ç»„ç»‡ã€æ–°é—»é¦–é¡µå®ç°","date":"2020-03-30T16:00:00.000Z","path":"2020/03/31/flutter-project/flutter-project-news-06-main-ui/","text":"1 æœ¬èŠ‚ç›®æ ‡ ä»£ç è§„èŒƒ ä¸šåŠ¡ä»£ç ç»„ç»‡ é¦–é¡µä»£ç ç¼–å†™ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.6 2 ä»£ç è§„èŒƒ2.1 å®˜æ–¹ä»£ç è§„èŒƒhttps://dart.dev/guides/language/effective-dart 2.3 chrome æ’ä»¶ &lt;å½©äº‘å°è¯‘ - ç½‘é¡µç¿»è¯‘æ’ä»¶&gt;https://chrome.google.com/webstore/detail/lingocloud-web-translatio/jmpepeebcbihafjjadogphmbgiffiajh 2.4 é˜¿é‡Œé¡¹ç›®è§„èŒƒhttps://github.com/alibaba/flutter-go/blob/master/Flutter_Go%20%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83.md 3 ä¸šåŠ¡ç•Œé¢ä»£ç ç»„ç»‡3.1 reduxã€fish-redux redux æ¶æ„ fish-redux æ¶æ„ è¿›ä¸€æ­¥çš„ç»†åˆ†ï¼Œè¿›è¡Œè§„èŒƒ https://github.com/alibaba/fish-redux/tree/master/dochttps://medium.com/@dave790602/flutter-architecture-fish-redux-9b753912224a fish-redux ä»£ç  3.2 bloc æ¶æ„ https://bloclibrary.dev/#/ ä»£ç ç»„ç»‡ 3.3 ç®€å•å°±æ˜¯ç¾ 3.4 å¦‚ä½•å¹³è¡¡ æ˜¯å¦å›¢é˜Ÿå¼€å‘ æ˜¯å¦ç®€å•ä¸šåŠ¡ï¼ˆ20 é¡µé¢ï¼‰ æ˜¯å¦é‡äº¤äº’ï¼ˆè§†é¢‘ç¤¾äº¤ã€èŠå¤© Aï¼‰ 4 æ–°é—»é¦–é¡µå®ç°4.1 ç•Œé¢ç»„æˆåˆ†æ åˆ†ç±»å¯¼èˆªã€æ¨èæ–°é—»ã€é¢‘é“å¯¼èˆª æ–°é—»åˆ—è¡¨ã€å¹¿å‘Š adã€é‚®ä»¶è®¢é˜… 4.2 ä»£ç æ¡†æ¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758...class _MainPageState extends State&lt;MainPage&gt; &#123; @override void initState() &#123; super.initState(); _loadAllData(); &#125; // è¯»å–æ‰€æœ‰æ•°æ® _loadAllData() async &#123; &#125; // åˆ†ç±»èœå• Widget _buildCategories() &#123; return Container(); &#125; // æ¨èé˜…è¯» Widget _buildRecommend() &#123; return Container(); &#125; // é¢‘é“ Widget _buildChannels() &#123; return Container(); &#125; // æ–°é—»åˆ—è¡¨ Widget _buildNewsList() &#123; return Container(); &#125; // ad å¹¿å‘Šæ¡ // é‚®ä»¶è®¢é˜… Widget _buildEmailSubscribe() &#123; return newsletterWidget(); &#125; @override Widget build(BuildContext context) &#123; return SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildCategories(), Divider(height: 1), _buildRecommend(), Divider(height: 1), _buildChannels(), Divider(height: 1), _buildNewsList(), Divider(height: 1), _buildEmailSubscribe(), ], ), ); &#125;&#125; 4.3 å®ç°ä¸šåŠ¡ åˆ›å»º widget å•ç‹¬æ–‡ä»¶ åˆ†ç±»å¯¼èˆª lib/pages/main/categories_widget.dart 1234567891011121314151617181920212223242526272829303132Widget newsCategoriesWidget(&#123; List&lt;CategoryResponseEntity&gt; categories, String selCategoryCode, Function(CategoryResponseEntity) onTap,&#125;) &#123; return SingleChildScrollView( scrollDirection: Axis.horizontal, child: Row( children: categories.map&lt;Widget&gt;((item) &#123; return Container( alignment: Alignment.center, height: duSetHeight(52), padding: EdgeInsets.symmetric(horizontal: 8), child: GestureDetector( child: Text( item.title, style: TextStyle( color: selCategoryCode == item.code ? AppColors.secondaryElementText : AppColors.primaryText, fontSize: duSetFontSize(18), fontFamily: 'Montserrat', fontWeight: FontWeight.w600, ), ), onTap: () =&gt; onTap(item), ), ); &#125;).toList(), ), );&#125; é¢‘é“å¯¼èˆª lib/pages/main/channels_widget.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879Widget newsChannelsWidget(&#123; List&lt;ChannelResponseEntity&gt; channels, Function(ChannelResponseEntity) onTap,&#125;) &#123; return Container( height: duSetHeight(137), child: SingleChildScrollView( scrollDirection: Axis.horizontal, child: Row( children: channels.map&lt;Widget&gt;((item) &#123; return Container( width: duSetWidth(70), height: duSetHeight(97), margin: EdgeInsets.symmetric(horizontal: duSetWidth(10)), child: InkWell( child: Column( crossAxisAlignment: CrossAxisAlignment.stretch, mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [ // å›¾æ ‡ Container( height: duSetWidth(64), margin: EdgeInsets.symmetric(horizontal: duSetWidth(3)), child: Stack( alignment: Alignment.center, children: [ Positioned( left: 0, top: 0, right: 0, child: Container( height: duSetWidth(64), decoration: BoxDecoration( color: AppColors.primaryBackground, boxShadow: [ Shadows.primaryShadow, ], borderRadius: BorderRadius.all(Radius.circular(32)), ), child: Container(), ), ), Positioned( left: duSetWidth(10), top: duSetWidth(10), right: duSetWidth(10), child: Image.asset( \"assets/images/channel-$&#123;item.code&#125;.png\", fit: BoxFit.none, ), ), ], ), ), // æ ‡é¢˜ Text( item.title, textAlign: TextAlign.center, overflow: TextOverflow.clip, maxLines: 1, style: TextStyle( color: AppColors.thirdElementText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(14), height: 1, ), ), ], ), onTap: () =&gt; onTap(item), ), ); &#125;).toList(), ), ), );&#125; æ–°é—»è¡Œ Item lib/pages/main/news_item_widget.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116Widget newsItem(NewsItem item) &#123; return Container( height: duSetHeight(161), padding: EdgeInsets.all(duSetWidth(20)), child: Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, crossAxisAlignment: CrossAxisAlignment.start, children: &lt;Widget&gt;[ // å›¾ imageCached( item.thumbnail, width: duSetWidth(121), height: duSetWidth(121), ), // å³ä¾§ SizedBox( width: duSetWidth(194), child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: &lt;Widget&gt;[ // ä½œè€… Container( margin: EdgeInsets.all(0), child: Text( item.author, style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.thirdElementText, fontSize: duSetFontSize(14), height: 1, ), ), ), // æ ‡é¢˜ Container( margin: EdgeInsets.only(top: duSetHeight(10)), child: Text( item.title, style: TextStyle( fontFamily: 'Montserrat', fontWeight: FontWeight.w500, color: AppColors.primaryText, fontSize: duSetFontSize(16), height: 1, ), overflow: TextOverflow.clip, maxLines: 3, ), ), // Spacer Spacer(), // ä¸€è¡Œ 3 åˆ— Container( child: Row( crossAxisAlignment: CrossAxisAlignment.center, children: &lt;Widget&gt;[ // åˆ†ç±» ConstrainedBox( constraints: BoxConstraints( maxWidth: duSetWidth(60), ), child: Text( item.category, style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.secondaryElementText, fontSize: duSetFontSize(14), height: 1, ), overflow: TextOverflow.clip, maxLines: 1, ), ), // æ·»åŠ æ—¶é—´ Container( width: duSetWidth(15), ), ConstrainedBox( constraints: BoxConstraints( maxWidth: duSetWidth(100), ), child: Text( 'â€¢ $&#123;duTimeLineFormat(item.addtime)&#125;', style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.thirdElementText, fontSize: duSetFontSize(14), height: 1, ), overflow: TextOverflow.clip, maxLines: 1, ), ), // æ›´å¤š Spacer(), InkWell( child: Icon( Icons.more_horiz, color: AppColors.primaryText, size: 24, ), onTap: () &#123;&#125;, ), ], ), ), ], ), ), ], ), );&#125; é‚®ä»¶è®¢é˜… lib/pages/main/newsletter_widget.dart 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283Widget newsletterWidget() &#123; return Container( margin: EdgeInsets.all(duSetWidth(20)), child: Column( children: &lt;Widget&gt;[ // newsletter Row( children: &lt;Widget&gt;[ Text( 'Newsletter', style: TextStyle( fontFamily: 'Montserrat', fontSize: duSetFontSize(18), fontWeight: FontWeight.w600, color: AppColors.thirdElement, ), ), Spacer(), IconButton( icon: Icon( Icons.close, color: AppColors.thirdElementText, size: duSetFontSize(17), ), onPressed: () &#123;&#125;, ), ], ), // email inputEmailEdit( marginTop: 19, keyboardType: TextInputType.emailAddress, hintText: \"Email\", isPassword: false, controller: null, ), // btn subcrible Padding( padding: EdgeInsets.only(top: 15), child: btnFlatButtonWidget( onPressed: () &#123;&#125;, width: duSetWidth(335), height: duSetHeight(44), fontWeight: FontWeight.w600, title: \"Subscribe\", ), ), // disc Container( margin: EdgeInsets.only(top: duSetHeight(29)), width: duSetWidth(261), child: Text.rich(TextSpan(children: &lt;TextSpan&gt;[ TextSpan( text: 'By clicking on Subscribe button you agree to accept', style: new TextStyle( color: AppColors.thirdElementText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(14), ), ), TextSpan( text: ' Privacy Policy', style: new TextStyle( color: AppColors.secondaryElementText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(14), ), recognizer: TapGestureRecognizer() ..onTap = () &#123; toastInfo(msg: 'Privacy Policy'); &#125;, ), ])), ), ], ), );&#125; æ¨èé˜…è¯» lib/pages/main/recommend_widget.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101Widget recommendWidget(NewsRecommendResponseEntity newsRecommend) &#123; return Container( margin: EdgeInsets.all(duSetWidth(20)), child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: &lt;Widget&gt;[ // å›¾ imageCached( newsRecommend.thumbnail, width: duSetWidth(335), height: duSetHeight(290), ), // ä½œè€… Container( margin: EdgeInsets.only(top: duSetHeight(14)), child: Text( newsRecommend.author, style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.thirdElementText, fontSize: duSetFontSize(14), ), ), ), // æ ‡é¢˜ Container( margin: EdgeInsets.only(top: duSetHeight(10)), child: Text( newsRecommend.title, style: TextStyle( fontFamily: 'Montserrat', fontWeight: FontWeight.w600, color: AppColors.primaryText, fontSize: duSetFontSize(24), height: 1, ), ), ), // ä¸€è¡Œ 3 åˆ— Container( margin: EdgeInsets.only(top: duSetHeight(10)), child: Row( crossAxisAlignment: CrossAxisAlignment.center, children: &lt;Widget&gt;[ // åˆ†ç±» ConstrainedBox( constraints: const BoxConstraints( maxWidth: 120, ), child: Text( newsRecommend.category, style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.secondaryElementText, fontSize: duSetFontSize(14), height: 1, ), overflow: TextOverflow.clip, maxLines: 1, ), ), // æ·»åŠ æ—¶é—´ Container( width: duSetWidth(15), ), ConstrainedBox( constraints: const BoxConstraints( maxWidth: 120, ), child: Text( 'â€¢ $&#123;duTimeLineFormat(newsRecommend.addtime)&#125;', style: TextStyle( fontFamily: 'Avenir', fontWeight: FontWeight.normal, color: AppColors.thirdElementText, fontSize: duSetFontSize(14), height: 1, ), overflow: TextOverflow.clip, maxLines: 1, ), ), // æ›´å¤š Spacer(), InkWell( child: Icon( Icons.more_horiz, color: AppColors.primaryText, size: 24, ), onTap: () &#123;&#125;, ), ], ), ), ], ), );&#125; è“æ¹–è®¾è®¡ç¨¿https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ å‚è€ƒ Flutter Go ä»£ç å¼€å‘è§„èŒƒ 0.1.0 ç‰ˆ effective-dart bloc VSCode æ’ä»¶ Flutterã€Dart Flutter Widget Snippets Awesome Flutter Snippets Paste JSON as Code bloc è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 05 AppDataã€Cacheã€Fiddleã€iconfontã€ä¸»ç•Œé¢æ­å»º","date":"2020-03-24T16:00:00.000Z","path":"2020/03/25/flutter-project/flutter-project-news-05-cache-iconfont/","text":"æœ¬èŠ‚ç›®æ ‡ å…¨å±€æ•°æ®ã€å“åº”æ•°æ®ã€æŒä¹…åŒ– http get ç¼“å­˜ http proxy ä»£ç† fiddle æŠ“åŒ…å·¥å…· iconfont å­—ä½“åº“ ä¸»ç•Œé¢æ­å»º BottomNavigationBar å¯¼èˆªæ§ä»¶ ç¼–å†™ api æ¥å£ä»£ç  è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.5 å®¢æˆ·ç«¯æ•°æ®ç®¡ç†æ•°æ®ç±»å‹ å…¨å±€æ•°æ® å­˜å‚¨åœ¨å†…å­˜ ç”¨æˆ·æ•°æ®ã€è¯­è¨€åŒ… å“åº”æ•°æ® å­˜å‚¨åœ¨å†…å­˜ ç”¨æˆ·ç™»å½•çŠ¶æ€ã€å¤šè¯­è¨€ã€çš®è‚¤æ ·å¼ Reduxã€Blocã€provider æŒä¹…åŒ– APP ä¿æŒç£ç›˜ä¸Š æµè§ˆå™¨ cookie localStorage ç¼–å†™å…¨å±€ç®¡ç† lib/global.dart 123456789101112131415161718192021222324252627282930313233343536373839404142/// å…¨å±€é…ç½®class Global &#123; /// ç”¨æˆ·é…ç½® static UserLoginResponseEntity profile = UserLoginResponseEntity( accessToken: null, ); /// æ˜¯å¦ release static bool get isRelease =&gt; bool.fromEnvironment(\"dart.vm.product\"); /// init static Future init() async &#123; // è¿è¡Œåˆå§‹ WidgetsFlutterBinding.ensureInitialized(); // å·¥å…·åˆå§‹ await StorageUtil.init(); HttpUtil(); // è¯»å–ç¦»çº¿ç”¨æˆ·ä¿¡æ¯ var _profileJSON = StorageUtil().getJSON(STORAGE_USER_PROFILE_KEY); if (_profileJSON != null) &#123; profile = UserLoginResponseEntity.fromJson(_profileJSON); &#125; // http ç¼“å­˜ // android çŠ¶æ€æ ä¸ºé€æ˜çš„æ²‰æµ¸ if (Platform.isAndroid) &#123; SystemUiOverlayStyle systemUiOverlayStyle = SystemUiOverlayStyle(statusBarColor: Colors.transparent); SystemChrome.setSystemUIOverlayStyle(systemUiOverlayStyle); &#125; &#125; // æŒä¹…åŒ– ç”¨æˆ·ä¿¡æ¯ static Future&lt;bool&gt; saveProfile(UserLoginResponseEntity userResponse) &#123; profile = userResponse; return StorageUtil() .setJSON(STORAGE_USER_PROFILE_KEY, userResponse.toJson()); &#125;&#125; è°ƒç”¨è¿è¡Œ lib/main.dart 12345678void main() =&gt; Global.init().then((e) =&gt; runApp(MyApp()));class MyApp extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; return Container(); &#125;&#125; Http å†…å­˜ç¼“å­˜ç¼“å­˜ç­–ç•¥ ä»£ç  ç¼“å­˜å·¥å…·ç±» lib/common/utils/net_cache.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293import 'dart:collection';import 'package:dio/dio.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';class CacheObject &#123; CacheObject(this.response) : timeStamp = DateTime.now().millisecondsSinceEpoch; Response response; int timeStamp; @override bool operator ==(other) &#123; return response.hashCode == other.hashCode; &#125; @override int get hashCode =&gt; response.realUri.hashCode;&#125;class NetCache extends Interceptor &#123; // ä¸ºç¡®ä¿è¿­ä»£å™¨é¡ºåºå’Œå¯¹è±¡æ’å…¥æ—¶é—´ä¸€è‡´é¡ºåºä¸€è‡´ï¼Œæˆ‘ä»¬ä½¿ç”¨LinkedHashMap var cache = LinkedHashMap&lt;String, CacheObject&gt;(); @override onRequest(RequestOptions options) async &#123; if (!CACHE_ENABLE) return options; // refreshæ ‡è®°æ˜¯å¦æ˜¯\"ä¸‹æ‹‰åˆ·æ–°\" bool refresh = options.extra[\"refresh\"] == true; // å¦‚æœæ˜¯ä¸‹æ‹‰åˆ·æ–°ï¼Œå…ˆåˆ é™¤ç›¸å…³ç¼“å­˜ if (refresh) &#123; if (options.extra[\"list\"] == true) &#123; //è‹¥æ˜¯åˆ—è¡¨ï¼Œåˆ™åªè¦urlä¸­åŒ…å«å½“å‰pathçš„ç¼“å­˜å…¨éƒ¨åˆ é™¤ï¼ˆç®€å•å®ç°ï¼Œå¹¶ä¸ç²¾å‡†ï¼‰ cache.removeWhere((key, v) =&gt; key.contains(options.path)); &#125; else &#123; // å¦‚æœä¸æ˜¯åˆ—è¡¨ï¼Œåˆ™åªåˆ é™¤uriç›¸åŒçš„ç¼“å­˜ delete(options.uri.toString()); &#125; return options; &#125; // get è¯·æ±‚ï¼Œå¼€å¯ç¼“å­˜ if (options.extra[\"noCache\"] != true &amp;&amp; options.method.toLowerCase() == 'get') &#123; String key = options.extra[\"cacheKey\"] ?? options.uri.toString(); var ob = cache[key]; if (ob != null) &#123; //è‹¥ç¼“å­˜æœªè¿‡æœŸï¼Œåˆ™è¿”å›ç¼“å­˜å†…å®¹ if ((DateTime.now().millisecondsSinceEpoch - ob.timeStamp) / 1000 &lt; CACHE_MAXAGE) &#123; return cache[key].response; &#125; else &#123; //è‹¥å·²è¿‡æœŸåˆ™åˆ é™¤ç¼“å­˜ï¼Œç»§ç»­å‘æœåŠ¡å™¨è¯·æ±‚ cache.remove(key); &#125; &#125; &#125; &#125; @override onError(DioError err) async &#123; // é”™è¯¯çŠ¶æ€ä¸ç¼“å­˜ &#125; @override onResponse(Response response) async &#123; // å¦‚æœå¯ç”¨ç¼“å­˜ï¼Œå°†è¿”å›ç»“æœä¿å­˜åˆ°ç¼“å­˜ if (CACHE_ENABLE) &#123; _saveCache(response); &#125; &#125; _saveCache(Response object) &#123; RequestOptions options = object.request; // åªç¼“å­˜ get çš„è¯·æ±‚ if (options.extra[\"noCache\"] != true &amp;&amp; options.method.toLowerCase() == \"get\") &#123; // å¦‚æœç¼“å­˜æ•°é‡è¶…è¿‡æœ€å¤§æ•°é‡é™åˆ¶ï¼Œåˆ™å…ˆç§»é™¤æœ€æ—©çš„ä¸€æ¡è®°å½• if (cache.length == CACHE_MAXCOUNT) &#123; cache.remove(cache[cache.keys.first]); &#125; String key = options.extra[\"cacheKey\"] ?? options.uri.toString(); cache[key] = CacheObject(object); &#125; &#125; void delete(String key) &#123; cache.remove(key); &#125;&#125; dio å°è£… lib/common/utils/http.dart 1234567891011121314151617181920212223242526272829303132333435363738394041424344// åŠ å†…å­˜ç¼“å­˜HttpUtil._internal() &#123; ... dio.interceptors.add(NetCache()); ...&#125;// ä¿®æ”¹ get è¯·æ±‚/// restful get æ“ä½œ/// refresh æ˜¯å¦ä¸‹æ‹‰åˆ·æ–° é»˜è®¤ false/// noCache æ˜¯å¦ä¸ç¼“å­˜ é»˜è®¤ true/// list æ˜¯å¦åˆ—è¡¨ é»˜è®¤ false/// cacheKey ç¼“å­˜keyFuture get( String path, &#123; dynamic params, Options options, bool refresh = false, bool noCache = !CACHE_ENABLE, bool list = false, String cacheKey,&#125;) async &#123; try &#123; Options requestOptions = options ?? Options(); requestOptions = requestOptions.merge(extra: &#123; \"refresh\": refresh, \"noCache\": noCache, \"list\": list, \"cacheKey\": cacheKey, &#125;); Map&lt;String, dynamic&gt; _authorization = getAuthorizationHeader(); if (_authorization != null) &#123; requestOptions = requestOptions.merge(headers: _authorization); &#125; var response = await dio.get(path, queryParameters: params, options: requestOptions, cancelToken: cancelToken); return response.data; &#125; on DioError catch (e) &#123; throw createErrorEntity(e); &#125;&#125; Http Proxy ä»£ç† + Fiddle æŠ“åŒ…å®‰è£… Fiddlehttps://www.telerik.com/download/fiddler-everywhere dio åŠ å…¥ proxy lib/common/utils/http.dart 1234567891011if (!Global.isRelease &amp;&amp; PROXY_ENABLE) &#123; (dio.httpClientAdapter as DefaultHttpClientAdapter).onHttpClientCreate = (client) &#123; client.findProxy = (uri) &#123; return \"PROXY $PROXY_IP:$PROXY_PORT\"; &#125;; //ä»£ç†å·¥å…·ä¼šæä¾›ä¸€ä¸ªæŠ“åŒ…çš„è‡ªç­¾åè¯ä¹¦ï¼Œä¼šé€šä¸è¿‡è¯ä¹¦æ ¡éªŒï¼Œæ‰€ä»¥æˆ‘ä»¬ç¦ç”¨è¯ä¹¦æ ¡éªŒ client.badCertificateCallback = (X509Certificate cert, String host, int port) =&gt; true; &#125;;&#125; Iconfont å­—ä½“åº“å¼•å…¥æµç¨‹ ç™»å½• https://www.iconfont.cn åˆ›å»ºå­—ä½“é¡¹ç›® å­—ä½“æ–‡ä»¶æ”¾å…¥ assets/fonts/iconfont.ttf pubspec.yaml 12345fonts: ... - family: Iconfont fonts: - asset: assets/fonts/iconfont.ttf lib/common/utils/iconfont.dart 123456789101112import 'package:flutter/material.dart';class Iconfont &#123; // iconName: share static const share = IconData( 0xe60d, fontFamily: 'Iconfont', matchTextDirection: true, ); ...&#125; è‡ªåŠ¨ç”Ÿæˆå­—ä½“åº“ä»£ç https://github.com/ymzuiku/iconfont_builder æ‹‰å–é¡¹ç›®ã€ç¼–è¯‘ 1234567891011# æ‹‰å–é¡¹ç›®&gt; git clone https://github.com/ymzuiku/iconfont_builder# æ›´æ–°åŒ…&gt; pub get# å®‰è£…å·¥å…·&gt; pub global activate iconfont_builder# æ£€æŸ¥ç¯å¢ƒé…ç½®export PATH=$&#123;PATH&#125;:~/.pub-cache/bin å‚è€ƒæˆ‘çš„é…ç½® 123456789101112131415# flutter sdkexport PATH=$&#123;PATH&#125;:~/Documents/sdk/flutter/bin# dart sdkexport PATH=$&#123;PATH&#125;:~/Documents/sdk/flutter/bin/cache/dart-sdk/binexport PATH=$&#123;PATH&#125;:~/.pub-cache/bin# flutter-io å›½å†…é•œåƒexport PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn# androidexport ANDROID_HOME=~/Library/Android/sdkexport PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/platform-toolsexport PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/tools ç”Ÿæˆå­—ä½“ç±» 12cd ä½ çš„é¡¹ç›®æ ¹ç›®å½•iconfont_builder --from ./assets/fonts --to ./lib/common/utils/iconfont.dart ç¼–å†™ api ä¸šåŠ¡ä»£ç  yapi é…ç½® å¯¼å…¥ doc/api.json ä»£ç  æ­å»ºä¸»ç•Œé¢æ¡†æ¶ æ¡†æ¶é¡µé¢ lib/pages/application/application.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152...class _ApplicationPageState extends State&lt;ApplicationPage&gt; with SingleTickerProviderStateMixin &#123; // å½“å‰ tab é¡µç  int _page = 0; // tab é¡µæ ‡é¢˜ final List&lt;String&gt; _tabTitles = [ 'Welcome', 'Cagegory', 'Bookmarks', 'Account' ]; // é¡µæ§åˆ¶å™¨ PageController _pageController; // åº•éƒ¨å¯¼èˆªé¡¹ç›® final List&lt;BottomNavigationBarItem&gt; _bottomTabs = &lt;BottomNavigationBarItem&gt;[...]; // tabæ åŠ¨ç”» void _handleNavBarTap(int index) &#123; ... &#125; // tabæ é¡µç åˆ‡æ¢ void _handlePageChanged(int page) &#123; ... &#125; // é¡¶éƒ¨å¯¼èˆª Widget _buildAppBar() &#123; return Container(); &#125; // å†…å®¹é¡µ Widget _buildPageView() &#123; return Container(); &#125; // åº•éƒ¨å¯¼èˆª Widget _buildBottomNavigationBar() &#123; return Container(); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( appBar: _buildAppBar(), body: _buildPageView(), bottomNavigationBar: _buildBottomNavigationBar(), ); &#125;&#125; ç¼–å†™é¦–é¡µä»£ç  é¦–é¡µä»£ç  lib/pages/main/main.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263...class _MainPageState extends State&lt;MainPage&gt; &#123; NewsPageListResponseEntity _newsPageList; // æ–°é—»ç¿»é¡µ NewsRecommendResponseEntity _newsRecommend; // æ–°é—»æ¨è List&lt;CategoryResponseEntity&gt; _categories; // åˆ†ç±» List&lt;ChannelResponseEntity&gt; _channels; // é¢‘é“ String _selCategoryCode; // é€‰ä¸­çš„åˆ†ç±»Code @override void initState() &#123; super.initState(); _loadAllData(); &#125; // è¯»å–æ‰€æœ‰æ•°æ® _loadAllData() async &#123; ... &#125; // åˆ†ç±»èœå• Widget _buildCategories() &#123; return Container(); &#125; // æŠ½å–å‰å…ˆå®ç°ä¸šåŠ¡ // æ¨èé˜…è¯» Widget _buildRecommend() &#123; return Container(); &#125; // é¢‘é“ Widget _buildChannels() &#123; return Container(); &#125; // æ–°é—»åˆ—è¡¨ Widget _buildNewsList() &#123; return Container(); &#125; // ad å¹¿å‘Šæ¡ // é‚®ä»¶è®¢é˜… Widget _buildEmailSubscribe() &#123; return Container(); &#125; @override Widget build(BuildContext context) &#123; return SingleChildScrollView( child: Column( children: &lt;Widget&gt;[ _buildCategories(), _buildRecommend(), _buildChannels(), _buildNewsList(), _buildEmailSubscribe(), ], ), ); &#125;&#125; æŠ½å–æ–°é—»åˆ†ç±» lib/pages/main/categories_widget.dart 123456789101112131415161718192021222324252627282930313233Widget newsCategoriesWidget( &#123;List&lt;CategoryResponseEntity&gt; categories, String selCategoryCode, Function(CategoryResponseEntity) onTap&#125;) &#123; return categories == null ? Container() : SingleChildScrollView( scrollDirection: Axis.horizontal, child: Row( children: categories.map&lt;Widget&gt;((item) &#123; return Container( alignment: Alignment.center, height: duSetHeight(52), padding: EdgeInsets.symmetric(horizontal: 8), child: GestureDetector( child: Text( item.title, style: TextStyle( color: selCategoryCode == item.code ? AppColors.secondaryElementText : AppColors.primaryText, fontSize: duSetFontSize(18), fontFamily: 'Montserrat', fontWeight: FontWeight.w600, ), ), onTap: () =&gt; onTap(item), ), ); &#125;).toList(), ), );&#125; è“æ¹–è®¾è®¡ç¨¿https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ å·¥å…· json to object quicktype Fiddler æŠ“åŒ… iconfont é˜¿é‡Œå›¾æ ‡åº“ Iconfont ç”Ÿæˆå·¥å…· VSCode æ’ä»¶ Flutterã€Dart Flutter Widget Snippets Awesome Flutter Snippets Paste JSON as Code bloc è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 04 YAPIæ¥å£ç®¡ç†ã€RESTfulã€ç”Ÿæˆä»£ç ã€dioå°è£…","date":"2020-03-15T16:00:00.000Z","path":"2020/03/16/flutter-project/flutter-project-news-04-entity-http/","text":"æœ¬èŠ‚ç›®æ ‡ å‰åç«¯åˆ†ç¦»ã€å¥‘çº¦å¼€å‘æ¨¡å¼ API æ¥å£ç®¡ç†ã€å·¥å…· RESTful æ¥å£è§„èŒƒ TOKEN å®‰å…¨é€šè®¯ è‡ªåŠ¨ç”Ÿæˆ entity æ¥å£å®ä½“ç±» dio å°è£… localstorage æœ¬åœ°å­˜å‚¨ å¯†ç åŠ å¯† è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.4 1. æ¥å£ç®¡ç†1.1 å‰åç«¯åˆ†ç¦»ã€å¥‘çº¦æ¨¡å¼ 1.2 å¸¸è§æ¥å£ç®¡ç†å·¥å…· yapihttps://github.com/YMFE/yapi easymockhttps://github.com/easy-mock/easy-mock RAP2https://github.com/thx/RAP swaggerhttps://swagger.io/ 1.3 yapi æ¥å£ç®¡ç†å·¥å…·ï¼ˆçŒ«å“¥æ¨èï¼‰http://yapi.demo.qunar.com/ è¾“å…¥ è¾“å‡º 1.4 mock æ¨¡æ‹Ÿæ•°æ® 1.5 å•å…ƒæµ‹è¯• 1.6 swagger å¯¼å…¥ 2. restful æ¥å£é£æ ¼ REST wiki ç†è§£ RESTful æ¶æ„ é˜®ä¸€å³° RESTful API è®¾è®¡æŒ‡å— é˜®ä¸€å³° RESTful API æœ€ä½³å®è·µ é˜®ä¸€å³° RESTful æ¶æ„è¯¦è§£ 2.1 http æ“ä½œæ–¹å¼ GET å–æ•°æ® POST æ–°å»ºæ•°æ® PUT æ›´æ–°å…¨éƒ¨æ•°æ® PATCH æ›´æ–°éƒ¨åˆ†æ•°æ® DELETE åˆ é™¤æ•°æ® ä¾‹å­:12345678GET /zoosï¼šåˆ—å‡ºæ‰€æœ‰åŠ¨ç‰©å›­POST /zoosï¼šæ–°å»ºä¸€ä¸ªåŠ¨ç‰©å›­GET /zoos/IDï¼šè·å–æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯PUT /zoos/IDï¼šæ›´æ–°æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯ï¼ˆæä¾›è¯¥åŠ¨ç‰©å›­çš„å…¨éƒ¨ä¿¡æ¯ï¼‰PATCH /zoos/IDï¼šæ›´æ–°æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„ä¿¡æ¯ï¼ˆæä¾›è¯¥åŠ¨ç‰©å›­çš„éƒ¨åˆ†ä¿¡æ¯ï¼‰DELETE /zoos/IDï¼šåˆ é™¤æŸä¸ªåŠ¨ç‰©å›­GET /zoos/ID/animalsï¼šåˆ—å‡ºæŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„æ‰€æœ‰åŠ¨ç‰©DELETE /zoos/ID/animals/IDï¼šåˆ é™¤æŸä¸ªæŒ‡å®šåŠ¨ç‰©å›­çš„æŒ‡å®šåŠ¨ç‰© 2.2 state çŠ¶æ€æ§åˆ¶ 200 OK 400 é”™è¯¯çš„è¯·æ±‚ï¼Œæ¯”å¦‚æ•°æ®ç»“æ„ä¸å¯¹ 401 éœ€è¦ç™»å½•è®¤è¯ 403 å·²ç™»å½•ï¼Œä½†æ˜¯å½“å‰èµ„æºæ²¡æœ‰æˆæƒ 404 æ‰¾ä¸åˆ°ï¼Œåœ°å€é”™è¯¯ 500 æœåŠ¡ç¨‹åºé”™è¯¯ 502 æœåŠ¡ç½‘å…³é”™è¯¯ 503 æœåŠ¡æŒ‚äº† 504 æœåŠ¡ç½‘å…³è¶…æ—¶ 2.3 ä¼˜ç§€å®è·µ Github REST API v3 3. token å®‰å…¨é€šè®¯3.1 åŸºäºä»¤ç‰Œçš„å®‰å…¨æœºåˆ¶ æµç¨‹ æ€è·¯ 3.2 Bearer Type Access Tokenåœ¨é€šè®¯ HTTP HEADER å¤´ä¸­åŠ å…¥ 123GET /resource HTTP/1.1Host: server.example.comAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c 3.3 JWT https://jwt.io/ JSON Web Token å…¥é—¨æ•™ç¨‹ 4. è‡ªåŠ¨ç”Ÿæˆ entity4.1 json_serializable ï¼ˆå®˜æ–¹ï¼‰ https://pub.dev/packages/json_serializable 4.2 json to code ï¼ˆçŒ«å“¥æ¨èï¼‰ https://app.quicktype.io/ vscode æ’ä»¶ https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype 5. dio å°è£…5.1 å•ä¾‹æ¨¡å¼ dio https://pub.dev/packages/dio lib/common/utils/http.dart å•ä¾‹å¸¸è§å°è£…æ–¹å¼ 123456789class HttpUtil &#123; static HttpUtil _instance = HttpUtil._internal(); factory HttpUtil() =&gt; _instance; Dio dio; CancelToken cancelToken = new CancelToken(); HttpUtil._internal() &#123; ... 5.2 ç»´æŠ¤ tokenä»æœ¬åœ° storage ä¸­è¯»å– localstorage https://pub.flutter-io.cn/packages/localstorage getLocalOptions() 12345678910Options getLocalOptions() &#123; Options options; String token = StorageUtil().getItem(STORAGE_USER_TOKEN_KEY); if (token != null) &#123; options = Options(headers: &#123; 'Authorization': 'Bearer $token', &#125;); &#125; return options;&#125; 5.3 å¤„ç†å¼‚å¸¸æ ¼å¼åŒ–ï¼Œé”™è¯¯ä¿¡æ¯ï¼Œè¿›è¡Œå·®åˆ«å¯¹å¾… createErrorEntity() 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192ErrorEntity createErrorEntity(DioError error) &#123; switch (error.type) &#123; case DioErrorType.CANCEL: &#123; return ErrorEntity(code: -1, message: \"è¯·æ±‚å–æ¶ˆ\"); &#125; break; case DioErrorType.CONNECT_TIMEOUT: &#123; return ErrorEntity(code: -1, message: \"è¿æ¥è¶…æ—¶\"); &#125; break; case DioErrorType.SEND_TIMEOUT: &#123; return ErrorEntity(code: -1, message: \"è¯·æ±‚è¶…æ—¶\"); &#125; break; case DioErrorType.RECEIVE_TIMEOUT: &#123; return ErrorEntity(code: -1, message: \"å“åº”è¶…æ—¶\"); &#125; break; case DioErrorType.RESPONSE: &#123; try &#123; int errCode = error.response.statusCode; // String errMsg = error.response.statusMessage; // return ErrorEntity(code: errCode, message: errMsg); switch (errCode) &#123; case 400: &#123; return ErrorEntity(code: errCode, message: \"è¯·æ±‚è¯­æ³•é”™è¯¯\"); &#125; break; case 401: &#123; return ErrorEntity(code: errCode, message: \"æ²¡æœ‰æƒé™\"); &#125; break; case 403: &#123; return ErrorEntity(code: errCode, message: \"æœåŠ¡å™¨æ‹’ç»æ‰§è¡Œ\"); &#125; break; case 404: &#123; return ErrorEntity(code: errCode, message: \"æ— æ³•è¿æ¥æœåŠ¡å™¨\"); &#125; break; case 405: &#123; return ErrorEntity(code: errCode, message: \"è¯·æ±‚æ–¹æ³•è¢«ç¦æ­¢\"); &#125; break; case 500: &#123; return ErrorEntity(code: errCode, message: \"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯\"); &#125; break; case 502: &#123; return ErrorEntity(code: errCode, message: \"æ— æ•ˆçš„è¯·æ±‚\"); &#125; break; case 503: &#123; return ErrorEntity(code: errCode, message: \"æœåŠ¡å™¨æŒ‚äº†\"); &#125; break; case 505: &#123; return ErrorEntity(code: errCode, message: \"ä¸æ”¯æŒHTTPåè®®è¯·æ±‚\"); &#125; break; default: &#123; // return ErrorEntity(code: errCode, message: \"æœªçŸ¥é”™è¯¯\"); return ErrorEntity( code: errCode, message: error.response.statusMessage); &#125; &#125; &#125; on Exception catch (_) &#123; return ErrorEntity(code: -1, message: \"æœªçŸ¥é”™è¯¯\"); &#125; &#125; break; default: &#123; return ErrorEntity(code: -1, message: error.message); &#125; &#125;&#125; 6. ç™»å½•è°ƒç”¨6.1 ç¼–å†™ api æ¥å£ lib/common/apis/user.dart 1234567891011import 'package:flutter_ducafecat_news/common/entitys/entitys.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';/// ç”¨æˆ·class UserAPI &#123; /// ç™»å½• static Future&lt;UserResponseEntity&gt; login(&#123;UserRequestEntity params&#125;) async &#123; var response = await HttpUtil().post('/user/login', params: params); return UserResponseEntity.fromJson(response); &#125;&#125; 6.2 å¯†ç åŠ å¯† crypto https://pub.dev/packages/crypto lib/common/utils/security.dart 1234567891011import 'dart:convert';import 'package:crypto/crypto.dart';/// SHA256String duSHA256(String input) &#123; String salt = 'EIpWsyfiy@R@X#qn17!StJNdZK1fFF8iV6ffN!goZkqt#JxO'; // åŠ ç› var bytes = utf8.encode(input + salt); var digest = sha256.convert(bytes); return digest.toString();&#125; 6.3 è°ƒç”¨æ¥å£ lib/pages/sign_in/sign_in.dart 123456789101112131415161718192021// æ‰§è¡Œç™»å½•æ“ä½œ_handleSignIn() async &#123; if (!duIsEmail(_emailController.value.text)) &#123; toastInfo(msg: 'è¯·æ­£ç¡®è¾“å…¥é‚®ä»¶'); return; &#125; if (!duCheckStringLength(_passController.value.text, 6)) &#123; toastInfo(msg: 'å¯†ç ä¸èƒ½å°äº6ä½'); return; &#125; UserRequestEntity params = UserRequestEntity( email: _emailController.value.text, password: duSHA256(_passController.value.text), ); UserResponseEntity res = await UserAPI.login(params: params); // å†™æœ¬åœ° access_token , ä¸å†™å…¨å±€ï¼Œä¸šåŠ¡ï¼šç¦»çº¿ç™»å½• // å…¨å±€æ•°æ® gUser&#125; YAPI æ¥å£ç®¡ç†http://yapi.demo.qunar.com/ è“æ¹–è®¾è®¡ç¨¿https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat å‚è€ƒ RESTful REST wiki ç†è§£ RESTful æ¶æ„ é˜®ä¸€å³° RESTful API è®¾è®¡æŒ‡å— é˜®ä¸€å³° RESTful API æœ€ä½³å®è·µ é˜®ä¸€å³° RESTful æ¶æ„è¯¦è§£ Flutter packages localstorage json_serializable dio crypto VSCode æ’ä»¶ Awesome Flutter Snippets Paste JSON as Code è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 03 é™æ€è·¯ç”±ã€ç»„ä»¶æŠ½å–ã€ç™»å½•æ³¨å†Œç•Œé¢","date":"2020-03-11T16:00:00.000Z","path":"2020/03/12/flutter-project/flutter-project-news-03-sign-in-up/","text":"æœ¬èŠ‚ç›®æ ‡ é™æ€è·¯ç”± å¸¦é˜´å½±çš„æ¤­åœ†å›¾æ ‡ è¾“å…¥æœ‰æ•ˆæ€§æ ¡éªŒ ç»„ä»¶æŠ½å–æ–¹æ³• é€šç”¨ç»„ä»¶ã€ä¸šåŠ¡ç»„ä»¶ ç¨‹åºç›®å½•ç»„ç»‡ æŠ½å–é€æ˜å¯¼èˆªæ  toast æç¤ºç»„ä»¶ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.3 1 é™æ€è·¯ç”±1.1 å®šä¹‰é™æ€è·¯ç”± ç™»å½•é¡µ lib/pages/sign_in/sign_in.dart æ³¨å†Œé¡µ lib/pages/sign_up/sign_up.dart é™æ€è·¯ç”± lib/routes.dart 12345678import 'package:flutter_ducafecat_news/pages/sign_in/sign_in.dart';import 'package:flutter_ducafecat_news/pages/sign_up/sign_up.dart';/// é™æ€è·¯ç”±var staticRoutes = &#123; \"/sign-in\": (context) =&gt; SignInPage(), // ç™»å½• \"/sign-up\": (context) =&gt; SignUpPage(), // æ³¨å†Œ&#125;; 1.2 æ³¨å†Œé™æ€è·¯ç”± lib/main.dart 1234567891011121314151617import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/pages/welcome/welcome.dart';import 'package:flutter_ducafecat_news/routes.dart';void main() =&gt; runApp(MyApp());class MyApp extends StatelessWidget &#123; @override Widget build(BuildContext context) &#123; return MaterialApp( title: 'ducafecat.tech', home: WelcomePage(), routes: staticRoutes, debugShowCheckedModeBanner: false, ); &#125;&#125; 2 ç™»å½•ç•Œé¢2.1 ç»´æŠ¤è‰²å½©å¸¸é‡ lib/common/values/colors.dart 12345678910111213141516171819202122232425262728import 'dart:ui';class AppColors &#123; /// ä¸»èƒŒæ™¯ ç™½è‰² static const Color primaryBackground = Color.fromARGB(255, 255, 255, 255); /// ä¸»æ–‡æœ¬ ç°è‰² static const Color primaryText = Color.fromARGB(255, 45, 45, 47); /// ä¸»æ§ä»¶-èƒŒæ™¯ è“è‰² static const Color primaryElement = Color.fromARGB(255, 41, 103, 255); /// ä¸»æ§ä»¶-æ–‡æœ¬ ç™½è‰² static const Color primaryElementText = Color.fromARGB(255, 255, 255, 255); // ***************************************** /// ç¬¬äºŒç§æ§ä»¶-èƒŒæ™¯è‰² æ·¡ç°è‰² static const Color secondaryElement = Color.fromARGB(255, 246, 246, 246); /// ç¬¬äºŒç§æ§ä»¶-æ–‡æœ¬ æµ…è“è‰² static const Color secondaryElementText = Color.fromARGB(255, 41, 103, 255); // ***************************************** /// ç¬¬ä¸‰ç§æ§ä»¶-èƒŒæ™¯è‰² çŸ³å¢¨è‰² static const Color thirdElement = Color.fromARGB(255, 45, 45, 47);&#125; 2.2 ç¨‹åºç»“æ„ lib/pages/sign_in/sign_in.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';import 'package:flutter_ducafecat_news/common/widgets/widgets.dart';class SignInPage extends StatefulWidget &#123; SignInPage(&#123;Key key&#125;) : super(key: key); @override _SignInPageState createState() =&gt; _SignInPageState();&#125;class _SignInPageState extends State&lt;SignInPage&gt; &#123; // logo Widget _buildLogo() &#123; return Container(); &#125; // ç™»å½•è¡¨å• Widget _buildInputForm() &#123; return Container(); &#125; // ç¬¬ä¸‰æ–¹ç™»å½• Widget _buildThirdPartyLogin() &#123; return Container(); &#125; // æ³¨å†ŒæŒ‰é’® Widget _buildSignupButton() &#123; return Container(); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( resizeToAvoidBottomInset: false, body: Center( child: Column( children: &lt;Widget&gt;[ _buildLogo(), _buildInputForm(), Spacer(), _buildThirdPartyLogin(), _buildSignupButton(), ], ), ), ); &#125;&#125; 2.3 ç”»å¸¦é˜´å½±çš„æ¤­åœ†å›¾æ ‡ lib/pages/sign_in/sign_in.dart 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071// logoWidget _buildLogo() &#123; return Container( width: duSetWidth(110), margin: EdgeInsets.only(top: duSetHeight(40 + 44.0)), // é¡¶éƒ¨ç³»ç»Ÿæ  44px child: Column( crossAxisAlignment: CrossAxisAlignment.stretch, children: [ Container( height: duSetWidth(76), width: duSetWidth(76), margin: EdgeInsets.symmetric(horizontal: duSetWidth(15)), child: Stack( alignment: Alignment.center, children: [ Positioned( left: 0, top: 0, right: 0, child: Container( height: duSetWidth(76), decoration: BoxDecoration( color: AppColors.primaryBackground, boxShadow: [ Shadows.primaryShadow, ], borderRadius: BorderRadius.all( Radius.circular(duSetWidth(76 * 0.5))), // çˆ¶å®¹å™¨çš„50% ), child: Container(), ), ), Positioned( top: duSetWidth(13), child: Image.asset( \"assets/images/logo.png\", fit: BoxFit.none, ), ), ], ), ), Container( margin: EdgeInsets.only(top: duSetHeight(15)), child: Text( \"SECTOR\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Montserrat\", fontWeight: FontWeight.w600, fontSize: duSetFontSize(24), height: 1, ), ), ), Text( \"news\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(16), height: 1, ), ), ], ), );&#125; 2.4 æŠ½å–è¾“å…¥æ¡† lib/common/widgets/input.dart 1234567891011121314151617181920212223242526272829303132333435/// è¾“å…¥æ¡†Widget inputTextEdit(&#123; @required TextEditingController controller, TextInputType keyboardType = TextInputType.text, String hintText, bool isPassword = false, double marginTop = 15,&#125;) &#123; return Container( height: duSetHeight(44), margin: EdgeInsets.only(top: duSetHeight(marginTop)), decoration: BoxDecoration( color: AppColors.secondaryElement, borderRadius: Radii.k6pxRadius, ), child: TextField( controller: controller, keyboardType: keyboardType, decoration: InputDecoration( hintText: hintText, contentPadding: EdgeInsets.fromLTRB(20, 10, 0, 9), border: InputBorder.none, ), style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(18), ), maxLines: 1, autocorrect: false, // è‡ªåŠ¨çº æ­£ obscureText: isPassword, // éšè—è¾“å…¥å†…å®¹, å¯†ç æ¡† ), );&#125; 2.5 æŠ½å–æ‰å¹³æŒ‰é’® lib/common/widgets/button.dart 1234567891011121314151617181920212223242526272829303132333435/// æ‰å¹³åœ†è§’æŒ‰é’®Widget btnFlatButtonWidget(&#123; @required VoidCallback onPressed, double width = 140, double height = 44, Color gbColor = AppColors.primaryElement, String title = \"button\", Color fontColor = AppColors.primaryElementText, double fontSize = 18, String fontName = \"Montserrat\", FontWeight fontWeight = FontWeight.w400,&#125;) &#123; return Container( width: duSetWidth(width), height: duSetHeight(height), child: FlatButton( onPressed: onPressed, color: gbColor, shape: RoundedRectangleBorder( borderRadius: Radii.k6pxRadius, ), child: Text( title, textAlign: TextAlign.center, style: TextStyle( color: fontColor, fontFamily: fontName, fontWeight: fontWeight, fontSize: duSetFontSize(fontSize), height: 1, ), ), ), );&#125; 2.6 æŠ½å–ç¤¾äº¤ç™»å½•æŒ‰é’® lib/common/widgets/button.dart 12345678910111213141516171819202122/// ç¬¬ä¸‰æ–¹æŒ‰é’®Widget btnFlatButtonBorderOnlyWidget(&#123; @required VoidCallback onPressed, double width = 88, double height = 44, String iconFileName,&#125;) &#123; return Container( width: duSetWidth(width), height: duSetHeight(height), child: FlatButton( onPressed: onPressed, shape: RoundedRectangleBorder( side: Borders.primaryBorder, borderRadius: Radii.k6pxRadius, ), child: Image.asset( \"assets/images/icons-$iconFileName.png\", ), ), );&#125; 2.7 å°è£… toast æç¤ºæ¡† lib/common/widgets/toast.dart 123456789101112131415Future&lt;bool&gt; toastInfo(&#123; @required String msg, Color backgroundColor = Colors.black, Color textColor = Colors.white,&#125;) async &#123; return await Fluttertoast.showToast( msg: msg, toastLength: Toast.LENGTH_SHORT, gravity: ToastGravity.TOP, timeInSecForIos: 1, backgroundColor: backgroundColor, textColor: textColor, fontSize: duSetFontSize(16), );&#125; 2.8 æ•°æ®æœ‰æ•ˆæ€§æ£€éªŒ lib/pages/sign_in/sign_in.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293...class _SignInPageState extends State&lt;SignInPage&gt; &#123; //emailçš„æ§åˆ¶å™¨ final TextEditingController _emailController = TextEditingController(); //å¯†ç çš„æ§åˆ¶å™¨ final TextEditingController _passController = TextEditingController();... // æ‰§è¡Œç™»å½•æ“ä½œ _handleSignIn() &#123; if (!duIsEmail(_emailController.value.text)) &#123; toastInfo(msg: 'è¯·æ­£ç¡®è¾“å…¥é‚®ä»¶'); return; &#125; if (!duCheckStringLength(_passController.value.text, 6)) &#123; toastInfo(msg: 'å¯†ç ä¸èƒ½å°äº6ä½'); return; &#125; &#125;... // ç™»å½•è¡¨å• Widget _buildInputForm() &#123; return Container( width: duSetWidth(295), // height: 204, margin: EdgeInsets.only(top: duSetHeight(49)), child: Column( children: [ // email input inputTextEdit( controller: _emailController, keyboardType: TextInputType.emailAddress, hintText: \"Email\", marginTop: 0, ), // password input inputTextEdit( controller: _passController, keyboardType: TextInputType.visiblePassword, hintText: \"Password\", isPassword: true, ), // æ³¨å†Œã€ç™»å½• æ¨ªå‘å¸ƒå±€ Container( height: duSetHeight(44), margin: EdgeInsets.only(top: duSetHeight(15)), child: Row( children: [ // æ³¨å†Œ btnFlatButtonWidget( onPressed: _handleNavSignUp, gbColor: AppColors.thirdElement, title: \"Sign up\", ), Spacer(), // ç™»å½• btnFlatButtonWidget( onPressed: _handleSignIn, gbColor: AppColors.primaryElement, title: \"Sign in\", ), ], ), ), // Spacer(), // Fogot password Container( height: duSetHeight(22), margin: EdgeInsets.only(top: duSetHeight(20)), child: FlatButton( onPressed: () =&gt; &#123;&#125;, child: Text( \"Fogot password?\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.secondaryElementText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(16), height: 1, // è®¾ç½®ä¸‹è¡Œé«˜ï¼Œå¦åˆ™å­—ä½“ä¸‹æ²‰ ), ), ), ), ], ), ); &#125; 3 æ³¨å†Œç•Œé¢3.1 ç¨‹åºç»“æ„ lib/pages/sign_up/sign_up.dart 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import 'package:flutter/material.dart';import 'package:flutter_ducafecat_news/common/utils/utils.dart';import 'package:flutter_ducafecat_news/common/values/values.dart';import 'package:flutter_ducafecat_news/common/widgets/widgets.dart';class SignUpPage extends StatefulWidget &#123; SignUpPage(&#123;Key key&#125;) : super(key: key); @override _SignUpPageState createState() =&gt; _SignUpPageState();&#125;class _SignUpPageState extends State&lt;SignUpPage&gt; &#123; // logo Widget _buildLogo() &#123; return Container(); &#125; // æ³¨å†Œè¡¨å• Widget _buildInputForm() &#123; return Container(); &#125; // ç¬¬ä¸‰æ–¹ Widget _buildThirdPartyLogin() &#123; return Container(); &#125; // æœ‰è´¦å· Widget _buildHaveAccountButton() &#123; return Container(); &#125; @override Widget build(BuildContext context) &#123; return Scaffold( resizeToAvoidBottomInset: false, ..., body: Center( child: Column( children: &lt;Widget&gt;[ Divider(height: 1), _buildLogo(), _buildInputForm(), Spacer(), _buildThirdPartyLogin(), _buildHaveAccountButton(), ], ), ), ); &#125;&#125; 3.2 é€æ˜å¯¼èˆªæ  lib/common/widgets/app.dart 123456789101112131415161718192021/// é€æ˜èƒŒæ™¯ AppBarWidget transparentAppBar(&#123; @required BuildContext context, List&lt;Widget&gt; actions,&#125;) &#123; return AppBar( backgroundColor: Colors.transparent, elevation: 0, title: Text(''), leading: IconButton( icon: Icon( Icons.arrow_back, color: AppColors.primaryText, ), onPressed: () &#123; Navigator.pop(context); &#125;, ), actions: actions, );&#125; lib/pages/sign_up/sign_up.dart 123456789101112131415161718@overrideWidget build(BuildContext context) &#123; return Scaffold( resizeToAvoidBottomInset: false, appBar: transparentAppBar( context: context, actions: &lt;Widget&gt;[ IconButton( icon: Icon( Icons.info_outline, color: AppColors.primaryText, ), onPressed: () &#123; toastInfo(msg: 'è¿™æ˜¯æ³¨å†Œç•Œé¢'); &#125;, ) ], ), 3.2 æ³¨å†Œè¡¨å• lib/pages/sign_up/sign_up.dart 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980// æ³¨å†Œè¡¨å•Widget _buildInputForm() &#123; return Container( width: duSetWidth(295), // height: 204, margin: EdgeInsets.only(top: duSetHeight(49)), child: Column( children: [ // fullName input inputTextEdit( controller: _fullnameController, keyboardType: TextInputType.text, hintText: \"Full name\", marginTop: 0, ), // email input inputTextEdit( controller: _emailController, keyboardType: TextInputType.emailAddress, hintText: \"Email\", ), // password input inputTextEdit( controller: _passController, keyboardType: TextInputType.visiblePassword, hintText: \"Password\", isPassword: true, ), // åˆ›å»º Container( height: duSetHeight(44), margin: EdgeInsets.only(top: duSetHeight(15)), child: btnFlatButtonWidget( onPressed: () &#123; if (!duCheckStringLength(_fullnameController.value.text, 5)) &#123; toastInfo(msg: 'ç”¨æˆ·åä¸èƒ½å°äº5ä½'); return; &#125; if (!duIsEmail(_emailController.value.text)) &#123; toastInfo(msg: 'è¯·æ­£ç¡®è¾“å…¥é‚®ä»¶'); return; &#125; if (!duCheckStringLength(_passController.value.text, 6)) &#123; toastInfo(msg: 'å¯†ç ä¸èƒ½å°äº6ä½'); return; &#125; Navigator.pop(context); &#125;, width: 295, fontWeight: FontWeight.w600, title: \"Create an account\", ), ), // Spacer(), // Fogot password Container( height: duSetHeight(22), margin: EdgeInsets.only(top: duSetHeight(20)), child: FlatButton( onPressed: _handleSignUp, child: Text( \"Fogot password?\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.secondaryElementText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(16), height: 1, // è®¾ç½®ä¸‹è¡Œé«˜ï¼Œå¦åˆ™å­—ä½“ä¸‹æ²‰ ), ), ), ), ], ), );&#125; 3.3 æ£€éªŒæœ‰æ•ˆæ€§ lib/pages/sign_up/sign_in.dart 12345678910111213141516// æ‰§è¡Œæ³¨å†Œæ“ä½œ_handleSignUp() &#123; if (!duCheckStringLength(_fullnameController.value.text, 5)) &#123; toastInfo(msg: 'ç”¨æˆ·åä¸èƒ½å°äº5ä½'); return; &#125; if (!duIsEmail(_emailController.value.text)) &#123; toastInfo(msg: 'è¯·æ­£ç¡®è¾“å…¥é‚®ä»¶'); return; &#125; if (!duCheckStringLength(_passController.value.text, 6)) &#123; toastInfo(msg: 'å¯†ç ä¸èƒ½å°äº6ä½'); return; &#125; Navigator.pop(context);&#125; 3.4 ç¤¾äº¤æŒ‰é’® lib/pages/sign_up/sign_up.dart 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// ç¬¬ä¸‰æ–¹Widget _buildThirdPartyLogin() &#123; return Container( width: duSetWidth(295), margin: EdgeInsets.only(bottom: duSetHeight(40)), child: Column( children: &lt;Widget&gt;[ // title Text( \"Or sign in with social networks\", textAlign: TextAlign.center, style: TextStyle( color: AppColors.primaryText, fontFamily: \"Avenir\", fontWeight: FontWeight.w400, fontSize: duSetFontSize(16), ), ), // æŒ‰é’® Padding( padding: EdgeInsets.only(top: duSetHeight(20)), child: Row( children: &lt;Widget&gt;[ btnFlatButtonBorderOnlyWidget( onPressed: () &#123;&#125;, width: 88, iconFileName: \"twitter\", ), Spacer(), btnFlatButtonBorderOnlyWidget( onPressed: () &#123;&#125;, width: 88, iconFileName: \"google\", ), Spacer(), btnFlatButtonBorderOnlyWidget( onPressed: () &#123;&#125;, width: 88, iconFileName: \"facebook\", ), ], ), ), ], ), );&#125; 3.5 è¿”å›æŒ‰é’® lib/pages/sign_up/sign_up.dart 12345678910111213141516171819// è¿”å›ä¸Šä¸€é¡µ_handleNavPop() &#123; Navigator.pop(context);&#125;Widget _buildHaveAccountButton() &#123; return Container( margin: EdgeInsets.only(bottom: duSetHeight(20)), child: btnFlatButtonWidget( onPressed: _handleNavPop, width: 294, gbColor: AppColors.secondaryElement, fontColor: AppColors.primaryText, title: \"I have an account\", fontWeight: FontWeight.w500, fontSize: 16, ), );&#125; è“æ¹–è®¾è®¡ç¨¿https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat å‚è€ƒ widgets fluttertoast è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 02 è®¾è®¡ç¨¿é€‚é…ã€åŠ å…¥å›¾ç‰‡å­—ä½“èµ„æºã€æ¬¢è¿ç•Œé¢","date":"2020-02-26T16:00:00.000Z","path":"2020/02/27/flutter-project/flutter-project-news-02-weclome/","text":"æœ¬èŠ‚ç›®æ ‡ åŠ å…¥å›¾ç‰‡èµ„æº åŠ å…¥å­—ä½“èµ„æº è®¾è®¡ç¨¿é€‚é… ç¼–å†™ç•Œé¢ä»£ç çš„é€»è¾‘å’Œç»„ç»‡ è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.2 1 åŠ å…¥å›¾ç‰‡èµ„æº1.1 flutter å›¾ç‰‡èµ„æºè§„åˆ™ å®˜æ–¹è¯´æ˜ https://flutter.dev/docs/development/ui/assets-and-images æŒ‰è¿™ä¸ªè§„åˆ™ç¼–æ’ï¼Œflutter è‡ªåŠ¨é€‚é…åˆ†è¾¨ç‡å›¾ç‰‡ assets ç›®å½• yaml é…ç½® 12assets: - assets/images/ ä»£ç è°ƒç”¨ 1Image.asset(\"assets/images/logo.png\") 1.2 è“æ¹–åˆ‡å›¾ æ³¨æ„é€‰ç€ä¸‹ ios ç›®æ ‡ï¼Œè¿™æ ·ä¼šè‡ªåŠ¨åˆ‡å›¾ 1x 2x 3x ä¸‰ç§æ ¼å¼ 2 åŠ å…¥å­—ä½“èµ„æº å®˜æ–¹è¯´æ˜ https://flutter.dev/docs/cookbook/design/fonts assets ç›®å½• åªä¸Šä¼ ç”¨åˆ°çš„ ttf å­—ä½“ï¼Œè¿™æ ·èƒ½æ§åˆ¶æ‰“åŒ…å¤§å° yaml é…ç½® 123456789fonts: - family: Avenir fonts: - asset: assets/fonts/Avenir-Book.ttf weight: 400 - family: Montserrat fonts: - asset: assets/fonts/Montserrat-SemiBold.ttf weight: 600 ä»£ç è°ƒç”¨ 3 ç¼–å†™æ¬¢è¿ç•Œé¢3.1 ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ã€ç”±å¤§åˆ°å° 3.2 è®¾è®¡ç¨¿é€‚é…æ’ä»¶ flutter_screenutil https://pub.flutter-io.cn/packages/flutter_screenutil æŒ‰è®¾è®¡ç¨¿æ¯”ä¾‹é€‚é… 3.3 å·¥å…·å‡½æ•° screen.dart è®¾è®¡ç¨¿é€‚é…å‡½æ•° 12345678910111213141516import 'package:flutter_screenutil/flutter_screenutil.dart';/// è®¾ç½®å®½åº¦double duSetWidth(double width) &#123; return ScreenUtil().setWidth(width);&#125;/// è®¾ç½®å®½åº¦double duSetHeight(double height) &#123; return ScreenUtil().setHeight(height);&#125;/// è®¾ç½®å­—ä½“å°ºå¯¸double duSetFontSize(double fontSize) &#123; return ScreenUtil().setSp(fontSize);&#125; utils.dart å¯¼å‡ºç±»åº“ 123library utils;export 'screen.dart'; 3.4 å¸¸é‡é…ç½® colors.dart é¢œè‰² 123456789101112import 'dart:ui';class AppColors &#123; /// ä¸»æ–‡æœ¬ static const Color primaryText = Color.fromARGB(255, 45, 45, 47); /// ä¸»æ§ä»¶-èƒŒæ™¯ static const Color primaryElement = Color.fromARGB(255, 41, 103, 255); /// ä¸»æ§ä»¶-æ–‡æœ¬ static const Color primaryElementText = Color.fromARGB(255, 255, 255, 255);&#125; values.dart å¯¼å‡ºç±»åº“ 123library values;export 'colors.dart'; 3.5 ä»£ç æ‹†åˆ† å°½å¯èƒ½çš„æ‹†åˆ†åˆ°ä¸åŒçš„å‡½æ•°ï¼Œæ–¹ä¾¿ç»´æŠ¤ å†å¤æ‚çš„ä¸šåŠ¡ï¼Œå¯ä»¥æ‹†åˆ†åˆ°ä¸åŒçš„ç»„ä»¶æ–‡ä»¶ï¼Œå¦‚ welcome_header_widget.dart welcome_feature_widget.dart welcome_buttons_widget.dart git ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.1 è“æ¹–è®¾è®¡ç¨¿https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ å‚è€ƒ flutter_screenutil Adding assets and images Use a custom font Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter å®æˆ˜ä»é›¶å¼€å§‹ æ–°é—»å®¢æˆ·ç«¯ - 01 éœ€æ±‚åˆ†æã€ä½¿ç”¨è“æ¹–æ ‡æ³¨å·¥å…·ã€é¡¹ç›®ç›®å½•æ„å»º","date":"2020-02-25T16:00:00.000Z","path":"2020/02/26/flutter-project/flutter-project-news-01-setup/","text":"æœ¬èŠ‚ç›®æ ‡ éœ€æ±‚åˆ†æ ä½¿ç”¨è“æ¹–å¹³å°ä½œä¸ºæ ‡æ³¨å·¥å…· æ„å»º Flutter é¡¹ç›® è§†é¢‘ ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.1 1 éœ€æ±‚è¯´æ˜ 1.1 æ ·å¼è¡¨ é¢œè‰² ç»„ä»¶ å›¾æ ‡ 1.2 æ•´ç†é¡µé¢+ç»„ä»¶åˆ—è¡¨ é¡µé¢åç§° ç»„ä»¶æ•°é‡ æ¬¢è¿é¡µ 3 ç™»å½•é¡µ 3 é¦–é¡µ 6 æœç´¢é¡µ 4 æ–°é—»é¡µ 4 1.3 æ’æŸ¥æŠ€æœ¯ç‚¹ æ•°æ®æ‹‰å– å›¾ç‰‡æ‡’åŠ è½½ å›¾ç‰‡ç¼“å­˜ æ–°é—»ã€é¢‘é“ã€æœç´¢å†å²æ•°æ®ç¼“å­˜ 2 ä½¿ç”¨è“æ¹–å¹³å°ä½œä¸ºæ ‡æ³¨å·¥å…·2.1 ä¸Šä¼ è“æ¹–æ”¯æŒ Sketchã€Adobe Photoshopã€Adobe XDã€è®¾è®¡å›¾ç‰‡ PNG 2.2 æ ‡æ³¨ 2.3 ä»£ç æç¤º 2.4 åŸå‹å±•ç¤º 3 æ„å»º Flutter é¡¹ç›®3.1 å¯å¤ç”¨å°å‹é¡¹ç›®ç»“æ„ è“æ¹–è®¾è®¡ç¨¿https://lanhuapp.com/url/lYuz1å¯†ç : gSKl è“æ¹–ç°åœ¨æ”¶è´¹äº†ï¼Œæ‰€ä»¥æŸ¥çœ‹æ ‡è®°è¿˜è¯·è‡ªå·±ä¸Šä¼  xd è®¾è®¡ç¨¿å•†ä¸šè®¾è®¡ç¨¿æ–‡ä»¶ä¸å¥½ç›´æ¥åˆ†äº«, å¯ä»¥åŠ å¾®ä¿¡è”ç³» ducafecat git ä»£ç https://github.com/ducafecat/flutter_learn_news/releases/tag/v1.0.1 è§†é¢‘ b ç«™ æ²¹ç®¡é•œåƒ å‚è€ƒ è“æ¹–-ä¸Šä¼ è®¾è®¡å›¾ Â© çŒ«å“¥ å¾®ä¿¡: ducafecat https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 18 åŸºç¡€ç»„ä»¶ Stack IndexedStack Positioned","date":"2019-10-11T16:00:00.000Z","path":"2019/10/12/flutter/flutter-18-stack-indexedstack/","text":"æœ¬èŠ‚ç›®æ ‡ Stack IndexedStack Positioned Stack å’Œ IndexStack éƒ½æ˜¯å±‚å å¸ƒå±€æ–¹å¼ï¼Œç±»ä¼¼äº Android é‡Œçš„ FrameLayout å¸§å¸ƒå±€ï¼Œå†…éƒ¨å­å…ƒç´ æ˜¯æœ‰å±‚çº§å †èµ·æ¥çš„ã€‚ Stack ç»§æ‰¿è‡ª MultiChildRenderObjectWidgetï¼ŒStack ä¹Ÿæ˜¯å¤šå­å…ƒç´ çš„ä¸€ä¸ªç»„ä»¶ä¹‹ä¸€ï¼ˆå†…éƒ¨å¯ä»¥åŒ…å«å¤šä¸ªå­å…ƒç´ ï¼‰ã€‚ è€Œ IndexedStack ç»§æ‰¿è‡ª Stackï¼Œæ‰©å±•äº† Stack çš„ä¸€äº›ç‰¹æ€§ã€‚å®ƒçš„ä½œç”¨æ˜¯æ˜¾ç¤ºç¬¬ index ä¸ªå­å…ƒç´ ï¼Œå…¶ä»–å­å…ƒç´ éƒ½æ˜¯ä¸å¯è§çš„ã€‚æ‰€ä»¥ IndexedStack çš„å°ºå¯¸æ°¸è¿œæ˜¯è·Ÿæœ€å¤§çš„å­å…ƒç´ å°ºå¯¸ä¸€è‡´ã€‚ Stack çš„å¸ƒå±€è¡Œä¸ºï¼Œæ˜¯æ ¹æ®å­å…ƒç´ æ˜¯ positioned è¿˜æ˜¯ non-positioned æ¥åŒºåˆ†çš„ï¼š å¯¹äº positioned çš„å­å…ƒç´ ï¼Œå®ƒä»¬çš„ä½ç½®ä¼šæ ¹æ®æ‰€è®¾ç½®çš„ topã€bottomã€right æˆ– left å±æ€§æ¥ç¡®å®šï¼Œè¿™å‡ ä¸ªå€¼éƒ½æ˜¯ç›¸å¯¹äº Stack çš„å·¦ä¸Šè§’ï¼›å¯¹äº non-positioned çš„å­å…ƒç´ ï¼Œå®ƒä»¬ä¼šæ ¹æ® Stack çš„ aligment æ¥è®¾ç½®ä½ç½®ã€‚Stack å¸ƒå±€çš„å­å…ƒç´ å±‚çº§å †å é¡ºåºï¼šæœ€å…ˆå¸ƒå±€ç»˜åˆ¶çš„å­å…ƒç´ åœ¨æœ€åº•å±‚ï¼Œè¶Šåç»˜åˆ¶çš„è¶Šåœ¨é¡¶å±‚ã€‚ç±»ä¼¼äº Web ä¸­çš„ z-indexã€‚ Stack12345678910111213Stack(&#123; Key key, // å¯¹é½æ–¹å¼ï¼Œé»˜è®¤æ˜¯å·¦ä¸Šè§’ï¼ˆtopStartï¼‰ this.alignment = AlignmentDirectional.topStart, // å¯¹é½æ–¹å‘ this.textDirection, // å®šä¹‰å¦‚ä½•è®¾ç½®æ— å®šä½å­å…ƒç´ å°ºå¯¸ï¼Œé»˜è®¤ä¸ºloose this.fit = StackFit.loose, // è¶…è¿‡çš„éƒ¨åˆ†å­å…ƒç´ å¤„ç†æ–¹å¼ this.overflow = Overflow.clip, // å­å…ƒç´  List&lt;Widget&gt; children = const &lt;Widget&gt;[], &#125;) alignment 1234567891011121314151617181920212223242526// å·¦ä¸Šè§’static const Alignment topLeft = Alignment(-1.0, -1.0);// ä¸»è½´é¡¶éƒ¨å¯¹é½ï¼Œäº¤å‰è½´å±…ä¸­static const Alignment topCenter = Alignment(0.0, -1.0);// ä¸»è½´é¡¶éƒ¨å¯¹é½ï¼Œäº¤å‰è½´åå³static const Alignment topRight = Alignment(1.0, -1.0);// ä¸»è½´å±…ä¸­ï¼Œäº¤å‰è½´åå·¦static const Alignment centerLeft = Alignment(-1.0, 0.0);// å±…ä¸­static const Alignment center = Alignment(0.0, 0.0);// ä¸»è½´å±…ä¸­ï¼Œäº¤å‰è½´åå³static const Alignment centerRight = Alignment(1.0, 0.0);// ä¸»è½´åº•éƒ¨å¯¹é½ï¼Œäº¤å‰è½´åå·¦static const Alignment bottomLeft = Alignment(-1.0, 1.0);// ä¸»è½´åº•éƒ¨å¯¹é½ï¼Œäº¤å‰è½´å±…ä¸­static const Alignment bottomCenter = Alignment(0.0, 1.0);// ä¸»è½´åº•éƒ¨å¯¹é½ï¼Œäº¤å‰è½´åå³static const Alignment bottomRight = Alignment(1.0, 1.0); fit 12345678910enum StackFit &#123; // å­å…ƒç´ å®½æ¾çš„å–å€¼ï¼Œå¯ä»¥ä»minåˆ°maxçš„å°ºå¯¸ loose, // å­å…ƒç´ å°½å¯èƒ½çš„å ç”¨å‰©ä½™ç©ºé—´ï¼Œå–maxå°ºå¯¸ expand, // ä¸æ”¹å˜å­å…ƒç´ çš„çº¦æŸæ¡ä»¶ passthrough,&#125; overflow 1234567enum Overflow &#123; // è¶…å‡ºéƒ¨åˆ†ä¸ä¼šè¢«è£å‰ªï¼Œæ­£å¸¸æ˜¾ç¤º visible, // è¶…å‡ºéƒ¨åˆ†ä¼šè¢«è£å‰ª clip,&#125; IndexedStack12345678910IndexedStack(&#123; Key key, AlignmentGeometry alignment = AlignmentDirectional.topStart, TextDirection textDirection, StackFit sizing = StackFit.loose, // å¤šäº†ä¸€ä¸ªç´¢å¼•ï¼Œç´¢å¼•çš„è¿™ä¸ªå…ƒç´ æ˜¾ç¤ºï¼Œå…¶ä»–å…ƒç´ éšè— this.index = 0, // å­å…ƒç´  List&lt;Widget&gt; children = const &lt;Widget&gt;[], &#125;) Positioned12345678910const Positioned(&#123; Key key, this.left, // ä¸Šä¸‹å·¦å³ä½ç½® this.top, this.right, this.bottom, this.width, // å®½é«˜ this.height, @required Widget child,&#125;) ä»£ç https://github.com/ducafecat/flutter-learn/tree/master/state_less_ful_app å‚è€ƒ widgets Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 17 åŸºç¡€ç»„ä»¶ Fex Expanded","date":"2019-10-10T16:00:00.000Z","path":"2019/10/11/flutter/flutter-17-flex-expanded/","text":"æœ¬èŠ‚ç›®æ ‡ expanded flex Flex ç»„ä»¶æ˜¯ Row å’Œ Column çš„çˆ¶ç±»ï¼Œä¸»è¦ç”¨äºå¼¹æ€§å¸ƒå±€ï¼Œç±»ä¼¼äº HTML ä¸­çš„ Flex å¼¹æ€§ç›’å­å¸ƒå±€ï¼Œå¯ä»¥æŒ‰ç…§ä¸€å®šæ¯”ä¾‹è¿›è¡Œåˆ†ç±»å¸ƒå±€ç©ºé—´ã€‚ Flex ç»§æ‰¿è‡ª MultiChildRenderObjectWidgetï¼ŒFlex ä¹Ÿæ˜¯å¤šå­å…ƒç´ çš„ä¸€ä¸ªç»„ä»¶ä¹‹ä¸€ï¼ˆå†…éƒ¨å¯ä»¥åŒ…å«å¤šä¸ªå­å…ƒç´ ï¼‰ã€‚ Flex ä¸€èˆ¬å’Œ Expanded æ­é…ä½¿ç”¨ï¼ŒExpanded ç»„ä»¶ä»åå­—å°±å¯ä»¥çœ‹å‡ºå®ƒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯è®©å­å…ƒç´ æ‰©å±•å ç”¨ Flex çš„å‰©ä½™ç©ºé—´ã€‚ Expanded Flex æ„é€ å‡½æ•° å•ç‹¬çœ‹ Flex ç»„ä»¶æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºä¸€èˆ¬ç›´æ¥ç”¨å®ƒçš„å­ç±» Row å’Œ Column æ¥ä½¿ç”¨ã€‚è€Œ Flex ä¸»è¦æ˜¯å’Œ Expanded æ­é…ä½¿ç”¨ã€‚æˆ‘ä»¬å†çœ‹ä¸‹ Expanded ç»„ä»¶æ„é€ æ–¹æ³•ï¼š 123456789101112131415161718192021Flex(&#123; Key key, // å­å…ƒç´ æ’åˆ—æ–¹å‘ï¼šæ¨ªå‘è¿˜æ˜¯çºµå‘ @required this.direction, this.mainAxisAlignment = MainAxisAlignment.start, this.mainAxisSize = MainAxisSize.max, this.crossAxisAlignment = CrossAxisAlignment.center, this.textDirection, this.verticalDirection = VerticalDirection.down, this.textBaseline, List&lt;Widget&gt; children = const &lt;Widget&gt;[], &#125;)const Expanded(&#123; Key key, // å ç”¨ç©ºé—´æ¯”é‡ã€æƒé‡ int flex = 1, // å­å…ƒç´  @required Widget child, &#125;) ä¾‹å­ Expanded12345678910111213Row( children: &lt;Widget&gt;[ Container( width: 50, color: Colors.cyan, ), Expanded( child: Container( color: Colors.brown, ), ), ],) ä¾‹å­ Flex12345678910111213141516Column( children: &lt;Widget&gt;[ Expanded( flex: 1, child: Container( color: Colors.cyan, ), ), Expanded( flex: 4, child: Container( color: Colors.brown, ), ) ],) ä»£ç https://github.com/ducafecat/flutter-learn/tree/master/flex_expanded_widget å‚è€ƒ widgets Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 16 åŸºç¡€ç»„ä»¶ Row Column","date":"2019-10-09T16:00:00.000Z","path":"2019/10/10/flutter/flutter-16-row-column/","text":"æœ¬èŠ‚ç›®æ ‡ Row è¡Œç»„ä»¶ Column åˆ—ç»„ä»¶ mainAxisAlignment ä¸»è½´ crossAxisAlignment äº¤å‰è½´ textDirection æ’åˆ—æ–¹å‘ verticalDirection äº¤å‰è½´èµ·å§‹ä½ç½® RowRow å¸ƒå±€ç»„ä»¶ç±»ä¼¼äº Android ä¸­çš„ LinearLayout çº¿æ€§å¸ƒå±€ï¼Œå®ƒç”¨æ¥åšæ°´å¹³æ¨ªå‘å¸ƒå±€ä½¿ç”¨ï¼Œé‡Œé¢çš„ children å­å…ƒç´ æŒ‰ç…§æ°´å¹³æ–¹å‘è¿›è¡Œæ’åˆ—ã€‚ æ„é€  1234567891011121314151617Row(&#123; Key key, // ä¸»è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼ˆRowçš„ä¸»è½´æ˜¯æ¨ªå‘è½´ï¼‰ MainAxisAlignment mainAxisAlignment = MainAxisAlignment.start, // åœ¨ä¸»è½´æ–¹å‘ï¼ˆRowçš„ä¸»è½´æ˜¯æ¨ªå‘è½´ï¼‰å æœ‰ç©ºé—´çš„å€¼ï¼Œé»˜è®¤æ˜¯max MainAxisSize mainAxisSize = MainAxisSize.max, // åœ¨äº¤å‰è½´æ–¹å‘(Rowæ˜¯çºµå‘è½´)çš„å¯¹é½æ–¹å¼ï¼ŒRowçš„é«˜åº¦ç­‰äºå­å…ƒç´ ä¸­æœ€é«˜çš„å­å…ƒç´ é«˜åº¦ CrossAxisAlignment crossAxisAlignment = CrossAxisAlignment.center, // æ°´å¹³æ–¹å‘å­å…ƒç´ çš„æ’åˆ—æ–¹å‘ï¼šä»å·¦åˆ°å³æ’åˆ—è¿˜æ˜¯åå‘ TextDirection textDirection, // è¡¨ç¤ºçºµè½´ï¼ˆå‚ç›´ï¼‰çš„å¯¹é½æ’åˆ—æ–¹å‘ï¼Œé»˜è®¤æ˜¯VerticalDirection.downï¼Œè¡¨ç¤ºä»ä¸Šåˆ°ä¸‹ã€‚è¿™ä¸ªå‚æ•°ä¸€èˆ¬ç”¨äºColumnç»„ä»¶é‡Œ VerticalDirection verticalDirection = VerticalDirection.down, // å­—ç¬¦å¯¹é½åŸºçº¿æ–¹å¼ TextBaseline textBaseline, // å­å…ƒç´ é›†åˆ List&lt;Widget&gt; children = const &lt;Widget&gt;[], &#125;) MainAxisAlignment ä¸»è½´å±æ€§ï¼šä¸»è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼ŒRow æ˜¯æ¨ªå‘è½´ä¸ºä¸»è½´ 12345678910111213141516171819enum MainAxisAlignment &#123; // æŒ‰ç…§ä¸»è½´èµ·ç‚¹å¯¹é½ï¼Œä¾‹å¦‚ï¼šæŒ‰ç…§é è¿‘æœ€å·¦ä¾§å­å…ƒç´ å¯¹é½ start, // å°†å­å…ƒç´ æ”¾ç½®åœ¨ä¸»è½´çš„æœ«å°¾ï¼ŒæŒ‰ç…§æœ«å°¾å¯¹é½ end, // å­å…ƒç´ æ”¾ç½®åœ¨ä¸»è½´ä¸­å¿ƒå¯¹é½ center, // å°†ä¸»è½´æ–¹å‘ä¸Šçš„ç©ºç™½åŒºåŸŸå‡åˆ†ï¼Œä½¿å¾—å­å…ƒç´ ä¹‹é—´çš„ç©ºç™½åŒºåŸŸç›¸ç­‰ï¼Œé¦–å°¾å­å…ƒç´ éƒ½é è¿‘é¦–å°¾ï¼Œæ²¡æœ‰é—´éš™ã€‚æœ‰ç‚¹ç±»ä¼¼äºä¸¤ç«¯å¯¹é½ spaceBetween, // å°†ä¸»è½´æ–¹å‘ä¸Šçš„ç©ºç™½åŒºåŸŸå‡åˆ†ï¼Œä½¿å¾—å­å…ƒç´ ä¹‹é—´çš„ç©ºç™½åŒºåŸŸç›¸ç­‰ï¼Œä½†æ˜¯é¦–å°¾å­å…ƒç´ çš„ç©ºç™½åŒºåŸŸä¸º1/2 spaceAround, // å°†ä¸»è½´æ–¹å‘ä¸Šçš„ç©ºç™½åŒºåŸŸå‡åˆ†ï¼Œä½¿å¾—å­å…ƒç´ ä¹‹é—´çš„ç©ºç™½åŒºåŸŸç›¸ç­‰ï¼ŒåŒ…æ‹¬é¦–å°¾å­å…ƒç´  spaceEvenly,&#125; CrossAxisAlignment äº¤å‰å±æ€§ï¼šåœ¨äº¤å‰è½´æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼ŒRow æ˜¯çºµå‘è½´ã€‚Row çš„é«˜åº¦ç­‰äºå­å…ƒç´ ä¸­æœ€é«˜çš„å­å…ƒç´ é«˜åº¦ 12345678910111213141516enum CrossAxisAlignment &#123; // å­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šèµ·ç‚¹å¤„å±•ç¤º start, // å­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šæœ«å°¾å¤„å±•ç¤º end, // å­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šå±…ä¸­å±•ç¤º center, // è®©å­å…ƒç´ å¡«æ»¡äº¤å‰è½´æ–¹å‘ stretch, // åœ¨äº¤å‰è½´æ–¹å‘ï¼Œä½¿å¾—å­å…ƒç´ æŒ‰ç…§baselineå¯¹é½ baseline,&#125; MainAxisSize åœ¨ä¸»è½´æ–¹å‘å­å…ƒç´ å æœ‰ç©ºé—´çš„æ–¹å¼ï¼ŒRow çš„ä¸»è½´æ˜¯æ¨ªå‘è½´ã€‚é»˜è®¤æ˜¯ max 1234567enum MainAxisSize &#123; // æ ¹æ®ä¼ å…¥çš„å¸ƒå±€çº¦æŸæ¡ä»¶ï¼Œæœ€å¤§åŒ–ä¸»è½´æ–¹å‘å ç”¨å¯ç”¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯å°½å¯èƒ½å……æ»¡å¯ç”¨å®½åº¦ max, // ä¸maxç›¸åï¼Œæ˜¯æœ€å°åŒ–å ç”¨ä¸»è½´æ–¹å‘çš„å¯ç”¨ç©ºé—´ min,&#125; ColumnColumn æ˜¯çºµå‘æ’åˆ—å­å…ƒç´  å‚æ•°ç”¨æ³•åŒä¸Š ä¾‹å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899// Row è¡Œç»„ä»¶Widget _buildRow() &#123; return Row( mainAxisAlignment: MainAxisAlignment.center, verticalDirection: VerticalDirection.up, textBaseline: TextBaseline.ideographic, children: &lt;Widget&gt;[ RaisedButton( color: Colors.blue, child: Text('æŒ‰é’®1'), onPressed: () &#123;&#125;, ), RaisedButton( color: Colors.grey, child: Text('æŒ‰é’®2'), onPressed: () &#123;&#125;, ), RaisedButton( color: Colors.orange, child: Text('æŒ‰é’®3'), onPressed: () &#123;&#125;, ), ], );&#125;// Column åˆ—ç»„ä»¶Widget _buildColumn() &#123; return Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ RaisedButton( color: Colors.blue, child: Text('æŒ‰é’®1'), onPressed: () &#123;&#125;, ), RaisedButton( color: Colors.grey, child: Text('æŒ‰é’®2'), onPressed: () &#123;&#125;, ), RaisedButton( color: Colors.orange, child: Text('æŒ‰é’®3'), onPressed: () &#123;&#125;, ), ], );&#125;// Row Column ç»„ä»¶åµŒå¥—Widget _buildRowColumn() &#123; return Column( mainAxisAlignment: MainAxisAlignment.center, // crossAxisAlignment: CrossAxisAlignment.center, children: &lt;Widget&gt;[ Row( // å…ƒç´ æ’åˆ—é¡ºåº textDirection: TextDirection.rtl, // ä¸»è½´æ–¹å‘ mainAxisAlignment: MainAxisAlignment.center, // äº¤å‰è½´çš„èµ·å§‹ä½ç½® verticalDirection: VerticalDirection.up, // äº¤å‰è½´å¯¹é½æ–¹å¼ crossAxisAlignment: CrossAxisAlignment.end, children: &lt;Widget&gt;[ RaisedButton( color: Colors.blue, child: Text('æŒ‰é’®1'), onPressed: () &#123;&#125;, ), RaisedButton( color: Colors.blue, child: Text('æŒ‰é’®2222222'), onPressed: () &#123;&#125;, ), Container( width: 100, height: 100, color: Colors.yellow, ) ], ) ], );&#125;return MaterialApp( title: 'Material App', home: Scaffold( appBar: AppBar( title: Text('Material App Bar'), ), body: //_buildRow(), // _buildColumn(), _buildRowColumn(), ),); ä»£ç https://github.com/ducafecat/flutter-learn/blob/master/row_column_widget å‚è€ƒ Row class Column class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 15 åŸºç¡€ç»„ä»¶ MaterialApp Scaffold","date":"2019-10-08T16:00:00.000Z","path":"2019/10/09/flutter/flutter-15-scaffold/","text":"æœ¬èŠ‚ç›®æ ‡ MaterialApp Scafford Scaffold.of MaterialAppMaterial é£æ ¼çš„ç¨‹åºçš„æ„å»ºï¼Œå¦‚ Key å¯¼èˆª è·¯ç”± é¦–é¡µ æ ·å¼ å¤šè¯­è¨€ è°ƒè¯• æ„é€  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152const MaterialApp(&#123; Key key, // å¯¼èˆªé”® , keyçš„ä½œç”¨æé«˜å¤ç”¨æ€§èƒ½ this.navigatorKey, // ä¸»é¡µ this.home, // è·¯ç”± this.routes = const &lt;String, WidgetBuilder&gt;&#123;&#125;, // åˆå§‹å‘½åè·¯ç”± this.initialRoute, // è·¯ç”±æ„é€  this.onGenerateRoute, // æœªçŸ¥è·¯ç”± this.onUnknownRoute, // å¯¼èˆªè§‚å¯Ÿå™¨ this.navigatorObservers = const &lt;NavigatorObserver&gt;[], // å»ºé€ è€… this.builder, // APP æ ‡é¢˜ this.title = '', // ç”Ÿæˆæ ‡é¢˜ this.onGenerateTitle, // APP é¢œè‰² this.color, // æ ·å¼å®šä¹‰ this.theme, // ä¸»æœºæš—è‰²æ¨¡å¼ this.darkTheme, // æ ·å¼æ¨¡å¼ this.themeMode = ThemeMode.system, // å¤šè¯­è¨€ æœ¬åœ°åŒ– this.locale, // å¤šè¯­è¨€ä»£ç† this.localizationsDelegates, // å¤šè¯­è¨€å›è°ƒ this.localeListResolutionCallback, this.localeResolutionCallback, // æ”¯æŒçš„å¤šå›½è¯­è¨€ this.supportedLocales = const &lt;Locale&gt;[Locale('en', 'US')], // è°ƒè¯•æ˜¾ç¤ºæè´¨ç½‘æ ¼ this.debugShowMaterialGrid = false, // æ˜¾ç¤ºæ€§èƒ½å åŠ  this.showPerformanceOverlay = false, // æ£€æŸ¥ç¼“å­˜å›¾ç‰‡çš„æƒ…å†µ this.checkerboardRasterCacheImages = false, // æ£€æŸ¥ä¸å¿…è¦çš„setlayer this.checkerboardOffscreenLayers = false, // æ˜¾ç¤ºè¯­ä¹‰è°ƒè¯•å™¨ this.showSemanticsDebugger = false, // æ˜¾ç¤ºdebugæ ‡è®° å³ä¸Šè§’ this.debugShowCheckedModeBanner = true,&#125;) ScaffoldScaffold æ˜¯ä¸€ä¸ªé¡µé¢å¸ƒå±€è„šæ‰‹æ¶ï¼Œå®ç°äº†åŸºæœ¬çš„ Material å¸ƒå±€ï¼Œç»§æ‰¿è‡ª StatefulWidgetï¼Œæ˜¯æœ‰çŠ¶æ€ç»„ä»¶ã€‚æˆ‘ä»¬çŸ¥é“å¤§éƒ¨åˆ†çš„åº”ç”¨é¡µé¢éƒ½æ˜¯å«æœ‰æ ‡é¢˜æ ï¼Œä¸»ä½“å†…å®¹ï¼Œåº•éƒ¨å¯¼èˆªèœå•æˆ–è€…ä¾§æ»‘æŠ½å±‰èœå•ç­‰ç­‰æ„æˆï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½é‡å¤å†™è¿™äº›å†…å®¹ä¼šå¤§å¤§é™ä½å¼€å‘æ•ˆç‡ï¼Œæ‰€ä»¥ Flutter æä¾›äº† Material é£æ ¼çš„ Scaffold é¡µé¢å¸ƒå±€è„šæ‰‹æ¶ï¼Œå¯ä»¥å¾ˆå¿«åœ°æ­å»ºå‡ºè¿™äº›å…ƒç´ éƒ¨åˆ† æ„é€  1234567891011121314151617181920212223242526272829303132const Scaffold(&#123; Key key, // èœå•æ  this.appBar, // ä¸­é—´ä¸»ä½“å†…å®¹éƒ¨åˆ† this.body, // æ‚¬æµ®æŒ‰é’® this.floatingActionButton, // æ‚¬æµ®æŒ‰é’®ä½ç½® this.floatingActionButtonLocation, // æ‚¬æµ®æŒ‰é’®åŠ¨ç”» this.floatingActionButtonAnimator, // å›ºå®šåœ¨ä¸‹æ–¹æ˜¾ç¤ºçš„æŒ‰é’® this.persistentFooterButtons, // å·¦ä¾§ ä¾§æ»‘æŠ½å±‰èœå• this.drawer, // å³ä¾§ ä¾§æ»‘æŠ½å±‰èœå• this.endDrawer, // åº•éƒ¨èœå• this.bottomNavigationBar, // åº•éƒ¨æ‹‰å‡ºèœå• this.bottomSheet, // èƒŒæ™¯è‰² this.backgroundColor, // è‡ªåŠ¨é€‚åº”åº•éƒ¨padding this.resizeToAvoidBottomPadding, // é‡æ–°è®¡ç®—bodyå¸ƒå±€ç©ºé—´å¤§å°ï¼Œé¿å…è¢«é®æŒ¡ this.resizeToAvoidBottomInset, // æ˜¯å¦æ˜¾ç¤ºåˆ°åº•éƒ¨ï¼Œé»˜è®¤ä¸ºtrueå°†æ˜¾ç¤ºåˆ°é¡¶éƒ¨çŠ¶æ€æ  this.primary = true, this.drawerDragStartBehavior = DragStartBehavior.down, &#125;) Scaffold.ofScaffold.of å‡½æ•°æ¥è·å– ScaffoldState å¯¹è±¡ contenxt æ˜¯åŠ¨æ€è·å–çš„ æ‰€ä»¥éœ€è¦ç”¨ Builder å¥—ä¸€ä¸ªæ„é€ å™¨ 12345678static ScaffoldState of(BuildContext context, &#123; bool nullOk = false &#125;) &#123; assert(nullOk != null); assert(context != null); final ScaffoldState result = context.ancestorStateOfType(const TypeMatcher&lt;ScaffoldState&gt;()); if (nullOk || result != null) return result; throw FlutterError( ... ç¤ºä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102return MaterialApp( // APP æ ‡é¢˜ title: 'Material App', // APP é¢œè‰² color: Colors.yellow, // æ ·å¼ theme: ThemeData(primaryColor: Colors.green), // ä¸»æœºæš—è‰²æ¨¡å¼ android ä¸‹æ— æ•ˆ ios å¯ä»¥ darkTheme: ThemeData(primaryColor: Colors.yellow), // è°ƒè¯•æ˜¾ç¤ºæè´¨ç½‘æ ¼ debugShowMaterialGrid: false, // æ˜¾ç¤ºæ€§èƒ½å åŠ  showPerformanceOverlay: false, // æ£€æŸ¥ç¼“å­˜å›¾ç‰‡çš„æƒ…å†µ checkerboardRasterCacheImages: false, // æ£€æŸ¥ä¸å¿…è¦çš„setlayer checkerboardOffscreenLayers: false, // æ˜¾ç¤ºè¯­ä¹‰è°ƒè¯•å™¨ showSemanticsDebugger: false, // æ˜¾ç¤ºdebugæ ‡è®° å³ä¸Šè§’ debugShowCheckedModeBanner: false, // ä¸»é¡µ home: Scaffold( // èœå•æ  appBar: AppBar( title: Text('Material App Bar'), ), // æ‚¬æµ®æŒ‰é’® floatingActionButton: FloatingActionButton( onPressed: () &#123;&#125;, child: Icon(Icons.add_photo_alternate), ), // æ‚¬æµ®æŒ‰é’®ä½ç½® floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat, // å›ºå®šåœ¨ä¸‹æ–¹æ˜¾ç¤ºçš„æŒ‰é’® persistentFooterButtons: [ Text('persistentFooterButtons1'), Text('persistentFooterButtons2'), ], // å·¦ä¾§ ä¾§æ»‘æŠ½å±‰èœå• drawer: Drawer( child: Text('data'), ), // å³ä¾§ ä¾§æ»‘æŠ½å±‰èœå• endDrawer: Drawer( child: Text('data'), ), // åº•éƒ¨èœå• bottomNavigationBar: Text('bottomNavigationBar'), // åº•éƒ¨æ‹‰å‡ºèœå• bottomSheet: Text('bottomSheet'), // èƒŒæ™¯è‰² backgroundColor: Colors.amberAccent, // è‡ªåŠ¨é€‚åº”åº•éƒ¨padding resizeToAvoidBottomPadding: true, // å‹ç¼©é¡¶éƒ¨èœå•ç©ºé—´ primary: false, // drawerDragStartBehavior: DragStartBehavior.start, // æ­£æ–‡ body: Builder( builder: (BuildContext context) &#123; return Center( child: Container( child: RaisedButton( onPressed: () &#123; // Scaffold.of(context).openDrawer(); Scaffold.of(context).showSnackBar(new SnackBar( content: new Text('Hello!'), )); &#125;, child: Text('data'), ), ), ); &#125;, ), ), //); ä»£ç https://github.com/ducafecat/flutter-learn/blob/master/container_widget å‚è€ƒ MaterialApp class Scaffold class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 14 åŸºç¡€ç»„ä»¶ Container","date":"2019-10-07T16:00:00.000Z","path":"2019/10/08/flutter/flutter-14-container/","text":"æœ¬èŠ‚ç›®æ ‡ åŸºç¡€ç”¨æ³• Padding å’Œ Margin BoxDecoration è£…é¥° BoxShadow é˜´å½± RadialGradient æ¸å˜ åŸºç¡€ç”¨æ³•Container æ˜¯ä¸€ä¸ªç»„åˆç±»å®¹å™¨ï¼Œå®ƒæœ¬èº«ä¸å¯¹åº”å…·ä½“çš„ RenderObjectï¼Œå®ƒæ˜¯ DecoratedBoxã€ConstrainedBoxã€Transformã€Paddingã€Align ç­‰ç»„ä»¶ç»„åˆçš„ä¸€ä¸ªå¤šåŠŸèƒ½å®¹å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€é€šè¿‡ä¸€ä¸ª Container ç»„ä»¶å¯ä»¥å®ç°åŒæ—¶éœ€è¦è£…é¥°ã€å˜æ¢ã€é™åˆ¶çš„åœºæ™¯ã€‚ä¸‹é¢æ˜¯ Container çš„å®šä¹‰ï¼š æ„é€ å‡½æ•° 12345678910111213141516171819202122232425Container(&#123; Key key, // å®¹å™¨å­Widgetå¯¹é½æ–¹å¼ this.alignment, // å®¹å™¨å†…éƒ¨padding this.padding, // èƒŒæ™¯è‰² Color color, // èƒŒæ™¯è£…é¥° Decoration decoration, // å‰æ™¯è£…é¥° this.foregroundDecoration, // å®¹å™¨çš„å®½åº¦ double width, // å®¹å™¨çš„é«˜åº¦ double height, // å®¹å™¨å¤§å°çš„é™åˆ¶æ¡ä»¶ BoxConstraints constraints, // å®¹å™¨å¤–éƒ¨margin this.margin, // å˜æ¢ï¼Œå¦‚æ—‹è½¬ this.transform, // å®¹å™¨å†…å­Widget this.child, &#125;) BoxDecoration è£…é¥°123456789101112131415161718const BoxDecoration(&#123; // èƒŒæ™¯è‰² this.color, // èƒŒæ™¯å›¾ç‰‡ this.image, // è¾¹æ¡†æ ·å¼ this.border, // è¾¹æ¡†åœ†è§’ this.borderRadius, // é˜´å½± this.boxShadow, // æ¸å˜ this.gradient, // èƒŒæ™¯æ··åˆæ¨¡å¼ this.backgroundBlendMode, // å½¢çŠ¶ this.shape = BoxShape.rectangle,&#125;) ç¤ºä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263Container( constraints: BoxConstraints.expand( height: 200.0, ), margin: const EdgeInsets.all(20.0), padding: const EdgeInsets.all(8.0), // èƒŒæ™¯è‰² // color: Colors.teal.shade700, // å­Widgetå±…ä¸­ alignment: Alignment.centerLeft, // å­Widgetå…ƒç´  child: Text('Hello World', style: Theme.of(context) .textTheme .display1 .copyWith(color: Colors.white)), // èƒŒæ™¯è£…é¥° decoration: BoxDecoration( // èƒŒæ™¯è‰² color: Colors.blueAccent, // åœ†è§’ // borderRadius: BorderRadius.all( // Radius.circular(20.0), // ), // æ¸å˜ gradient: RadialGradient( colors: [Colors.red, Colors.orange], center: Alignment.topLeft, radius: .98, ), // é˜´å½± boxShadow: [ BoxShadow( blurRadius: 2, offset: Offset(0, 2), color: Colors.blue, ), ], // èƒŒæ™¯å›¾ // image: DecorationImage( // image: AssetImage('assets/flutter.png'), // fit: BoxFit.cover, // ), // èƒŒæ™¯æ··åˆæ¨¡å¼ backgroundBlendMode: BlendMode.color, // å½¢çŠ¶ shape: BoxShape.circle, ), // å‰æ™¯è£…é¥° // foregroundDecoration: BoxDecoration( // image: DecorationImage( // image: AssetImage('assets/flutter.png'), // ), // ), // Containeræ—‹è½¬ // transform: Matrix4.rotationZ(0.1), ), ä»£ç https://github.com/ducafecat/flutter-learn/blob/master/container_widget å‚è€ƒ Container class BoxDecoration class RadialGradient class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 12 åŸºç¡€ç»„ä»¶ Image Asset NetworkImage","date":"2019-10-06T16:00:00.000Z","path":"2019/10/07/flutter/flutter-12-widget-image/","text":"æœ¬èŠ‚ç›®æ ‡ image æ„é€ å‡½æ•°çš„ 5 ç§æ–¹å¼ åŠ è½½å›¾ç‰‡ Assetã€NetworkImage å ä½å›¾ FadeInImage å¤´åƒ CircleAvatar åœ†è§’ ClipRRect å›¾ç‰‡ fit æ–¹å¼ 1. Imageå›¾ç‰‡æ˜¾ç¤ºç»„ä»¶ æ”¯æŒå›¾åƒæ ¼å¼ JPEGï¼ŒPNGï¼ŒGIFï¼ŒåŠ¨ç”» GIFï¼ŒWebPï¼ŒåŠ¨ç”» WebPï¼ŒBMP å’Œ WBMP äº”ç§æ„é€ æ–¹å¼ æ„é€  è¯´æ˜ Image() ImageProvider é€‚é…å›¾ç‰‡ Image.asset åŠ è½½èµ„æºå›¾ç‰‡ Image.file åŠ è½½æœ¬åœ°å›¾ç‰‡ Image.network åŠ è½½ç½‘ç»œå›¾ç‰‡ Image.memory åŠ è½½ Uint8List èµ„æºå›¾ç‰‡ æ„é€ å‚æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128//é€šè¿‡ImageProvideræ¥åŠ è½½å›¾ç‰‡const Image(&#123; Key key, // ImageProviderï¼Œå›¾åƒæ˜¾ç¤ºæº @required this.image, this.semanticLabel, this.excludeFromSemantics = false, //æ˜¾ç¤ºå®½åº¦ this.width, //æ˜¾ç¤ºé«˜åº¦ this.height, //å›¾ç‰‡çš„æ··åˆè‰²å€¼ this.color, //æ··åˆæ¨¡å¼ this.colorBlendMode, //ç¼©æ”¾æ˜¾ç¤ºæ¨¡å¼ this.fit, //å¯¹é½æ–¹å¼ this.alignment = Alignment.center, //é‡å¤æ–¹å¼ this.repeat = ImageRepeat.noRepeat, //å½“å›¾ç‰‡éœ€è¦è¢«æ‹‰ä¼¸æ˜¾ç¤ºçš„æ—¶å€™ï¼ŒcenterSliceå®šä¹‰çš„çŸ©å½¢åŒºåŸŸä¼šè¢«æ‹‰ä¼¸ï¼Œç±»ä¼¼.9å›¾ç‰‡ this.centerSlice, //ç±»ä¼¼äºæ–‡å­—çš„æ˜¾ç¤ºæ–¹å‘ this.matchTextDirection = false, //å›¾ç‰‡å‘ç”Ÿå˜åŒ–åï¼ŒåŠ è½½è¿‡ç¨‹ä¸­åŸå›¾ç‰‡ä¿ç•™è¿˜æ˜¯ç•™ç™½ this.gaplessPlayback = false, //å›¾ç‰‡æ˜¾ç¤ºè´¨é‡ this.filterQuality = FilterQuality.low, &#125;)// åŠ è½½ç½‘ç»œå›¾ç‰‡ï¼Œå°è£…ç±»ï¼šNetworkImageImage.network( //è·¯å¾„ String src, &#123; Key key, //ç¼©æ”¾ double scale = 1.0, this.semanticLabel, this.excludeFromSemantics = false, this.width, this.height, this.color, this.colorBlendMode, this.fit, this.alignment = Alignment.center, this.repeat = ImageRepeat.noRepeat, this.centerSlice, this.matchTextDirection = false, this.gaplessPlayback = false, this.filterQuality = FilterQuality.low, Map&lt;String, String&gt; headers, &#125;)// åŠ è½½æœ¬åœ°Fileæ–‡ä»¶å›¾ç‰‡ï¼Œå°è£…ç±»ï¼šFileImageImage.file( //Fileå¯¹è±¡ File file, &#123; Key key, double scale = 1.0, this.semanticLabel, this.excludeFromSemantics = false, this.width, this.height, this.color, this.colorBlendMode, this.fit, this.alignment = Alignment.center, this.repeat = ImageRepeat.noRepeat, this.centerSlice, this.matchTextDirection = false, this.gaplessPlayback = false, this.filterQuality = FilterQuality.low, &#125;)// åŠ è½½æœ¬åœ°èµ„æºå›¾ç‰‡,ä¾‹å¦‚é¡¹ç›®å†…èµ„æºå›¾ç‰‡// éœ€è¦æŠŠå›¾ç‰‡è·¯å¾„åœ¨pubspec.yamlæ–‡ä»¶ä¸­å£°æ˜ä¸€ä¸‹ï¼Œå¦‚ï¼š// assets:// - packages/fancy_backgrounds/backgrounds/background1.png// å°è£…ç±»æœ‰ï¼šAssetImageã€ExactAssetImageImage.asset( //æ–‡ä»¶åç§°ï¼ŒåŒ…å«è·¯å¾„ String name, &#123; Key key, // ç”¨äºè®¿é—®èµ„æºå¯¹è±¡ AssetBundle bundle, this.semanticLabel, this.excludeFromSemantics = false, double scale, this.width, this.height, this.color, this.colorBlendMode, this.fit, this.alignment = Alignment.center, this.repeat = ImageRepeat.noRepeat, this.centerSlice, this.matchTextDirection = false, this.gaplessPlayback = false, String package, this.filterQuality = FilterQuality.low, &#125;)// åŠ è½½Uint8Listèµ„æºå›¾ç‰‡/ä»å†…å­˜ä¸­è·å–å›¾ç‰‡æ˜¾ç¤º// å°è£…ç±»ï¼šMemoryImageImage.memory( // Uint8Listèµ„æºå›¾ç‰‡ Uint8List bytes, &#123; Key key, double scale = 1.0, this.semanticLabel, this.excludeFromSemantics = false, this.width, this.height, this.color, this.colorBlendMode, this.fit, this.alignment = Alignment.center, this.repeat = ImageRepeat.noRepeat, this.centerSlice, this.matchTextDirection = false, this.gaplessPlayback = false, this.filterQuality = FilterQuality.low, &#125;) 29 ç§æ··åˆæ¨¡å¼ 123enum BlendMode &#123; clear,src,dst,srcOver,dstOver,srcIn,dstIn,srcOut,dstOut,srcATop,dstATop,xor,plusï¼Œmodulate,screen,overlay,darken,lighten,colorDodge,colorBurn,hardLight,softLight,difference,exclusion,multiply,hue,saturation,color,luminosity,&#125; ä¸»è¦çš„æ··åˆæ¨¡å¼æ•ˆæœå¦‚ä¸‹ ç¼©æ”¾ enum BoxFit æšä¸¾å¯¹è±¡ åç§° è¯´æ˜ fill å›¾ç‰‡æŒ‰ç…§æŒ‡å®šçš„å¤§å°åœ¨ Image ä¸­æ˜¾ç¤ºï¼Œæ‹‰ä¼¸æ˜¾ç¤ºå›¾ç‰‡ï¼Œä¸ä¿æŒåŸæ¯”ä¾‹ï¼Œå¡«æ»¡ Imageã€‚ contain ä»¥åŸå›¾æ­£å¸¸æ˜¾ç¤ºä¸ºç›®çš„ï¼Œå¦‚æœåŸå›¾å¤§å°å¤§äº Image çš„ sizeï¼Œå°±æŒ‰ç…§æ¯”ä¾‹ç¼©å°åŸå›¾çš„å®½é«˜ï¼Œå±…ä¸­æ˜¾ç¤ºåœ¨ Image ä¸­ã€‚å¦‚æœåŸå›¾ size å°äº Image çš„ sizeï¼Œåˆ™æŒ‰æ¯”ä¾‹æ‹‰å‡åŸå›¾çš„å®½å’Œé«˜ï¼Œå¡«å…… Image ä¸€è¾¹å¹¶å±…ä¸­æ˜¾ç¤ºã€‚ cover ä»¥åŸå›¾å¡«æ»¡ Image ä¸ºç›®çš„ï¼Œå¦‚æœåŸå›¾ size å¤§äº Image çš„ sizeï¼ŒæŒ‰æ¯”ä¾‹ç¼©å°ï¼Œå±…ä¸­æ˜¾ç¤ºåœ¨ Image ä¸Šã€‚å¦‚æœåŸå›¾ size å°äº Image çš„ sizeï¼Œåˆ™æŒ‰æ¯”ä¾‹æ‹‰å‡åŸå›¾çš„å®½å’Œé«˜ï¼Œå¡«å…… Image å±…ä¸­æ˜¾ç¤ºã€‚ fitWidth ä»¥åŸå›¾æ­£å¸¸æ˜¾ç¤ºä¸ºç›®çš„ï¼Œå¦‚æœåŸå›¾å®½å¤§å°å¤§äºï¼ˆå°äºï¼‰Image çš„å®½ï¼Œå°±ç¼©å°ï¼ˆæ”¾å¤§ï¼‰åŸå›¾çš„å®½ä¸ Image ä¸€è‡´ï¼Œå±…ä¸­æ˜¾ç¤ºåœ¨ Image ä¸­ã€‚ fitHeight ä»¥åŸå›¾æ­£å¸¸æ˜¾ç¤ºä¸ºç›®çš„ï¼Œå¦‚æœåŸå›¾é«˜å¤§å°å¤§äºï¼ˆå°äºï¼‰Image çš„é«˜ï¼Œå°±ç¼©å°ï¼ˆæ”¾å¤§ï¼‰åŸå›¾çš„é«˜ä¸ Image ä¸€è‡´ï¼Œå±…ä¸­æ˜¾ç¤ºåœ¨ Image ä¸­ã€‚ none ä¿æŒåŸå›¾çš„å¤§å°ï¼Œæ˜¾ç¤ºåœ¨ Image çš„ä¸­å¿ƒã€‚å½“åŸå›¾çš„ size å¤§äº Image çš„ size æ—¶ï¼Œå¤šå‡ºæ¥çš„éƒ¨åˆ†è¢«æˆªæ‰ã€‚ scaleDown ä»¥åŸå›¾æ­£å¸¸æ˜¾ç¤ºä¸ºç›®çš„ï¼Œå¦‚æœåŸå›¾å¤§å°å¤§äº Image çš„ sizeï¼Œå°±æŒ‰ç…§æ¯”ä¾‹ç¼©å°åŸå›¾çš„å®½é«˜ï¼Œå±…ä¸­æ˜¾ç¤ºåœ¨ Image ä¸­ã€‚å¦‚æœåŸå›¾ size å°äº Image çš„ sizeï¼Œåˆ™ä¸åšå¤„ç†å±…ä¸­æ˜¾ç¤ºå›¾ç‰‡ã€‚ ç¤ºä¾‹ pubspec.yaml 12assets: - assets/images/ main.dart 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879// assetsText('assets'),Image.asset(_assetImg),// ç½‘ç»œè¯»å–Text('ç½‘ç»œè¯»å–'),Image.network(_imgUrl),// NetworkImageText('NetworkImage'),Image(image: NetworkImage(_imgUrl)),// å ä½å›¾Text('å ä½å›¾'),FadeInImage( fadeInCurve: Curves.bounceIn, placeholder: AssetImage(_assetImg), image: NetworkImage(_imgUrl)),// åŸå‹å¤´åƒText('åŸå‹å¤´åƒ'),CircleAvatar( backgroundColor: Colors.brown.shade800, child: Text('åœ†è§’å›¾ç‰‡'), backgroundImage: AssetImage(_assetHeaderImg), radius: 50.0),// å›¾æ ‡Text('å›¾æ ‡'),ImageIcon( NetworkImage(_imgUrl), size: 100,),// ClipRRect åœ†è§’Text('ClipRRect åœ†è§’'),ClipRRect( child: Image.network(_imgUrl), borderRadius: BorderRadius.all(Radius.circular(20)),),// åœ†è§’çŸ©å½¢æ¡†Text('åœ†è§’çŸ©å½¢æ¡†'),Container( width: 200, height: 80, decoration: BoxDecoration( shape: BoxShape.rectangle, borderRadius: BorderRadius.circular(10.0), image: DecorationImage( image: NetworkImage(_imgUrl), fit: BoxFit.cover), ),),// æ¤­åœ†å›¾Text('æ¤­åœ†å›¾'),ClipOval( child: Image.network( _imgUrl, scale: 8.5, ),),// æ··è‰²Text('æ··è‰²'),Image.asset( _assetHeaderImg, color: Colors.amber, colorBlendMode: BlendMode.dstATop,),// è£å‰ªText('è£å‰ª'),Image.asset( _assetImg, width: 400, height: 50, fit: BoxFit.cover,), ä»£ç https://github.com/ducafecat/flutter-learn/tree/master/image_widget å‚è€ƒ Image class NetworkImage class FadeInImage class ClipRRect class ClipOval class ImageIcon class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 13 åŸºç¡€ç»„ä»¶ Button FlatButton RaisedButton OutlineButton","date":"2019-10-06T16:00:00.000Z","path":"2019/10/07/flutter/flutter-13-widget-button/","text":"æœ¬èŠ‚ç›®æ ‡å¸¸ç”¨æŒ‰é’®æ“ä½œ FlatButtonï¼ˆæ‰å¹³åŒ–ï¼‰ RaisedButtonï¼ˆæœ‰æŒ‰ä¸‹çŠ¶æ€ï¼‰ OutlineButtonï¼ˆæœ‰è¾¹æ¡†ï¼‰ MaterialButtonï¼ˆMaterial é£æ ¼ï¼‰ RawMaterialButtonï¼ˆæ²¡æœ‰åº”ç”¨ style çš„ Material é£æ ¼æŒ‰é’®ï¼‰ FloatingActionButtonï¼ˆæ‚¬æµ®æŒ‰é’®ï¼‰ Buttonåœ¨ Flutter ä¸­ Button æœ‰å¾ˆå¤šå°è£…å¥½çš„ Widget ç±»ï¼š FlatButtonï¼ˆæ‰å¹³åŒ–ï¼‰ RaisedButtonï¼ˆæœ‰æŒ‰ä¸‹çŠ¶æ€ï¼‰ OutlineButtonï¼ˆæœ‰è¾¹æ¡†ï¼‰ MaterialButtonï¼ˆMaterial é£æ ¼ï¼‰ RawMaterialButtonï¼ˆæ²¡æœ‰åº”ç”¨ style çš„ Material é£æ ¼æŒ‰é’®ï¼‰ FloatingActionButtonï¼ˆæ‚¬æµ®æŒ‰é’®ï¼‰ BackButtonï¼ˆè¿”å›æŒ‰é’®ï¼‰ IconButtonï¼ˆIcon å›¾æ ‡ï¼‰ CloseButtonï¼ˆå…³é—­æŒ‰é’®ï¼‰ ButtonBarï¼ˆå¯ä»¥æ’åˆ—æ”¾ç½®æŒ‰é’®å…ƒç´ çš„ï¼‰ å…¶ä¸­å¤§éƒ¨åˆ†çš„ Button éƒ½æ˜¯åŸºäº RawMaterialButton è¿›è¡Œçš„ä¿®æ”¹å®šåˆ¶è€Œæˆçš„ã€‚ æ„é€ å‡½æ•° 12345678910111213141516171819202122232425262728293031const FlatButton(&#123; Key key, // ç‚¹å‡»äº‹ä»¶ @required VoidCallback onPressed, // é«˜äº®æ”¹å˜ï¼ŒæŒ‰ä¸‹å’ŒæŠ¬èµ·æ—¶éƒ½ä¼šè°ƒç”¨çš„æ–¹æ³• ValueChanged&lt;bool&gt; onHighlightChanged, // å®šä¹‰æŒ‰é’®çš„åŸºè‰²ï¼Œä»¥åŠæŒ‰é’®çš„æœ€å°å°ºå¯¸ï¼Œå†…éƒ¨å¡«å……å’Œå½¢çŠ¶çš„é»˜è®¤å€¼ ButtonTextTheme textTheme, // æŒ‰é’®æ–‡å­—çš„é¢œè‰² Color textColor, // æŒ‰é’®ç¦ç”¨æ—¶çš„æ–‡å­—é¢œè‰² Color disabledTextColor, // æŒ‰é’®èƒŒæ™¯é¢œè‰² Color color, // æŒ‰é’®ç¦ç”¨æ—¶çš„èƒŒæ™¯é¢œè‰² Color disabledColor, // æŒ‰é’®æŒ‰ä¸‹æ—¶çš„èƒŒæ™¯é¢œè‰² Color highlightColor, // ç‚¹å‡»æ—¶ï¼Œæ°´æ³¢åŠ¨ç”»ä¸­æ°´æ³¢çš„é¢œè‰²ï¼Œä¸è¦æ°´æ³¢çº¹æ•ˆæœè®¾ç½®é€æ˜é¢œè‰²å³å¯ Color splashColor, // æŒ‰é’®ä¸»é¢˜ï¼Œé»˜è®¤æ˜¯æµ…è‰²ä¸»é¢˜ï¼Œåˆ†ä¸ºæ·±è‰²å’Œæµ…è‰² Brightness colorBrightness, // æŒ‰é’®çš„å¡«å……é—´è· EdgeInsetsGeometry padding, // å¤–å½¢ ShapeBorder shape, Clip clipBehavior = Clip.none, MaterialTapTargetSize materialTapTargetSize, // æŒ‰é’®çš„å†…å®¹ï¼Œé‡Œé¢å¯ä»¥æ”¾å­å…ƒç´  @required Widget child, &#125;) ç¤ºä¾‹ åé€€ã€å…³é—­ 12345678ButtonBar( children: &lt;Widget&gt;[ BackButton( color: Colors.orange, ), CloseButton(), ],), æ‰å¹³æŒ‰é’® FlatButton 12345678910111213141516ButtonBar( children: &lt;Widget&gt;[ FlatButton( child: Text('æ‰å¹³æŒ‰é’®'), onPressed: () &#123; print('æˆ‘æ˜¯æ‰å¹³æŒ‰é’®'); &#125;, ), FlatButton( child: Text( 'æ‰å¹³æŒ‰é’® ç¦ç”¨', ), onPressed: null, ), ],), æ‰å¹³å¸¦å›¾æ ‡æŒ‰é’® FlatButton.icon 1234567891011121314ButtonBar( children: &lt;Widget&gt;[ FlatButton.icon( label: Text('å¸¦å›¾æ ‡æ‰å¹³æŒ‰é’®'), icon: Icon(Icons.add_call, size: 18.0), onPressed: () &#123;&#125;, ), FlatButton.icon( icon: const Icon(Icons.add_call, size: 18.0), label: const Text('å¸¦å›¾æ ‡æ‰å¹³æŒ‰é’® ç¦ç”¨'), onPressed: null, ), ],), å¸¦æ¡†æŒ‰é’® OutlineButton 123456789101112ButtonBar( children: &lt;Widget&gt;[ OutlineButton( onPressed: () &#123;&#125;, child: Text('å¸¦æ¡†æŒ‰é’®'), ), OutlineButton( onPressed: null, child: Text('å¸¦æ¡†æŒ‰é’® ç¦ç”¨'), ), ],), å¸¦æ¡†å›¾æ ‡æŒ‰é’® OutlineButton.icon 123456789101112131415ButtonBar( children: &lt;Widget&gt;[ OutlineButton.icon( label: Text('å¸¦æ¡†å›¾æ ‡æŒ‰é’®'), icon: Icon(Icons.add_to_photos, size: 18.0), onPressed: () &#123;&#125;, ), OutlineButton.icon( disabledTextColor: Colors.orange, icon: Icon(Icons.add_to_photos, size: 18.0), label: Text('å¸¦æ¡†å›¾æ ‡æŒ‰é’® ç¦ç”¨'), onPressed: null, ), ],), ç«‹ä½“æŒ‰é’® RaisedButton 123456789101112ButtonBar( children: &lt;Widget&gt;[ RaisedButton( child: Text('ç«‹ä½“æŒ‰é’®'), onPressed: () &#123;&#125;, ), RaisedButton( child: Text('ç«‹ä½“æŒ‰é’® ç¦ç”¨'), onPressed: null, ), ],), ç«‹ä½“æŒ‰é’®å¸¦å›¾æ ‡ RaisedButton.icon 1234567891011121314ButtonBar( children: &lt;Widget&gt;[ RaisedButton.icon( icon: Icon(Icons.add, size: 18.0), label: Text('ç«‹ä½“æŒ‰é’®å¸¦å›¾æ ‡'), onPressed: () &#123;&#125;, ), RaisedButton.icon( icon: Icon(Icons.add, size: 18.0), label: Text('ç«‹ä½“æŒ‰é’®å¸¦å›¾æ ‡ ç¦ç”¨'), onPressed: null, ), ],), Material æŒ‰é’® MaterialButton 1234567891011121314ButtonBar( children: &lt;Widget&gt;[ MaterialButton( child: Text('MaterialæŒ‰é’®'), onPressed: () &#123; // Perform some action &#125;, ), MaterialButton( child: Text('MaterialæŒ‰é’® ç¦ç”¨'), onPressed: null, ), ],), RawMaterial æŒ‰é’® RawMaterialButton 1234567891011121314ButtonBar( children: &lt;Widget&gt;[ RawMaterialButton( child: Text('RawMaterialæŒ‰é’®'), onPressed: () &#123; // Perform some action &#125;, ), RawMaterialButton( child: Text('RawMaterialæŒ‰é’® ç¦ç”¨'), onPressed: null, ), ],), æµ®åŠ¨æŒ‰é’® FloatingActionButton 123456789101112131415161718ButtonBar( children: &lt;Widget&gt;[ FloatingActionButton( child: const Icon(Icons.add), heroTag: 'æµ®åŠ¨æŒ‰é’®', onPressed: () &#123; // Perform some action &#125;, tooltip: 'æµ®åŠ¨æŒ‰é’®æç¤º1', ), FloatingActionButton( child: const Icon(Icons.add), onPressed: null, heroTag: 'æµ®åŠ¨æŒ‰é’® ç¦ç”¨', tooltip: 'æµ®åŠ¨æŒ‰é’®æç¤º2', ), ],), ä»£ç https://github.com/ducafecat/flutter-learn/blob/master/button_widget å‚è€ƒ FlatButton class RaisedButton class OutlineButton class MaterialButton class RawMaterialButton class FloatingActionButton class BackButton class IconButton class CloseButton class ButtonBar class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 11 åŸºç¡€ç»„ä»¶ Text RichText TextSpan","date":"2019-10-05T16:00:00.000Z","path":"2019/10/06/flutter/flutter-11-widget-text/","text":"æœ¬èŠ‚ç›®æ ‡ Text æ„é€ å‚æ•° TextStyle æ ·å¼æ„é€ å‚æ•° Text.richã€RichTextã€TextSpan å¤„ç†å¤æ‚å­—ç¬¦æ˜¾ç¤º TextText Widgetï¼Œä»åå­—ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨ Flutter é‡Œæ˜¯ç”¨æ¥è´Ÿè´£æ˜¾ç¤ºæ–‡æœ¬ä¿¡æ¯çš„ä¸€ä¸ªç»„ä»¶ï¼ŒåŠŸèƒ½ç±»ä¼¼äº Android çš„ TextViewã€HTML çš„ä¸€äº›æ–‡æœ¬æ ‡ç­¾ç­‰ç­‰ï¼Œå±äºåŸºç¡€ç»„ä»¶ã€‚ åŸºç¡€ç”¨æ³• 1Text('hello word!'); æ„é€ å‡½æ•° Text 1234567891011121314151617181920212223242526const Text( //è¦æ˜¾ç¤ºçš„æ–‡å­—å†…å®¹ this.data, &#123; //keyç±»ä¼¼äºid Key key, //æ–‡å­—æ˜¾ç¤ºæ ·å¼å’Œå±æ€§ this.style, this.strutStyle, //æ–‡å­—å¯¹é½æ–¹å¼ this.textAlign, //æ–‡å­—æ˜¾ç¤ºæ–¹å‘ this.textDirection, //è®¾ç½®è¯­è¨€ç¯å¢ƒ this.locale, //æ˜¯å¦è‡ªåŠ¨æ¢è¡Œ this.softWrap, //æ–‡å­—æº¢å‡ºåå¤„ç†æ–¹å¼ this.overflow, //å­—ä½“ç¼©æ”¾ this.textScaleFactor, //æœ€å¤§æ˜¾ç¤ºè¡Œæ•° this.maxLines, //å›¾åƒçš„è¯­ä¹‰æè¿°ï¼Œç”¨äºå‘Andoidä¸Šçš„TalkBackå’ŒiOSä¸Šçš„VoiceOveræä¾›å›¾åƒæè¿° this.semanticsLabel, &#125;) TextStyle style å±æ€§æ¯”è¾ƒå¸¸ç”¨ï¼Œä¼ å…¥çš„æ˜¯ TextStyle å¯¹è±¡ï¼Œæˆ‘ä»¬ç»†çœ‹ä¸‹å®ƒå¯ä»¥é…ç½®å“ªäº›å±æ€§æ ·å¼ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940const TextStyle(&#123; //æ˜¯å¦ç»§æ‰¿çˆ¶ç±»ç»„ä»¶å±æ€§ this.inherit = true, //å­—ä½“é¢œè‰² this.color, //æ–‡å­—å¤§å°ï¼Œé»˜è®¤14px this.fontSize, //å­—ä½“ç²—ç»† this.fontWeight, //å­—ä½“æ ·å¼,normalæˆ–italic this.fontStyle, //å­—æ¯é—´è·ï¼Œé»˜è®¤ä¸º0ï¼Œè´Ÿæ•°é—´è·ç¼©å°ï¼Œæ­£æ•°é—´è·å¢å¤§ this.letterSpacing, //å•è¯é—´è·ï¼Œé»˜è®¤ä¸º0ï¼Œè´Ÿæ•°é—´è·ç¼©å°ï¼Œæ­£æ•°é—´è·å¢å¤§ this.wordSpacing, //å­—ä½“åŸºçº¿ this.textBaseline, //è¡Œé«˜ this.height, //è®¾ç½®åŒºåŸŸ this.locale, //å‰æ™¯è‰² this.foreground, //èƒŒæ™¯è‰² this.background, //é˜´å½± this.shadows, //æ–‡å­—åˆ’çº¿ï¼Œä¸‹æ¢çº¿ç­‰ç­‰è£…é¥° this.decoration, //åˆ’çº¿é¢œè‰² this.decorationColor, //åˆ’çº¿æ ·å¼ï¼Œè™šçº¿ã€å®çº¿ç­‰æ ·å¼ this.decorationStyle, //æè¿°ä¿¡æ¯ this.debugLabel, //å­—ä½“ String fontFamily, List&lt;String&gt; fontFamilyFallback, String package, &#125;) ç¤ºä¾‹ é¢œè‰²ã€å¤§å°ã€æ ·å¼ 123456Text('å­—ä½“24ä¸‹åˆ’çº¿', style: TextStyle( color: Colors.blue, // è“è‰² fontSize: 24, // 24 å·å­—ä½“ decoration: TextDecoration.underline, // ä¸‹åˆ’çº¿ )), ç¼©æ”¾ã€åŠ ç²— 12345678Text('æ”¾å¤§åŠ ç²—', textScaleFactor: 1.2, // æ”¾å¤§ 1.2 style: TextStyle( fontWeight: FontWeight.bold, // åŠ ç²— bold fontSize: 24, // 24 å·å­—ä½“ color: Colors.green, // ç»¿è‰² decoration: TextDecoration.none, // ä¸è¦ä¸‹æ»‘çº¿ )), æ–‡å­—æº¢å‡º 1234567891011Text( 'ç¼©æ”¾ï¼ŒEach line here is progressively more opaque. The base color is material.Colors.black, and Color.withOpacity is used to create a derivative color with the desired opacity. The root TextSpan for this RichText widget is explicitly given the ambient DefaultTextStyle, since RichText does not do that automatically. The inner TextStyle objects are implicitly mixed with the parent TextSpans TextSpan.style.', textScaleFactor: 1.0, textAlign: TextAlign.center, softWrap: true, maxLines: 3, // 3 è¡Œ overflow: TextOverflow.ellipsis, // å‰ªåˆ‡ åŠ çœç•¥å· style: TextStyle( fontWeight: FontWeight.bold, fontSize: 18, )), Text.richã€RichText ã€TextSpanæ„é€ å‡½æ•°å¯ä»¥åœ¨ Text é‡ŒåŠ å…¥ä¸€äº› Span æ ‡ç­¾ï¼Œå¯¹æŸéƒ¨åˆ†æ–‡å­—è¿›è¡Œä¸ªæ€§åŒ–æ”¹å˜æ ·å¼ï¼Œå¦‚åŠ å…¥ @ ç¬¦å·ï¼ŒåŠ å…¥è¶…é“¾æ¥ã€å˜è‰²ã€åŠ è¡¨æƒ…ç­‰ç­‰ã€‚Text.rich(â€¦) ç­‰ä»·äº RichText(â€¦)ï¼Œç”¨å“ªä¸ªéƒ½å¯ä»¥ã€‚ 12345678910111213141516171819202122232425262728293031const Text.rich( // æ ·å¼ç‰‡æ®µæ ‡ç­¾TextSpan this.textSpan, &#123; Key key, this.style, this.strutStyle, this.textAlign, this.textDirection, this.locale, this.softWrap, this.overflow, this.textScaleFactor, this.maxLines, this.semanticsLabel, &#125;)const RichText(&#123; Key key, // æ ·å¼ç‰‡æ®µæ ‡ç­¾TextSpan @required this.text, this.textAlign = TextAlign.start, this.textDirection, this.softWrap = true, this.overflow = TextOverflow.clip, this.textScaleFactor = 1.0, this.maxLines, this.locale, this.strutStyle, &#125;) textSpan ç±»å‹æ˜¯ TextSpan ï¼Œå…¶å®ƒå‚æ•°åŒä¸Š 12345678910const TextSpan(&#123; //æ ·å¼ç‰‡æ®µ this.style, //è¦æ˜¾ç¤ºçš„æ–‡å­— this.text, //æ ·å¼ç‰‡æ®µTextSpanæ•°ç»„ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªTextSpan this.children, //ç”¨äºæ‰‹åŠ¿è¿›è¡Œè¯†åˆ«å¤„ç†,å¦‚ç‚¹å‡»è·³è½¬ this.recognizer, &#125;) ç¤ºä¾‹ æ‹¼æ¥å­—ç¬¦ 123456789101112131415161718192021Text.rich(TextSpan( text: 'TextSpan', style: TextStyle( color: Colors.red, fontSize: 24.0, ), children: &lt;TextSpan&gt;[ new TextSpan( text: 'aaaaa', style: new TextStyle( color: Colors.blueGrey, ), ), new TextSpan( text: 'bbbbbb', style: new TextStyle( color: Colors.cyan, ), ), ],)), æ·»åŠ äº¤äº’ 123456789101112131415Text.rich(TextSpan( children: &lt;TextSpan&gt;[ new TextSpan( text: 'Tapç‚¹å‡»', style: new TextStyle( color: Colors.blueGrey, ), recognizer: new TapGestureRecognizer() ..onTap = () &#123; //å¢åŠ ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ print('è¢«ç‚¹å‡»äº†'); &#125;, ), ],)), recognizer ç”¨æ¥è¯†åˆ«äº‹ä»¶ TapGestureRecognizer tap ç‚¹å‡»æ‰‹åŠ¿ ä»£ç https://github.com/ducafecat/flutter-learn/tree/master/text_widget å‚è€ƒ Text class TextSpan class RichText class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter è§é—» - 01 Flutter 1.9 æ­£å¼å‘å¸ƒ å®ç°ä¸‰ç«¯ç¼–è¯‘å‘å¸ƒ android ios web","date":"2019-09-15T16:00:00.000Z","path":"2019/09/16/flutter-daily/flutter-daily-01-update-sdk19/","text":"æœ¬èŠ‚ç›®æ ‡ åœ¨ web å¹³å°è¿è¡Œ Flutter macOS Catalina å’Œ iOS 13 æ”¯æŒ å…¨æ–°çš„ Material widget å…¨çƒè¯­è¨€æ”¯æŒ Dart 2.5 å‘å¸ƒ å·¥å…·é“¾ä¼˜åŒ– åœ¨ web å¹³å°è¿è¡Œ Flutter æ›´æ–° SDK 12&gt; flutter channel master&gt; flutter upgrade å¯ç”¨ web æ”¯æŒ 123&gt; flutter config --enable-web&gt; flutter devices æ›´æ–°ç°æœ‰é¡¹ç›® 1&gt; flutter create . åˆ›å»ºæ–°é¡¹ç›® 1&gt; flutter create myapp è¿è¡Œ web 1&gt; flutter run -d chrome ç¼–è¯‘ web 1&gt; flutter build web Flutter Widget Livebookä¸€ä¸ªåœ¨ç½‘é¡µä¸Šå±•ç¤º widget è¿è¡Œæ•ˆæœçš„ç½‘ç«™ï¼Œå®ƒä½¿ç”¨ Flutter å¼€å‘ï¼Œå¹¶ç›´æ¥è¿è¡Œåœ¨ç½‘é¡µä¸Šã€‚ https://flutter-widget-livebook.blankapp.org/basics/introduction/ Panacheåˆ™æ˜¯ä¸€æ¬¾ä¸º Flutter åˆ›å»ºä¸»é¢˜çš„å·¥å…·ï¼Œæ‚¨å¯ä»¥ä¸‹è½½åˆ›å»ºå¥½çš„ä¸»é¢˜ï¼Œç„¶åå°†å…¶ç›´æ¥æ·»åŠ åˆ°ä»£ç ä¸­ã€‚ https://rxlabz.github.io/panache_web/#/ macOS Catalina å’Œ iOS 13 æ”¯æŒ iOS 13 çš„æ‹–æ‹½å¼å·¥å…·æ  https://github.com/flutter/flutter/pull/35829 è§¦æ„Ÿåé¦ˆ https://github.com/flutter/flutter/pull/37724 å¼€å‘è€…å·²ç»æäº¤äº† pull request https://github.com/flutter/flutter/issues/35541 å¯ç”¨ Bitcode å®éªŒæ€§æ”¯æŒ https://github.com/flutter/flutter/wiki/Creating-an-iOS-Bitcode-enabled-app-(experimental) å…¨æ–°çš„ Material widget ToggleButtons ç¤ºä¾‹ å®ƒèƒ½ä¸ºæ‚¨çš„åº”ç”¨æŒ‰é’®å®ç°æ›´åŠ å¤šå…ƒåŒ–çš„è®¾è®¡â€”â€”ä¸è®ºæ˜¯å•é€‰è¿˜æ˜¯å¤šé€‰ï¼Œé€‰æ‹©è‡³å°‘ä¸€ä¸ªæˆ–æ˜¯é›¶ä¸ªï¼Œå°–è§’è¿˜æ˜¯åœ†è§’ã€ç²—è¾¹æˆ–ç»†è¾¹ï¼Œå›¾æ ‡æˆ–æ–‡æœ¬â€”â€”ToggleButtons widget å…¨éƒ½å¯ä»¥æ»¡è¶³ã€‚ https://github.com/csells/flutter_toggle_buttons ColorFiltered ç¤ºä¾‹ å…è®¸æ‚¨æ›´æ”¹å­ widget æ ‘çš„é¢œè‰²ï¼Œç”¨æ¥çµæ´»çš„è°ƒæ•´é…è‰²æœåŠ¡ã€‚ https://github.com/csells/flutter_color_filter å…¨çƒè¯­è¨€æ”¯æŒè¿˜æ–°å¢äº†å—éè¯­ (Afrikaans)ã€ç¥–é²è¯­ (Zulu) ç­‰ 24 ç§è¯­è¨€çš„æ”¯æŒã€‚ Dart 2.5 å‘å¸ƒ ML ä»£ç è¡¥å…¨ https://github.com/dart-lang/sdk/wiki/Previewing-Dart-code-completions-powered-by-machine-learning ç”¨äº Dart-C äº’æ“ä½œçš„ ffi å¤–éƒ¨å‡½æ•°æ¥å£ æ”¹è¿›å¸¸é‡è¡¨è¾¾å¼ 1234const Object i = 3;const list = [i as int];const set = &#123;if (list is List&lt;int&gt;) ...list&#125;;const map = &#123;if (i is int) i: \"int\"&#125;; å·¥å…·é“¾ä¼˜åŒ– ä» Flutter 1.9 å¼€å§‹ï¼ŒiOS æ–°é¡¹ç›®é»˜è®¤ä½¿ç”¨ Swift è¯­è¨€ï¼Œè€Œé Objective-Cï¼›Android æ–°é¡¹ç›®åˆ™é»˜è®¤ä½¿ç”¨ Kotlinï¼Œè€Œé Javaã€‚ Swift ç¼–è¯‘ç˜¦èº« æ”¹å–„é”™è¯¯ä¿¡æ¯æç¤º https://mp.weixin.qq.com/s?__biz=MzAwODY4OTk2Mg==&amp;mid=2652050546&amp;idx=1&amp;sn=2c81e067ac34da40f89558f426e97af6&amp;chksm=808cb437b7fb3d2127431c7858beb3a03a29186c1c6a78aa0a2e97cd895e756b7ee3367ec935&amp;scene=21#wechat_redirect å‚è€ƒ Building a web application with Flutter flutter_web Flutter 1.9 æ­£å¼å‘å¸ƒï¼| å…¨å¹³å°åˆ›æ–°å¼€å‘ä½“éªŒ è…¾è®¯è§†é¢‘é“¾æ¥ Flutter Widget Livebook æ›´ç²¾å‡†æ›´ç®€æ´: Flutter æ”¹è¿›é”™è¯¯ä¿¡æ¯æç¤º Panache iOS 13 çš„æ‹–æ‹½å¼å·¥å…·æ  è§¦æ„Ÿåé¦ˆ å¼€å‘è€…å·²ç»æäº¤äº† pull request å¯ç”¨ Bitcode å®éªŒæ€§æ”¯æŒ&gt;) ToggleButtons ColorFiltered ML ä»£ç è¡¥å…¨ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 10 stateless stateful æœ‰çŠ¶æ€ã€æ— çŠ¶æ€ç»„ä»¶","date":"2019-08-17T16:00:00.000Z","path":"2019/08/18/flutter/flutter-10-stateless-stateful-widget/","text":"æœ¬èŠ‚ç›®æ ‡ statelessã€stateless å·®åˆ« åŠ¨æ‰‹å°è£…ä¸¤ä¸ª widget æ¥ä½“éªŒ ç‚¹å‡»åˆ‡æ¢ ç‚¹å‡»åˆ‡æ¢ å®‰è£…æ’ä»¶Awesome Flutter Snippets ç¬¬ä¸€æ­¥ï¼šç¼–å†™ statefull ä¸»ç¨‹åº12345678910111213141516171819202122import 'package:flutter/material.dart';main(List&lt;String&gt; args) &#123; runApp(MyApp());&#125;class MyApp extends StatefulWidget &#123; MyApp(&#123;Key key&#125;) : super(key: key); _MyAppState createState() =&gt; _MyAppState();&#125;class _MyAppState extends State&lt;MyApp&gt; &#123; @override Widget build(BuildContext context) &#123; return MaterialApp( home: Scaffold( body: Text('data'), ), ); &#125;&#125; ç¬¬äºŒæ­¥ï¼šç¼–å†™ stateless å›¾ç‰‡æ˜¾ç¤º1234567891011121314151617import 'package:flutter/material.dart';class MyPicView extends StatefulWidget &#123; final String picName; MyPicView(&#123;Key key, this.picName&#125;) : super(key: key); _MyPicViewState createState() =&gt; _MyPicViewState();&#125;class _MyPicViewState extends State&lt;MyPicView&gt; &#123; @override Widget build(BuildContext context) &#123; return Container( child: Image.asset('assets/$&#123;widget.picName&#125;'), ); &#125;&#125; ç¬¬ä¸‰æ­¥ï¼šç¼–å†™åˆ‡æ¢å›¾ç‰‡è·¯å¾„çŠ¶æ€1234567891011121314151617181920212223242526272829303132333435363738394041import 'package:flutter/material.dart';import 'my_pic_view.dart';main(List&lt;String&gt; args) &#123; runApp(MyApp());&#125;class MyApp extends StatefulWidget &#123; MyApp(&#123;Key key&#125;) : super(key: key); _MyAppState createState() =&gt; _MyAppState();&#125;class _MyAppState extends State&lt;MyApp&gt; &#123; String fileName = 'p1.jpg'; @override Widget build(BuildContext context) &#123; return MaterialApp( home: Scaffold( body: Column( children: &lt;Widget&gt;[ MyPicView( picName: fileName, ), RaisedButton( onPressed: () &#123; String tmpFileName = 'p1.jpg'; if (fileName == 'p1.jpg') &#123; tmpFileName = 'p2.jpg'; &#125; setState(() &#123; fileName = tmpFileName; &#125;); &#125;, child: Text('åˆ‡æ¢å›¾ç‰‡'), ) ], )), ); &#125;&#125; ä»£ç https://github.com/ducafecat/flutter-learn/tree/master/state_less_ful_app å‚è€ƒ æ’ä»¶ Awesome Flutter Snippets Flutter Stateless and Stateful Widget Flutter: Stateful vs Stateless Widget Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 09 ä¸€åˆ‡éƒ½æ˜¯ widget","date":"2019-08-16T16:00:00.000Z","path":"2019/08/17/flutter/flutter-09-widgets/","text":"æœ¬èŠ‚ç›®æ ‡ æ•´ä½“æ¶æ„è®¾è®¡ å±‚æ¬¡åˆ†ç±» æ•´ä½“æ¶æ„è®¾è®¡æ¶æ„å›¾ æºç ç›®å½•â€¦/sdk/flutter/packages/flutter/lib ç›®å½•åŠŸèƒ½ åç§° è¯´æ˜ Foundation åŸºç¡€éƒ¨åˆ† Animation åŠ¨ç”» Painting è¾¹æ¡†ç»˜åˆ¶ã€é¢œè‰²ã€è£å‰ªå›¾åƒå¤„ç†ã€ç”»ç¬”ã€æ’å€¼å™¨ç­‰è·Ÿç»˜åˆ¶ã€å›¾åƒã€è£…é¥°ç›¸å…³çš„ç±» Gestures äº‹ä»¶ç±»ã€é•¿æŒ‰ã€è§¦æ‘¸ã€æ”¾å¤§ç­‰ç­‰ Rendering æ¸²æŸ“ Widget çš„åŸºç¡€åº“ Widget ä¾èµ– Rendering å±‚è¿›è¡Œæ„å»ºï¼ŒWidget æ˜¯ Flutter çš„æ ¸å¿ƒ Material Android å¹³å°çš„é£æ ¼ Cupertino iOS å¹³å°é£æ ¼çš„æ‰å¹³åŒ– widget åˆ†ç±»ä¸»è¦åˆ†ä¸º StatelessWidget å’Œ StatefulWidget å®˜æ–¹åˆ†ç±» åŸºç¡€ç»„ä»¶ Widgetï¼ˆBasicsï¼‰ï¼š Containerã€Rowã€Columnã€Imageã€Textã€Iconã€RaisedButtonã€Scaffoldã€Appbarã€FlutterLogoã€Placeholder Material Componentsï¼š App ç»“æ„å’Œå¯¼èˆªç±» Scaffoldã€Appbarã€BottomNavigationBarã€TabBarã€TabBarViewã€MaterialAppã€WidgetsAppã€Drawerã€SliverAppBar æŒ‰é’®ç±» RaisedButtonã€FloatingActionButtonã€FlatButtonã€IconButtonã€DropdownButtonã€PopupMenuButtonã€ButtonBar è¾“å…¥å’Œé€‰æ‹©ç±» TextFieldã€Checkboxã€Raidoã€Switchã€Sliderã€Date&amp;Time Pickers å¯¹è¯æ¡†å’Œæ§åˆ¶é¢æ¿ç±» SimpleDialogã€AlertDialogã€BottomSheetã€ExpansionPanelã€SnackBarï¼‰ï¼› ä¿¡æ¯æ˜¾ç¤ºç±»ï¼ˆImageã€Iconã€Chipã€Tooltipã€DataTableã€Cardã€LinearProgressIndicatorã€CircularProgressIndicatorã€GridView å¸ƒå±€ç±» ListTileã€Stepperã€Divider Cupertino ï¼ˆiOS-style widgetsï¼‰ï¼š CupertinoActionSheetã€CupertinoActivityIndicatorã€CupertinoAlertDialogã€CupertinoButtonã€CupertinoDatePickerã€CupertinoDialogã€CupertinoDialogActionã€CupertinoFullscreenDialogTransitionã€CupertinoPageScaffoldã€CupertinoPageTransitionã€CupertinoPickerã€CupertinoPopupSurfaceã€CupertinoSegmentedControlã€CupertinoSliderã€CupertinoSwitchã€CupertinoNavigationBarã€CupertinoTabBarã€CupertinoTabScaffoldã€CupertinoTabViewã€CupertinoTextFieldã€CupertinoTimerPicker Layoutï¼š å•ä¸ªå­å…ƒç´ çš„å¸ƒå±€ Widget Containerã€Paddingã€Centerã€Alignã€FittedBoxã€AspectRatioã€ConstrainedBoxã€Baselineã€FractionallySizedBoxã€IntrinsicHeightã€IntrinsicWidthã€LimitedBoxã€Offstageã€OverflowBoxã€SizedBoxã€SizedOverflowBoxã€Transformã€CustomSingleChildLayout å¤šä¸ªå­å…ƒç´ çš„å¸ƒå±€ Widget Rowã€Columnã€Stackã€IndexedStackã€GridViewã€Flowã€Tableã€Wrapã€ListBodyã€CustomMultiChildLayoutã€LayoutBuilderã€ListViewã€Expanded Text æ–‡æœ¬æ˜¾ç¤ºç±»ï¼š Textã€RichTextã€DefaultTextStyle Assetsã€å›¾ç‰‡ã€Icons ç±»ï¼š Imageã€Iconã€RawImageã€AssetBundle Input è¾“å…¥ç±»ï¼š Formã€FormFieldã€RawKeyboardListener åŠ¨ç”»å’Œ Motion ç±»ï¼š AnimatedContainerã€AnimatedCrossFadeã€Heroã€AnimatedBuilderã€DecoratedBoxTransitionã€FadeTransitionã€PositionedTransitionã€RotationTransitionã€ScaleTransitionã€SizeTransitionã€SlideTransitionã€AnimatedDefaultTextStyleã€AnimatedListStateã€AnimatedModalBarrierã€AnimatedOpacityã€AnimatedPhysicalModelã€AnimatedPositionedã€AnimatedSizeã€AnimatedWidgetã€AnimatedWidgetBaseState äº¤äº’æ¨¡å‹ç±»ï¼š è§¦æ‘¸äº¤äº’ Draggableã€LongPressDraggableã€GestureDetectorã€DragTargetã€Dismissibleã€IgnorePointerã€AbsorbPointerã€Scrollable è·¯ç”±å¯¼èˆª Heroã€Navigator æ ·å¼ç±»ï¼š Paddingã€Themeã€MediaQuery ç»˜åˆ¶å’Œæ•ˆæœç±»ï¼š Transformã€Opacityã€DecoratedBoxã€FractionalTranslationã€RotatedBoxã€ClipOvalã€ClipPathã€ClipRectã€CustomPaintã€BackdropFilter Async å¼‚æ­¥æ¨¡å‹ç±»ï¼š FutureBuilderã€StreamBuilder æ»šåŠ¨ç±»ï¼š GridViewã€ListViewã€NestedScrollViewã€SingleChildScrollViewã€Scrollableã€Scrollbarã€CustomScrollViewã€NotificationListenerã€ScrollConfigurationã€RefreshIndicatorã€PageView è¾…åŠ©åŠŸèƒ½ç±»ï¼š Semanticsã€MergeSemanticsã€ExcludeSemantics widget åœ°å›¾ img å‚è€ƒ Widget catalog Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 08 å¼€å‘è§„èŒƒ","date":"2019-08-15T16:00:00.000Z","path":"2019/08/16/flutter/flutter-08-standard/","text":"æœ¬èŠ‚ç›®æ ‡ Dart è§„èŒƒ Flutter é˜¿é‡Œè§„èŒƒ VSCode æ ¼å¼åŒ– å³é”®èœå• å½“ Save æ—¶è‡ªåŠ¨æ ¼å¼åŒ– è§„èŒƒç²¾è¦ä½¿ç”¨å°å†™åŠ ä¸‹åˆ’çº¿æ¥å‘½ååº“å’Œæºæ–‡ä»¶1234library peg_parser.source_scanner;import 'file_system.dart';import 'slider_menu.dart'; ä¼˜å…ˆä½¿ç”¨å°é©¼å³°æ³•ä½œä¸ºå¸¸é‡å‘½å1234567const pi = 3.14;const defaultTimeout = 1000;final urlScheme = RegExp('^([a-z]+):');class Dice &#123; static final numberGenerator = Random();&#125; æ‰€æœ‰æµæ§åˆ¶ç»“æ„ï¼Œè¯·ä½¿ç”¨å¤§æ‹¬å·12345if (isWeekDay) &#123; print('Bike to work!');&#125; else &#123; print('Go dancing or read a book!');&#125; Doc æ³¨é‡Šä½¿ç”¨///æ–‡æ¡£æ³¨é‡Šæ¥è®°å½•æˆå‘˜å’Œç±»å‹ã€‚ 12/// The number of characters in this chunk when unsplit.int get length =&gt; ... å¯¼å…¥ lib ä¸‹æ–‡ä»¶åº“ï¼Œç»Ÿä¸€æŒ‡å®šåŒ…åï¼Œé¿å…è¿‡å¤šçš„123```dartpackage:flutter_go/ä½¿ç”¨ç›¸é‚»å­—ç¬¦ä¸²è¿æ¥å­—ç¬¦ä¸²æ–‡å­—123raiseAlarm( 'ERROR: Parts of the spaceship are on fire. Other ' 'parts are overrun by martians. Unclear which are which.'); ä¼˜å…ˆä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²1'Hello, $name! You are $&#123;year - birth&#125; years old.'; åœ¨ä¸éœ€è¦çš„æ—¶å€™ï¼Œé¿å…ä½¿ç”¨èŠ±æ‹¬å·12'Hi, $name!'\"Wear your wildest $decade's outfit.\" ä¸è¦ä½¿ç”¨.length æŸ¥çœ‹é›†åˆæ˜¯å¦ä¸ºç©º12if (lunchBox.isEmpty) return 'so hungry...';if (words.isNotEmpty) return words.join(' '); éå†ä¸€ä¸ªåºåˆ—123for (var person in people) &#123; ...&#125; ä¸è¦æ˜¾å¼åœ°å°†å˜é‡åˆå§‹åŒ–ä¸ºç©º123456789101112int _nextId;class LazyId &#123; int _id; int get id &#123; if (_nextId == null) _nextId = 0; if (_id == null) _id = _nextId++; return _id; &#125;&#125; åœ¨ä¸éœ€è¦çš„æ—¶å€™ä¸è¦ç”¨ this1234567891011class Box &#123; var value; void clear() &#123; update(null); &#125; void update(value) &#123; this.value = value; &#125;&#125; å°½å¯èƒ½ä½¿ç”¨åˆå§‹åŒ–çš„å½¢å¼1234class Point &#123; num x, y; Point(this.x, this.y);&#125; ä¸è¦ä½¿ç”¨ new12345678910Widget build(BuildContext context) &#123; return Row( children: [ RaisedButton( child: Text('Increment'), ), Text('Click!'), ], );&#125; ä¼˜å…ˆä½¿ç”¨ async/await ä»£æ›¿åŸå§‹çš„ futures123456789101112Future&lt;int&gt; countActivePlayers(String teamName) async &#123; try &#123; var team = await downloadTeam(teamName); if (team == null) return 0; var players = await team.roster; return players.where((player) =&gt; player.isActive).length; &#125; catch (e) &#123; log.error(e); return 0; &#125;&#125; å½“å¼‚æ­¥æ²¡æœ‰ä»»ä½•ç”¨å¤„æ—¶ï¼Œä¸è¦ä½¿ç”¨å®ƒ123Future afterTwoThings(Future first, Future second) &#123; return Future.wait([first, second]);&#125; å‚è€ƒ Dart å®˜æ–¹è§„èŒƒ é˜¿é‡Œ Flutter Go ä»£ç å¼€å‘è§„èŒƒ 0.1.0 ç‰ˆ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 07 æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç¨‹åº hello word","date":"2019-08-11T16:00:00.000Z","path":"2019/08/12/flutter/flutter-07-first-app-helloword/","text":"æœ¬èŠ‚ç›®æ ‡ ç¨‹åºåŸºç¡€ç»“æ„ pubspec.yaml é…ç½® å¸ƒå±€ï¼Œæ ·å¼ä½¿ç”¨ ç›®å½•æ–‡ä»¶ç»“æ„ åç§° è¯´æ˜ lib Flutter ä»£ç  android Android é¡¹ç›® ios IOS é¡¹ç›® test æµ‹è¯•ç›®å½• .idea IDEA ç¼–è¾‘å™¨é…ç½® pubspec.yaml Flutter é…ç½®æ–‡ä»¶ pubspec.lock åŒ…ç‰ˆæœ¬é”å®š build ç¼–è¯‘ç›®å½• ä¸€ã€ç¼–å†™æœ€åŸºç¡€ helloword æ­¥éª¤ 1231. ç¬¬ä¸€æ­¥ runApp(...)2. ç¬¬äºŒæ­¥ MaterialApp(...)3. ç¬¬ä¸‰æ­¥ æŒ‡å®š widget Text(...) ä»£ç  1234567891011import 'package:flutter/material.dart';main(List&lt;String&gt; args) &#123; // ç¬¬ä¸€æ­¥ runApp(...) runApp( // ç¬¬äºŒæ­¥ MaterialApp MaterialApp( // ç¬¬ä¸‰æ­¥ æŒ‡å®š widget home: Text('hello word!'), ));&#125; äºŒã€é‡‡ç”¨ç•Œé¢è„šæ‰‹æ¶ æ ‡é¢˜ ä¾§æ  æ­£æ–‡12345678910111213141516171819202122main(List&lt;String&gt; args) &#123; // ç¬¬ä¸€æ­¥ runApp(...) runApp( // ç¬¬äºŒæ­¥ MaterialApp MaterialApp( // ç¬¬ä¸‰æ­¥ æŒ‡å®š widget home: // ç¬¬å››æ­¥ é¡µé¢è„šæ‰‹æ¶ Scaffold( // ç¬¬äº”æ­¥ ç¨‹åºæ ‡é¢˜ appBar: AppBar( title: Text('æˆ‘ä»¬ç¬¬ä¸€ä¸ªç¨‹åº'), ), // ç¬¬å…­æ­¥ ä¾§æ  drawer: Drawer( child: Text('ä¾§æ '), ), // æ­£æ–‡ body: Text('hello word!'), ), ));&#125; ä¸‰ã€å¸ƒå±€ æ ·å¼ å›¾ç‰‡12345678910111213141516171819202122232425262728293031323334353637main(List&lt;String&gt; args) &#123; // ç¬¬ä¸€æ­¥ runApp(...) runApp( // ç¬¬äºŒæ­¥ MaterialApp MaterialApp( // ç¬¬ä¸‰æ­¥ æŒ‡å®š widget home: // ç¬¬å››æ­¥ é¡µé¢è„šæ‰‹æ¶ Scaffold( // ç¬¬äº”æ­¥ ç¨‹åºæ ‡é¢˜ appBar: AppBar( title: Text('æˆ‘ä»¬ç¬¬ä¸€ä¸ªç¨‹åº'), ), // ç¬¬å…­æ­¥ ä¾§æ  drawer: Drawer( child: Text('ä¾§æ '), ), // æ­£æ–‡ body: // å±…ä¸­ Center( child: Column( children: &lt;Widget&gt;[ // è½½å…¥å›¾ç‰‡ Image.asset('assets/p1.jpg'), // æ–‡å­— Text( 'é›·ç¥', // æ ·å¼ style: TextStyle(fontSize: 28, color: Colors.red), ), ], ), ), ), ));&#125; ä»£ç https://github.com/ducafecat/flutter-learn/tree/master/helloword å‚è€ƒ Write your first Flutter app, part 1 widgets Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 06 Windows10 ä¸‹é…ç½® Flutter å¼€å‘ç¯å¢ƒ","date":"2019-08-10T16:00:00.000Z","path":"2019/08/11/flutter/flutter-06-setup-windows10/","text":"æœ¬èŠ‚ç›®æ ‡ å®‰è£… JDK 1.8 å®‰è£… Flutter SDK å®‰è£… Android Studio å®‰è£… VSCode é…ç½® VSCode æ’ä»¶ é…ç½® Android æ’ä»¶ é…ç½® Android æ¨¡æ‹Ÿå™¨ ç¯å¢ƒä»‹ç» window10 ä¸“ä¸šç‰ˆ jdk1.8 flutter 1.7.8 vscode 1.37.1 android studio 3.5 1. å®‰è£… JDK 1.8 ä¸‹è½½åœ°å€ https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html é€‰å– windows x64 2. å®‰è£… Flutter SDK ä¸‹è½½åœ°å€ https://flutter.dev/docs/development/tools/sdk/releases?tab=windows#windows è§£å‹ æˆ‘æ”¾åœ¨äº† c:\\sdk\\flutter é…ç½®ç¯å¢ƒå˜é‡ 12345678# PathC:\\sdk\\flutter\\bin# FLUTTER_STORAGE_BASE_URLhttps://storage.flutter-io.cn# PUB_HOSTED_URLhttps://pub.flutter-io.cn æ‰§è¡Œæ£€æŸ¥ 1Flutter doctor 3. å®‰è£… Android Studio ä¸‹è½½ https://developer.android.com/studio/ é…ç½® SDK åŒ… é…ç½® SDK Tools é…ç½®ç¯å¢ƒå˜é‡ 123456# PathC:\\Users\\ducaf\\AppData\\Local\\Android\\Sdk\\toolsC:\\Users\\ducaf\\AppData\\Local\\Android\\Sdk\\platform-tools# ANDROID_HOMEC:\\Users\\ducaf\\AppData\\Local\\Android\\Sdk å®‰è£… Android è¯ä¹¦ 123flutter doctor --android-licensesä¸€è·¯æŒ‰ Y 4. å®‰è£… VSCode ä¸‹è½½åœ°å€ https://code.visualstudio.com/ 5. é…ç½® VSCode æ’ä»¶ Flutter å¿…è£… Awesome Flutter Snippets Paste JSON as Code bloc 6. é…ç½® Android æ’ä»¶ flutter 7. é…ç½® Android æ¨¡æ‹Ÿå™¨ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 05 é…ç½® IDE Macos","date":"2019-06-20T16:00:00.000Z","path":"2019/06/21/flutter/flutter-05-setup-ide-macos/","text":"æœ¬èŠ‚ç›®æ ‡ é…ç½® VSCode é…ç½® Intellij IDEA é…ç½® Android Studio Dart DevTools è°ƒè¯•è§†å›¾ Hot Reload çƒ­æ›´æ–° é…ç½® VSCodeä¸‹è½½å®‰è£…https://code.visualstudio.com/ å®‰è£…æ’ä»¶ Dart å®‰è£…æ’ä»¶ Flutter å®‰è£…æ’ä»¶ Awesome Flutter Snippets åˆ›å»ºé¡¹ç›® flutter: new project åˆ›å»ºå®Œæˆ åˆ›å»ºæ¨¡æ‹Ÿå™¨ è¢«æç¤ºéœ€è¦ android é…ç½® Install Sources for Android 27 å®‰è£…æ¨¡æ‹Ÿå™¨é•œåƒ android-27 Google Play Intel x86 Atom System Image (system-images;android-27;google_apis_playstore;x86) x86 æ¨¡æ‹Ÿå™¨åŠ é€Ÿå™¨ Intel x86 Emulator Accelerator (HAXM installer) android æ¨¡æ‹Ÿå™¨ ios æ¨¡æ‹Ÿå™¨ F5 è¿è¡Œ æ‰“å¼€ Dart DevTools é…ç½® Intellij IDEAå®‰è£…http://www.jetbrains.com/ å®‰è£…æ’ä»¶ Flutter new project é€‰æ‹© flutter æ³¨æ„ é€‰æ‹© sdk ä½ç½® é€‰é¡¹ ç‚¹å‡» more æ›´å¤šè®¾ç½® module name ä¸ºè‹±æ–‡ è¿è¡Œ è°ƒè¯•å™¨ inspector outline é…ç½® Android Studioå®‰è£…æ’ä»¶ Flutter åˆ›å»ºé¡¹ç›® ä¸»é¢æ¿ å¯¼èˆª è¿è¡ŒåŒ IDEA æ•ˆæœ hot reloadçƒ­æ›´æ–°å·²æ”¯æŒ å‚è€ƒ Flutter SDK MacOS install Set up an editor Hot reload Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 04 é…ç½® Android å¼€å‘ç¯å¢ƒ MacOS","date":"2019-06-19T16:00:00.000Z","path":"2019/06/20/flutter/flutter-04-setup-android-macos/","text":"æœ¬èŠ‚ç›®æ ‡ å®‰è£… Android Studio é…ç½® Flutter è¿æ¥ Android Studio é…ç½® Android æ¨¡æ‹Ÿå™¨ åœ¨ Android æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œ Flutter App 1. å®‰è£… Android Studiohttps://developer.android.google.cn/studio 1.2 â€œunable to access android sdk add-on listâ€ ç‚¹å‡»å–æ¶ˆ unable to access android sdk add-on list 1.3 è‡ªå®šä¹‰å®‰è£…ï¼Œå…¨é€‰é¡¹ç›® all 1.4 é…ç½®æ¨¡æ‹Ÿå™¨ è¿›å» AVD Manage ä¸è¦é€‰æœ€æ–°çš„æ¨¡æ‹Ÿå™¨é•œåƒ é…ç½®æ¨¡æ‹Ÿå™¨å‚æ•° å¤§å®¶æœºå™¨å¥½ç‚¹çš„ï¼Œå°±å¤šç»™ç‚¹å†…å­˜å’Œç©ºé—´å§ï¼Œè¿™æ ·æ¨¡æ‹Ÿå™¨è¿è¡Œçš„å¿«äº› è¿è¡Œæ¨¡æ‹Ÿå™¨ 2. é…ç½®ç¯å¢ƒå˜é‡12345678&gt; vi ~/.bash_profile# androidexport ANDROID_HOME=~/Library/Android/sdkexport PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/platform-toolsexport PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/toolssource ~/.bash_profile 3. è¿è¡Œ Flutter3.1 åˆ›å»ºé¡¹ç›® crate &amp; run 1234567891011121314151617181920&gt; flutter create my_app&gt; cd my_app&gt; flutter runUsing hardware rendering with device Android SDK built for x86. If you get graphics artifacts, consider enabling software renderingwith \"--enable-software-rendering\".Launching lib/main.dart on Android SDK built for x86 in debug mode...Initializing gradle... 1.4sResolving dependencies... 2.2sRunning Gradle task 'assembleDebug'...Running Gradle task 'assembleDebug'... Done 2.2sBuilt build/app/outputs/apk/debug/app-debug.apk.Installing build/app/outputs/apk/app.apk... 2.2sD/EGL_emulation( 5614): eglMakeCurrent: 0xe2c05300: ver 3 0 (tinfo 0xe2c03350)Syncing files to device Android SDK built for x86... 2,067ms (!)ğŸ”¥ To hot reload changes while running, press \"r\". To hot restart (and rebuild state), press \"R\".An Observatory debugger and profiler on Android SDK built for x86 is available at: http://127.0.0.1:64823/uqW8O20byg8=/For a more detailed help message, press \"h\". To detach, press \"d\"; to quit, press \"q\". å‚è€ƒ Flutter SDK MacOS install Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 03 é…ç½® IOS å¼€å‘ç¯å¢ƒ MacOS","date":"2019-06-18T16:00:00.000Z","path":"2019/06/19/flutter/flutter-03-setup-ios-macos/","text":"æœ¬èŠ‚ç›®æ ‡ å®‰è£… xcode é…ç½® flutter è¿æ¥ xcode åœ¨ IOS æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œ flutter app 1. å®‰è£… XCodeå®‰è£… Xcode 9.0 ä»¥ä¸Šç‰ˆæœ¬ (è®¿é—® Appleç½‘ç«™ ä¸‹è½½æˆ–è€…ï¼ŒMac App Store æ–¹å¼å®‰è£…). 2. ç¬¬ä¸€æ¬¡å¯åŠ¨ XCode å®‰è£…æ‰€éœ€ç»„ä»¶ 3. é…ç½® Xcode command-line tools1234&gt; sudo xcode-select --switch /Applications/Xcode.app/Contents/Developeræ£€éªŒ æ‰“å° license&gt; sudo xcodebuild -license 4. å¯åŠ¨æ¨¡æ‹Ÿå™¨1open -a Simulator 5. åˆ›å»º Flutter é¡¹ç›®5.1 create &amp; run1234567&gt; flutter create my_app&gt; cd my_app&gt; flutter runğŸ”¥ To hot reload changes while running, press \"r\". To hot restart (and rebuild state), press \"R\".An Observatory debugger and profiler on iPhone XÊ€ is available at: http://127.0.0.1:62341/ztmtijcoJrI=/For a more detailed help message, press \"h\". To detach, press \"d\"; to quit, press \"q\". æ¨¡æ‹Ÿå™¨è¿è¡Œ 5.2 vm æŠ¥å‘Š1http://127.0.0.1:62341/ztmtijcoJrI=/#/vm vm 6. éƒ¨ç½²åˆ°çœŸæœº6.1 å®‰è£…è½¯ä»¶åŒ…1234567&gt; brew update&gt; brew install --HEAD usbmuxd&gt; brew link usbmuxd&gt; brew install --HEAD libimobiledevice&gt; brew install ideviceinstaller ios-deploy cocoapods&gt; pod setup å®‰è£… homebrew pod setup å¾ˆæ…¢çš„é—®é¢˜ æ‰‹åŠ¨ä¸‹è½½ git clone https://github.com/CocoaPods/Specs å¤åˆ¶ ~/.cocoapods/repos/Specs-master æ‰§è¡Œ pod update å¤åˆ¶ master ä¸‹çš„ .git åˆ° Specs-master åœæ­¢ pod update é‡å‘½å Specs-master ä¸º master è¿›å…¥é¡¹ç›®çš„ ios ç›®å½•ä¸‹ pod install æˆåŠŸ 6.2 é…ç½®AppStoreå¼€å‘è€…è´¦å·1open ios/Runner.xcworkspace Add Account å¼€å‘è€…ç™»å½• https://developer.apple.com/cn/programs/ å‚è€ƒ Flutter SDK MacOS install Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 02 å®‰è£… SDK MacOS","date":"2019-06-17T16:00:00.000Z","path":"2019/06/18/flutter/flutter-02-install-sdk-macos/","text":"æœ¬èŠ‚ç›®æ ‡ é‡‡ç”¨ git æ–¹å¼å®‰è£… SDK ç¼–è¯‘ä»£ç  flutter tool æ£€æŸ¥ç¯å¢ƒ flutter doctor 1. å®‰è£… SDK1.1 æ–¹å¼ä¸€ï¼šä¸‹è½½SDKåŒ… SDKåŒ…ä¸‹è½½ è§£å‹åˆ° ~/Documents/sdk/flutter 1.2 æ–¹å¼äºŒï¼šgit æ‹‰å–æºç 123&gt; mkdir ~/Documents/sdk&gt; cd ~/Documents/sdk&gt; git clone -b stable https://github.com/flutter/flutter.git 1.3 æŒç»­å‡çº§ä¸‹æ¬¡æ›´æ–°ç›´æ¥è¿›å…¥ç›®å½•å‡çº§ 123&gt; cd ~/Documents/sdk/flutter&gt; git pull&gt; flutter --version 2. é…ç½®ç¯å¢ƒå˜é‡12345678910&gt; vi ~/.bash_profile# flutter , æ³¨æ„æ²¡æœ‰å•å¼•å·export PATH=$&#123;PATH&#125;:~/Documents/sdk/flutter/bin# ä»¥ä¸‹ä¸¤è¡Œé€‚åˆå›½å†…export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn&gt; source ~/.bash_profile 3. zsh ç”¨æˆ·ä¿®æ”¹é…ç½®æ–‡ä»¶123456&gt; vi ~/.zshrcæœ€åä¸€è¡ŒåŠ å…¥source ~/.bash_profileé‡å¯ç»ˆç«¯ç”Ÿæ•ˆ 4. å‘½ä»¤è¡Œè¿è¡Œ flutter123456789101112131415161718192021222324252627&gt; flutter doctorxcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrunBuilding flutter tool... â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â•‘ Welcome to Flutter! - https://flutter.dev â•‘ â•‘ â•‘ â•‘ The Flutter tool anonymously reports feature usage statistics and crash â•‘ â•‘ reports to Google in order to help Google contribute improvements to â•‘ â•‘ Flutter over time. â•‘ â•‘ â•‘ â•‘ Read about data we send with crash reports: â•‘ â•‘ https://github.com/flutter/flutter/wiki/Flutter-CLI-crash-reporting â•‘ â•‘ â•‘ â•‘ See Google's privacy policy: â•‘ â•‘ https://www.google.com/intl/en/policies/privacy/ â•‘ â•‘ â•‘ â•‘ Use \"flutter config --no-analytics\" to disable analytics and crash â•‘ â•‘ reporting. â•‘ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•Doctor summary (to see all details, run flutter doctor -v):Oops; flutter has exited unexpectedly.Crash report written to /Users/ducafecat/flutter_01.log;please let us know at https://github.com/flutter/flutter/issues. ç¬¬ä¸€æ¬¡è¿è¡Œä¼šè¿›è¡Œ build CommandLineTools å·¥å…·æ¨èï¼Œå…ˆå®‰è£… xcode ï¼ˆæ—©æ™šéƒ½è¦å®‰è£…çš„ï¼‰ ç„¶å Terminal è¿è¡Œ xcode-select â€“install xcode-select --install 5. æ£€æŸ¥ç¯å¢ƒ flutter doctor123456789101112131415161718192021222324252627282930313233343536373839&gt; flutter doctorDoctor summary (to see all details, run flutter doctor -v):[âœ“] Flutter (Channel stable, v1.5.4-hotfix.2, on Mac OS X 10.14.5 18F132, locale zh-Hans-CN)[!] Android toolchain - develop for Android devices (Android SDK version 29.0.0) âœ— Android licenses not accepted. To resolve this, run: flutter doctor --android-licenses[âœ—] iOS toolchain - develop for iOS devices âœ— Xcode installation is incomplete; a full installation is necessary for iOS development. Download at: https://developer.apple.com/xcode/download/ Or install Xcode via the App Store. Once installed, run: sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run: brew update brew install --HEAD usbmuxd brew link usbmuxd brew install --HEAD libimobiledevice brew install ideviceinstaller âœ— ios-deploy not installed. To install: brew install ios-deploy âœ— CocoaPods not installed. CocoaPods is used to retrieve the iOS platform side's plugin code that responds to your plugin usage on the Dart side. Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS. For more info, see https://flutter.dev/platform-plugins To install: brew install cocoapods pod setup[!] Android Studio (version 3.4) âœ— Flutter plugin not installed; this adds Flutter specific functionality. âœ— Dart plugin not installed; this adds Dart specific functionality.[!] IntelliJ IDEA Ultimate Edition (version 2019.1.3) âœ— Flutter plugin not installed; this adds Flutter specific functionality. âœ— Dart plugin not installed; this adds Dart specific functionality.[!] VS Code (version 1.35.1) âœ— Flutter extension not installed; install from https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter[!] Connected device ! No devices available! Doctor found issues in 6 categories. 6. æŸ¥çœ‹ç‰ˆæœ¬ version12345&gt; flutter --versionFlutter 1.5.4-hotfix.2 â€¢ channel stable â€¢ https://github.com/flutter/flutter.gitFramework â€¢ revision 7a4c33425d (9 weeks ago) â€¢ 2019-04-29 11:05:24 -0700Engine â€¢ revision 52c7a1e849Tools â€¢ Dart 2.3.0 (build 2.3.0-dev.0.5 a1668566e5) å‚è€ƒ Flutter SDK MacOS install Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Flutter é›¶åŸºç¡€å…¥é—¨ä¸­æ–‡æ•™å­¦ - 01 å‰è¨€","date":"2019-06-16T16:00:00.000Z","path":"2019/06/17/flutter/flutter-01-introduce/","text":"æœ¬èŠ‚ç›®æ ‡ ä»‹ç» Flutter è¯¾ç¨‹è®¡åˆ’ å¦‚æœè·å–è¯¾ç¨‹èµ„æ–™ã€ä»£ç ã€è§†é¢‘ é€‚åˆäººç¾¤ æ³›ç§»åŠ¨å¼€å‘äººå‘˜ åŸç”Ÿç§»åŠ¨å¼€å‘äººå‘˜ å‰ç«¯å¼€å‘äººå‘˜ è·¨å¹³å°: ç§»åŠ¨ã€Webã€æ¡Œé¢ã€åµŒå…¥ è·¨å¹³å° Flutter æ¡†æ¶ç»“æ„ Flutter Framework Framework è¿™ä¸€å±‚ä½¿ç”¨ Dart è¯­è¨€å¼€å‘ï¼Œå®ƒå®ç°äº†ä¸€å¥—åŸºç¡€åº“ã€‚ Foundationã€Animationã€Paintingã€Gestures ä¸º Dart å®ç°çš„ UI å±‚ï¼Œæä¾›åŠ¨ç”»ã€æ‰‹åŠ¿åŠç»˜åˆ¶ã€‚ Rendering æ¸²æŸ“å±‚ï¼Œä¾èµ– UI å±‚ï¼Œåœ¨è¿è¡Œæ—¶ Rendering å±‚ä¼šæ„å»ºä¸€ä¸ª Widget æ ‘ï¼Œå½“æœ‰å˜åŒ–æ—¶ï¼Œä¼šæ›´å…·ä¸€å®šçš„ç®—æ³•è®¡ç®—å‡ºæœ‰å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶åæ›´æ–° Widget æ ‘ã€‚ Widgets å±‚æ˜¯ Flutter æä¾›çš„çš„ä¸€å¥—åŸºç¡€ç»„ä»¶åº“ï¼Œåœ¨åŸºç¡€ç»„ä»¶åº“ä¹‹ä¸Šï¼ŒFlutter è¿˜æä¾›äº† Material å’Œ Cupertino ä¸¤ç§è§†è§‰é£æ ¼çš„ç»„ä»¶åº“ã€‚ Flutter Engine Skia æ˜¯ä¸€ä¸ªå¼€æºçš„äºŒç»´å›¾å½¢åº“ï¼Œæä¾›å„ç§å¸¸ç”¨çš„ APIï¼Œå¹¶å¯åœ¨å¤šç§è½¯ç¡¬ä»¶å¹³å°ä¸Šè¿è¡Œã€‚è°·æ­Œ Chrome æµè§ˆå™¨ã€Chrome OSã€å®‰å“ã€ç«ç‹æµè§ˆå™¨ã€ç«ç‹æ“ä½œç³»ç»Ÿä»¥åŠå…¶å®ƒè®¸å¤šäº§å“éƒ½ä½¿ç”¨å®ƒä½œä¸ºå›¾å½¢å¼•æ“ã€‚ Skia ç”±è°·æ­Œå‡ºèµ„ç®¡ç†ï¼Œä»»ä½•äººéƒ½å¯åŸºäº BSD å…è´¹è½¯ä»¶è®¸å¯è¯ä½¿ç”¨ Skiaã€‚Skia å¼€å‘å›¢é˜Ÿè‡´åŠ›äºå¼€å‘å…¶æ ¸å¿ƒéƒ¨åˆ†ï¼Œ å¹¶å¹¿æ³›é‡‡çº³å„æ–¹å¯¹äº Skia çš„å¼€æºè´¡çŒ®ã€‚ å› ä¸ºæ²¡æœ‰ä½¿ç”¨åŸç”Ÿçš„ UI å’Œç»˜åˆ¶æ¡†æ¶ï¼Œæ‰€ä»¥æ‰ä¿è¯äº† Flutter çš„é«˜æ€§èƒ½ä½“éªŒã€‚ Skiaå®˜ç½‘ image-20190626154959148 Skiaæ˜¯ä¸€ä¸ªå¼€æºçš„äºŒç»´å›¾å½¢åº“ï¼Œæä¾›å„ç§å¸¸ç”¨çš„APIï¼Œå¹¶å¯åœ¨å¤šç§è½¯ç¡¬ä»¶å¹³å°ä¸Šè¿è¡Œã€‚è°·æ­ŒChromeæµè§ˆå™¨ã€Chrome OSã€å®‰å“ã€ç«ç‹æµè§ˆå™¨ã€ç«ç‹æ“ä½œç³»ç»Ÿä»¥åŠå…¶å®ƒè®¸å¤šäº§å“éƒ½ä½¿ç”¨å®ƒä½œä¸ºå›¾å½¢å¼•æ“ã€‚ Skiaç”±è°·æ­Œå‡ºèµ„ç®¡ç†ï¼Œä»»ä½•äººéƒ½å¯åŸºäºBSDå…è´¹è½¯ä»¶è®¸å¯è¯ä½¿ç”¨Skiaã€‚Skiaå¼€å‘å›¢é˜Ÿè‡´åŠ›äºå¼€å‘å…¶æ ¸å¿ƒéƒ¨åˆ†ï¼Œ å¹¶å¹¿æ³›é‡‡çº³å„æ–¹å¯¹äºSkiaçš„å¼€æºè´¡çŒ®ã€‚ Flutter for Webhttps://flutter.dev/web é€šè¿‡å¯¹æ¯”ï¼Œå¯ä»¥å‘ç°ï¼Œwebæ¡†æ¶å±‚å’Œmobileçš„å‡ ä¹ä¸€æ¨¡ä¸€æ ·ã€‚å› æ­¤åªéœ€è¦é‡æ–°å®ç°ä¸€ä¸‹å¼•æ“å’ŒåµŒå…¥å±‚ï¼Œä¸ç”¨å˜åŠ¨Flutter APIå°±å¯ä»¥å®Œå…¨å¯ä»¥å°†UIä»£ç ä»Android / IOS Flutter Appç§»æ¤åˆ°Webã€‚Dartèƒ½å¤Ÿä½¿ç”¨Dart2Jsç¼–è¯‘å™¨æŠŠDartä»£ç ç¼–è¯‘æˆJsä»£ç ã€‚å¤§å¤šæ•°åŸç”ŸAppå…ƒç´ èƒ½å¤Ÿé€šè¿‡DOMå®ç°ï¼ŒDOMå®ç°ä¸äº†çš„å…ƒç´ å¯ä»¥é€šè¿‡Canvasæ¥å®ç°ã€‚ Fuchsia OS è®¸ä¸­å…´åšå£«æ¼”è®²ï¼šFuchsia OS ç®€ä»‹åŠå¹»ç¯ç‰‡ä¸‹è½½ æ¡Œé¢ç³»ç»Ÿ æ‰‹æœºOS å¹³æ¿ åä¸ºè£è€€Play Flutter ç‰¹ç‚¹ å¤šå¹³å°æ”¯æŒ iOS Android Linux æœªæ¥ Fuchsia OS åŸç”Ÿç”¨æˆ·ç•Œé¢ 120fps è¶…é«˜æ€§èƒ½ ä¸¤å¥—æˆç†Ÿ UI åº“ Material Design å’Œ Cupertino å“åº”å¼çš„æ¡†æ¶ Reduxã€RxDartã€BloC ä¸šåŠ¡å’Œ UI åˆ†ç¦» Flutter æ”¯æŒ Hot Reload å›½å†…é˜¿é‡Œå’¸é±¼ã€è…¾è®¯ã€äº¬ä¸œã€å›½å¤–çš„è°·æ­Œç­‰å…¬å¸éƒ½å·²ç»æœ‰ä¸Šçº¿äº§å“åœ¨ä½¿ç”¨ Flutter å¼€å‘ showcase Flutter æ¨ªå‘å¯¹æ¯” Cordova åŸºäº WebView æ¸²æŸ“ï¼Œé‡åˆ°åŠ¨ç”»ã€å¤§åˆ—è¡¨ æ€§èƒ½æ…¢ React Nativeã€Weex åŸºäºè™šæ‹Ÿ DOM ç”ŸæˆåŸç”Ÿç»„ä»¶ï¼Œæ¯” Cordova è¿™ç±»çš„æ€§èƒ½å¥½ï¼Œä½†æ˜¯é‡åˆ°è´Ÿè´£é¡¹ç›®ä¼šæœ‰å åŠ  view è¿‡å¤šæ€§èƒ½ç“¶é¢ˆ Flutter è‡ªå·±å°è£…çš„ç»„ä»¶å’Œæ¸²æŸ“å¼•æ“ï¼Œåœ¨è®¾è®¡ä¸Šè‚¯å®šä¼šæ¯” RN è¿™ç±»çš„æ€§èƒ½å¥½ï¼Œç”¨çš„è‡ªå®¶ Dart è¯­è¨€æ·±åº¦ç¼–è¯‘ï¼Œä¸éœ€è¦åƒ RN æ¡¥æ¥ JavaScript è¿›è¡Œé€šè®¯ï¼Œä¹Ÿä¼šåœ¨æ€§èƒ½ä¸Šæœ‰ä¼˜åŠ¿ Flutter ç”Ÿæ€èµ„æº Flutteråº”ç”¨å±•ç¤º å®˜æ–¹åŒ…ç®¡ç†å¹³å° awesome è¯¾ç¨‹è®¡åˆ’123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118- å¼€ç¯‡å†™åœ¨æœ€å‰ - Flutter ä»‹ç» - å­¦ä¹ æ–¹æ³•æ¨è - è¯¾ç¨‹è®¡åˆ’- å¼€å‘ç¯å¢ƒæ­å»ºå’Œå·¥å…·é…ç½® - Flutter ç¯å¢ƒé…ç½® MacOS - IOS ç¯å¢ƒé…ç½® MacOS - Android ç¯å¢ƒé…ç½® MacOS - Flutter ç¯å¢ƒé…ç½® Windows10 - Android ç¯å¢ƒé…ç½® Windows10 - å¼€å‘å·¥å…·çš„é€‰æ‹© VSCodeã€IDEAã€AndroidStudio- åŸºç¡€çŸ¥è¯† - é¡¹ç›®åŠé…ç½®æ–‡ä»¶ä»‹ç» - å¼€å‘è§„èŒƒ - ä¸€åˆ‡éƒ½æ˜¯ widget - StatelessWidgetã€StatefulWidget - æ¡†æ¶ç»„ä»¶ MaterialAppã€Scaffold - å¸ƒå±€ç»„ä»¶ Containerã€Centerã€Rowã€Column - åŸºç¡€ç»„ä»¶ Textã€Imageã€Button - è·¯ç”±å¯¼èˆª Routesã€Navigator - ç”Ÿå‘½å‘¨æœŸ- å¿«ç†Ÿä¸Šæ‰‹å®æˆ˜ - æ–°é—»åº”ç”¨ç¨‹åºç»“æ„åˆ†æ - ä½¿ç”¨å¸ƒå±€ç»„ä»¶æ­å»ºæ–°é—»åˆ—è¡¨ç•Œé¢ - é‡‡ç”¨ç¬¬ä¸‰æ–¹ Http Dio ç¨‹åºåŒ…è¯»å–æ•°æ® - è§£æ Json åˆ° Modle - ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶å±•ç¤ºæ–°é—»è¡Œä¿¡æ¯ - ç‚¹å‡»æ–°é—»æ¡è·¯ç”±å¯¼èˆªåˆ°è¯¦æƒ…é¡µ - é‡‡ç”¨Webå®¹å™¨å±•ç¤ºæ–°é—»å†…å®¹ - ä¸Šæ‹‰åˆ·æ–°ã€ä¸‹æ‹‰åŠ è½½æ–°é—»åˆ—è¡¨ - å®šåˆ¶ Loading æ•ˆæœ - é‡‡ç”¨çŸ¢é‡å›¾æ ‡åº“ - é‡‡ç”¨ Sqlite å®ç°æ–°é—»åˆ—è¡¨é¦–é¡µç¼“å­˜ - Redux ç®¡ç†ä¸»é¢˜æ ·å¼ - åŠ å…¥åº”ç”¨å¯åŠ¨ç”»é¢ - æ‰“åŒ… Android APK æ–‡ä»¶ - æ‰“åŒ… IOS IPA æ–‡ä»¶- åŸºç¡€ç»„ä»¶ - Widget ä¸ Element - StatelessWidget - StatefulWidget - Text - Image - Button - AppBar - AlertDialog - Icon - TextField - Form - Switch - Checkbox- å¸ƒå±€ç»„ä»¶ - çº¿æ€§ Row - çº¿æ€§ Column - å¼¹æ€§ Flex - å¼¹æ€§ Expanded - å±‚å  Stack - å±‚å  IndexedStack - å±‚å  Positioned - æµå¼ Flow - æµå¼ Wrap- å®¹å™¨ç»„ä»¶ - Scaffold - Container - Center - Padding - ConstrainedBox - SizedBox - DecoratedBox - Transform- å¯¼èˆªç»„ä»¶ - TabBar - NavigationBar - PageView- å¯æ»šåŠ¨ç»„ä»¶ - CustomScrollView - ListView - GridView - ScrollView - ExpansionPanel - ScrollController- è¡¨æ ¼ç»„ä»¶ - Table - DataTables- åŠŸèƒ½å‹ç»„ä»¶ - WillPopScope - InheritedWidget - ä¸»é¢˜ Theme- äº‹ä»¶å¤„ç†ä¸é€šçŸ¥ - äº‹ä»¶å¤„ç† - æ‰‹åŠ¿è¯†åˆ« - å…¨å±€äº‹ä»¶æ€»çº¿ - é€šçŸ¥æ¶ˆæ¯- è‡ªå®šä¹‰ Widget - ç»„åˆå…¶å®ƒ Widget - è‡ªç»˜ CustomPaintã€Canvas- è¿›é˜¶ - æ–‡ä»¶æ“ä½œ - Http è¯·æ±‚ - WebSocket è¿æ¥ - Json è§£æ - åŒ…ä¸æ’ä»¶ - å›½é™…åŒ– - æ•°æ®åº“ç¼“å­˜ - Redux å‚è€ƒ flutter.io skia showcase An open list of apps built with Flutter Flutter: a Portable UI Framework for Mobile, Web, Embedded, and Desktop Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"flutter","slug":"flutter","permalink":"https://ducafecat.tech/tags/flutter/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 38 ä»£ç åˆ†æ ¼ API è®¾è®¡ effective-design","date":"2019-01-28T08:44:13.000Z","path":"2019/01/28/dart/dart-38-effective-design/","text":"æœ¬èŠ‚ç›®æ ‡ API è®¾è®¡ ç¯å¢ƒ Dart 2.1.0 è¦ ä½¿ç”¨ä¸€è‡´çš„æœ¯è¯­12345pageCount // ä¸€ä¸ªæˆå‘˜å˜é‡updatePageCount() // å’Œ pageCount åå­—ä¸€è‡´ã€‚toSomething() // å’Œ Iterable çš„ toList() ä¸€è‡´ã€‚asSomething() // å’Œ List çš„ asMap() ä¸€è‡´ã€‚Point // å¹¿ä¸ºäººçŸ¥çš„æ¦‚å¿µã€‚ é¿å… ç¼©å†™1234pageCountbuildRectanglesIOStreamHttpRequest æ¨è æŠŠæœ€å…·æè¿°æ€§çš„åè¯æ”¾åˆ°æœ€å1234pageCount // A count (of pages).ConversionSink // A sink for doing conversions.ChunkedConversionSink // A ConversionSink that's chunked.CssFontFaceRule // A rule for font faces in CSS. è€ƒè™‘ å°½é‡è®©ä»£ç çœ‹èµ·æ¥åƒæ™®é€šçš„å¥å­12345678// \"If errors is empty...\"if (errors.isEmpty) ...// \"Hey, _subscription, cancel!\"_subscription.cancel();// \"Get the monsters where the monster has claws.\"monsters.where((monster) =&gt; monster.hasClaws); æ¨è ä½¿ç”¨éå‘½ä»¤å¼åŠ¨è¯çŸ­è¯­å‘½åå¸ƒå°”ç±»å‹çš„å˜é‡å’Œå±æ€§123456isEmptyhasElementscanCloseclosesWindowcanShowPopuphasShownPopup è€ƒè™‘ çœç•¥å‘½åå¸ƒå°”å‚æ•°çš„åŠ¨è¯123Isolate.spawn(entryPoint, message, paused: false)new List.from(elements, growable: true)new RegExp(pattern, caseSensitive: false) æ¨è ä½¿ç”¨å‘½ä»¤å¼åŠ¨è¯çŸ­è¯­æ¥å‘½åå¸¦æœ‰å‰¯ä½œç”¨çš„å‡½æ•°æˆ–è€…æ–¹æ³•1234list.add()queue.removeFirst()window.refresh()connection.downloadData() è€ƒè™‘ ä½¿ç”¨åè¯çŸ­è¯­æˆ–è€…éå‘½ä»¤å¼åŠ¨è¯çŸ­è¯­å‘½åè¿”å›æ•°æ®ä¸ºä¸»è¦åŠŸèƒ½çš„æ–¹æ³•æˆ–è€…å‡½æ•°12list.elementAt(3)string.codeUnitAt(4) æ¨è ä½¿ç”¨ to___() æ¥å‘½åæŠŠå¯¹è±¡çš„çŠ¶æ€è½¬æ¢åˆ°ä¸€ä¸ªæ–°çš„å¯¹è±¡çš„å‡½æ•°123list.toSet()stackTrace.toString()dateTime.toLocal() ä½¿ç”¨ as___() æ¥å‘½åæŠŠåŸæ¥å¯¹è±¡è½¬æ¢ä¸ºå¦å¤–ä¸€ç§è¡¨ç°å½¢å¼çš„å‡½æ•°123list.asMap()bytes.asFloat32List()subscription.asFuture() é¿å… åœ¨æ–¹æ³•æˆ–è€…å‡½æ•°åç§°ä¸­æè¿°å‚æ•°12list.add(element)map.remove(key) é¿å… å®šä¹‰ä½¿ç”¨ç®€å•çš„æ–¹æ³•å¯ä»¥æ›¿ä»£çš„åªæœ‰ä¸€ä¸ªæˆå‘˜çš„æŠ½è±¡ç±»å’Œ Java ä¸åŒçš„æ˜¯ï¼Œ Dart æ”¯æŒä¸€ç­‰æ–¹æ³•ï¼ˆfirst-class functionsï¼‰ã€é—­åŒ…å’Œä¼˜é›…çš„è¯­æ³•æ¥ä½¿ç”¨å®ƒä»¬ã€‚ å¦‚æœä½ éœ€è¦çš„åªæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä½¿ç”¨æ–¹æ³•å³å¯ã€‚ å¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ªåå­—æ— æ„ä¹‰çš„å‡½æ•°ï¼Œ ä¾‹å¦‚ call æˆ–è€… invokeï¼Œ è¿™ç§æƒ…å†µæœ€å¥½ç”¨æ–¹æ³•æ›¿ä»£ 1typedef bool Predicate(item); é¿å… å®šä¹‰åªåŒ…å«é™æ€æˆå‘˜çš„ç±»12345DateTime mostRecent(List&lt;DateTime&gt; dates) &#123; return dates.reduce((a, b) =&gt; a.isAfter(b) ? a : b);&#125;const _favoriteMammal = 'weasel'; ç„¶åï¼Œè¿™æ¡è§„åˆ™å¹¶ä¸æ˜¯å¼ºåˆ¶çš„ã€‚å¯¹äºä¸€äº›å¸¸é‡æˆ–è€…æšä¸¾å‹çš„ç±»å‹ï¼Œ ä½¿ç”¨ç±»æ¥æŠŠç›¸å…³çš„æˆå‘˜ç»„ç»‡åˆ°ä¸€èµ·å¯èƒ½ä¹Ÿæ˜¯åˆç†çš„ã€‚å½“ç„¶ï¼Œ ä½¿ç”¨åº“ä¹Ÿæ˜¯åŒæ ·åˆç†çš„ã€‚1234567class Color &#123; static const red = '#f00'; static const green = '#0f0'; static const blue = '#00f'; static const black = '#000'; static const white = '#fff';&#125; æ¨è ä½¿ç”¨æ„é€ å‡½æ•°è€Œä¸æ˜¯é™æ€å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡1234567class Point &#123; num x, y; Point(this.x, this.y); Point.polar(num theta, num radius) : x = radius * math.cos(theta), y = radius * math.sin(theta);&#125; è¦ ä½¿ç”¨ getter æ¥å®šä¹‰è®¿é—®å±æ€§çš„æ“ä½œå¦‚æœå‡½æ•°çš„åå­—å¸¦æœ‰ get å‰ç¼€ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªåƒ length æˆ–è€… size è¿™æ · çš„åç§°ï¼Œè¿™ç§æƒ…å†µé€šå¸¸æœ€å¥½å®šä¹‰è¯¥å‡½æ•°ä¸ºä¸€ä¸ª getterã€‚ å½“å…¨éƒ¨æ»¡è¶³ä¸‹é¢çš„æ¡ä»¶çš„æ—¶å€™ï¼Œä½ åº”è¯¥ä½¿ç”¨ä¸€ä¸ª getterï¼š æ²¡æœ‰å‚æ•°ã€‚è¿”å›ä¸€ä¸ªå€¼æ²¡æœ‰å‰¯ä½œç”¨ è°ƒç”¨ä¸€ä¸ª getter ä¸åº”è¯¥æ”¹å˜å¯¹è±¡å¤–éƒ¨å¯è§çš„çŠ¶æ€ (å†…éƒ¨ç¼“å­˜å’Œå»¶æ—¶åˆå§‹åŒ–çš„çŠ¶æ€å¯ä»¥å‘ç”Ÿå˜åŒ–) å¦‚æœå¯¹è±¡çš„çŠ¶æ€åœ¨å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ª getter ä¹‹é—´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ª getter åº”è¯¥è¿”å›åŒä¸€ä¸ªå€¼ 123rectangle.widthcollection.isEmptybutton.canShow è¦ å¯¹äºæœ¬è´¨ä¸Šä¸ºä¿®æ”¹å¯¹è±¡å±æ€§çš„å‡½æ•°è¦ä½¿ç”¨ setter12rectangle.width = 3;button.visible = false; ä¸è¦ ä¸º setter æŒ‡å®šè¿”å›ç±»å‹1set foo(Foo value) &#123;...&#125; æ¨è ä¸ºç§æœ‰æˆå‘˜æä¾›ç±»å‹åœ¨å…¬å¼€çš„ API ä¸Šä½¿ç”¨ç±»å‹å¯ä»¥å¸®åŠ©ä½¿ç”¨ä½ çš„åº“çš„ç”¨æˆ·ã€‚åŒæ ·ï¼Œ æ˜¯ç§æœ‰ä»£ç ä¸Šä½¿ç”¨ç±»å‹ï¼Œå¯ä»¥å¸®åŠ©ä½ çš„ä½ çš„åŒäº‹æˆ–è€…ä»£ç ç»´æŠ¤è€…ã€‚ å¦å¤–ï¼Œåœ¨ç§æœ‰æˆå‘˜ä¸Šä½¿ç”¨ç±»å‹ï¼Œå¯¹äºå°†æ¥è‡ªå·±æŸ¥çœ‹ä»£ç  ä¹Ÿæœ‰å¸®åŠ©ã€‚ 12345678class CallChainVisitor &#123; final SourceVisitor _visitor; final Expression _target; void _writeCall(Expression call) &#123; ... &#125; ...&#125; é¿å… åœ¨æ–¹æ³•è¡¨è¾¾å¼ä¸Šä½¿ç”¨ç±»å‹1var names = people.map((person) =&gt; person.name); é¿å… åœ¨æ²¡å¿…è¦çš„åœ°æ–¹ä½¿ç”¨ dynamic ç±»å‹åœ¨å¤§éƒ¨åˆ† Dart ä»£ç ä¸­ï¼Œç±»å‹å¯ä»¥å¿½ç•¥ï¼Œè¿™æ ·è¯¥å‚æ•°ç±»å‹ä¼šè‡ªåŠ¨è®¾ç½®ä¸º dynamicã€‚ æ‰€ä»¥æ²¡å¿…è¦æ‰‹åŠ¨æŒ‡å®šç±»å‹ä¸º dynamic çš„ï¼Œ åªéœ€è¦çœç•¥ç±»å‹å³å¯ã€‚ 12345lookUpOrDefault(String name, Map map, defaultValue) &#123; var value = map[name]; if (value != null) return value; return defaultValue;&#125; é¿å… ä½¿ç”¨ Function ç±»å‹ æ­£ç¡® 1bool isValidString(String value, bool predicate(String string)) &#123; ... &#125; é”™è¯¯ 1bool isValidString(String value, Function predicate) &#123; ... &#125; è¦ ä½¿ç”¨ Object æ¥æ›¿ä»£ dynamic æ¥è¡¨ç¤ºå¯ä»¥æ¥å—ä»»æ„å¯¹è±¡1234567891011// Accepts any object.void log(Object object) &#123; print(object.toString());&#125;// Only accepts bool or String, which can't be expressed in a type annotation.bool convertToBool(arg) &#123; if (arg is bool) return arg; if (arg is String) return arg == 'true'; throw new ArgumentError('Cannot convert $arg to a bool.');&#125; è€ƒè™‘ä½¿ç”¨å‘½åå‚æ•°æˆ–è€…å‘½åæ„é€ å‡½æ•°ä»¥åŠå‘½åå¸¸é‡æ¥æ¸…æ™° çš„è¡¨æ˜æ‚¨çš„æ„å›¾ï¼š1234new Task.oneShot();new Task.repeating();new ListBox(scroll: true, showScrollbars: true);new Button(ButtonState.enabled); å¯¹äº setter åˆ™æ²¡æœ‰è¿™ä¸ªè¦æ±‚ï¼Œåº”ä¸º setter çš„åå­—å·²ç»æ˜ç¡®çš„ è¡¨æ˜äº†å€¼æ‰€ä»£è¡¨çš„æ„ä¹‰12listBox.canScroll = true;button.isEnabled = false; é¿å… æŠŠç”¨æˆ·æƒ³è¦å¿½ç•¥çš„å‚æ•°æ”¾åˆ°ä½ç½®å¯é€‰å‚æ•°çš„å‰åˆ—123456789101112131415161718String.fromCharCodes(Iterable&lt;int&gt; charCodes, [int start = 0, int end])DateTime(int year, [int month = 1, int day = 1, int hour = 0, int minute = 0, int second = 0, int millisecond = 0, int microsecond = 0])Duration( &#123;int days: 0, int hours: 0, int minutes: 0, int seconds: 0, int milliseconds: 0, int microseconds: 0&#125;) é¿å… ä½¿ç”¨å¼ºåˆ¶æ— æ„ä¹‰çš„å‚æ•°1string.substring(start) è¦ ä½¿ç”¨åŒ…å«å¼€å§‹ä½ç½®å¹¶ä¸”ä¸åŒ…å«ç»“æŸä½ç½®çš„èŒƒå›´å‚æ•°å¦‚æœä½ å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•è®©ç”¨æˆ·ä»åŸºäºä½ç½®æ’åºçš„é›†åˆä¸­ é€‰æ‹©ä¸€äº›å…ƒç´ ï¼Œéœ€è¦ä¸€ä¸ªå¼€å§‹ä½ç½®ç´¢å¼•å’Œç»“æŸä½ç½®ç´¢å¼•åˆ†åˆ«åˆ¶å®šå¼€å§‹ å…ƒç´ çš„ä½ç½®ä»¥åŠç»“æŸå…ƒç´ çš„ä½ç½®ã€‚ç»“æŸä½ç½®é€šå¸¸æ˜¯æŒ‡ å¤§äºæœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®çš„å€¼ã€‚ æ ¸å¿ƒåº“å°±æ˜¯è¿™æ ·å®šä¹‰çš„ï¼Œæ‰€ä»¥æœ€å¥½å’Œæ ¸å¿ƒåº“ä¿æŒä¸€è‡´ 12[0, 1, 2, 3].sublist(1, 3) // [1, 2].'abcd'.substring(1, 3) // \"bc\". ä¸è¦ åœ¨è‡ªå®šä¹‰ == æ“ä½œç¬¦ä¸­åˆ¤æ–­ nullè¯­è¨€è§„èŒƒè¡¨æ˜äº†è¿™ç§åˆ¤æ–­å·²ç»è‡ªåŠ¨æ‰§è¡Œäº†ï¼Œä½ çš„ == è‡ªå®šä¹‰æ“ä½œç¬¦åªæœ‰å½“ å³ä¾§å¯¹è±¡ä¸ä¸º null çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚ æ­£ç¡® 123456class Person &#123; final String name; operator ==(other) =&gt; other is Person &amp;&amp; name == other.name;&#125; é”™è¯¯ 12345678class Person &#123; final String name; operator ==(other) =&gt; other != null &amp;&amp; other is Person &amp;&amp; name == other.name;&#125; å‚è€ƒ design Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 37 ä»£ç åˆ†æ ¼ æœ€ä½³å®è·µ effective-usage","date":"2019-01-28T07:30:46.000Z","path":"2019/01/28/dart/dart-37-effective-usage/","text":"æœ¬èŠ‚ç›®æ ‡ æœ€ä½³å®è·µ ç¯å¢ƒ Dart 2.1.0 ä½¿ç”¨ç›¸é‚»çš„å­—ç¬¦ä¸²å­—é¢é‡å®šä¹‰æ¥é“¾æ¥å­—ç¬¦ä¸²123raiseAlarm( 'ERROR: Parts of the spaceship are on fire. Other ' 'parts are overrun by martians. Unclear which are which.'); ä½¿ç”¨æ’å€¼çš„å½¢å¼æ¥ç»„åˆå­—ç¬¦ä¸²å’Œå€¼1'Hello, $name! You are $&#123;year - birth&#125; years old.'; é¿å…åœ¨å­—ç¬¦ä¸²æ’å€¼ä¸­ä½¿ç”¨å¤šä½™çš„å¤§æ‹¬å·123'Hi, $name!'\"Wear your wildest $decade's outfit.\"'Wear your wildest $&#123;decade&#125;s outfit.' å°½å¯èƒ½çš„ä½¿ç”¨é›†åˆå­—é¢é‡æ¥å®šä¹‰é›†åˆ12var points = [];var addresses = &#123;&#125;; å¦‚æœæœ‰å¿…è¦è¿˜å¯ä»¥æä¾›æ³›å‹ç±»å‹12var points = &lt;Point&gt;[];var addresses = &lt;String, Address&gt;&#123;&#125;; ä¸è¦ ä½¿ç”¨ .length æ¥åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º12if (lunchBox.isEmpty) return 'so hungry...';if (words.isNotEmpty) return words.join(' '); ä½¿ç”¨é«˜é˜¶ï¼ˆhigher-orderï¼‰å‡½æ•°æ¥è½¬æ¢é›†åˆæ•°æ®123var aquaticNames = animals .where((animal) =&gt; animal.isAquatic) .map((animal) =&gt; animal.name); é¿å… åœ¨ Iterable.forEach() ä¸­ä½¿ç”¨å‡½æ•°å£°æ˜å½¢å¼123for (var person in people) &#123; ...&#125; forEach() æ–¹æ³•é€šå¸¸åœ¨ JavaScript ä¸­ä½¿ç”¨ï¼ŒåŸå› æ˜¯ç³»ç»Ÿå†…ç½®çš„ for-in å¾ªç¯å¹¶ä¸èƒ½æä¾›æœŸæœ›çš„ç»“æœã€‚ ç›¸åï¼Œåœ¨ Dart ä¸­å¦‚æœéœ€è¦éå†ä¸€ä¸ªé›†åˆï¼Œé€šå¸¸ä½¿ç”¨å¾ªç¯è¯­å¥ å¦‚æœä½ åªæƒ³åœ¨æ¯ä¸ªé›†åˆå…ƒç´ ä¸Šè°ƒç”¨ä¸€ä¸ªå·²ç»å®šä¹‰å¥½çš„å‡½æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ forEach() å‡½æ•°1people.forEach(print); è¦ ç”¨æ–¹æ³•å£°æ˜çš„å½¢å¼æ¥ç»™æ–¹æ³•èµ·ä¸ªåå­— æ­£ç¡® 12345void main() &#123; localFunction() &#123; ... &#125;&#125; é”™è¯¯ç¤ºèŒƒ 12345void main() &#123; var localFunction = () &#123; ... &#125;;&#125; ä¸è¦ æ˜¾å¼çš„æŠŠå˜é‡åˆå§‹åŒ–ä¸º null123456789101112int _nextId;class LazyId &#123; int _id; int get id &#123; if (_nextId == null) _nextId = 0; if (_id == null) _id = _nextId++; return _id; &#125;&#125; åœ¨ Dart ä¸­æ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡å’ŒåŸŸä¼šè‡ªåŠ¨çš„ åˆå§‹åŒ–ä¸º nullã€‚åœ¨è¯­è¨€åŸºæœ¬å°±ä¿è¯äº†è¯¥è¡Œä¸ºçš„å¯é æ€§ã€‚ åœ¨ Dart ä¸­æ²¡æœ‰ â€œæœªåˆå§‹åŒ–çš„å†…å­˜â€è¿™ä¸ªæ¦‚å¿µã€‚æ‰€ä»¥æ·»åŠ  = null æ˜¯å¤šä½™çš„ã€‚ ä¸è¦ åˆ›å»ºæ²¡å¿…è¦çš„ getter å’Œ setter12345678910```# æ®µè½ 1- æ­£ç¡®```dartclass Box &#123; var contents;&#125; é”™è¯¯ 1234567class Box &#123; var _contents; get contents =&gt; _contents; set contents(value) &#123; _contents = value; &#125;&#125; æ¨è ä½¿ç”¨ final å…³é”®å­—æ¥é™å®šåªè¯»å±æ€§123class Box &#123; final contents = [];&#125; è€ƒè™‘ ç”¨ =&gt; æ¥å®ç°åªæœ‰ä¸€ä¸ªå•ä¸€è¿”å›è¯­å¥çš„å‡½æ•°123get width =&gt; right - left;bool ready(num time) =&gt; minTime == null || minTime &lt;= time;containsValue(String value) =&gt; getValues().contains(value); è¦ å°½å¯èƒ½çš„åœ¨å®šä¹‰å˜é‡çš„æ—¶å€™åˆå§‹åŒ–å…¶å€¼1234567class Folder &#123; final String name; final List&lt;Document&gt; contents = []; Folder(this.name); Folder.temp() : name = 'temporary';&#125; è¦ å°½å¯èƒ½çš„ä½¿ç”¨åˆå§‹åŒ–å½¢å¼1234class Point &#123; num x, y; Point(this.x, this.y);&#125; è¦ æŠŠ super() è°ƒç”¨æ”¾åˆ°æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä¹‹åè°ƒç”¨123View(Style style, List children) : _children = children, super(style) &#123; è¦ ä½¿ç”¨ rethrow æ¥é‡æ–°æŠ›å‡ºæ•è·çš„å¼‚å¸¸123456try &#123; somethingRisky();&#125; catch(e) &#123; if (!canHandle(e)) rethrow; handle(e);&#125; æ¨è ä½¿ç”¨ async/await è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨åº•å±‚çš„ç‰¹æ€§123456789Future&lt;bool&gt; doAsyncComputation() async &#123; try &#123; var result = await longRunningCalculation(); return verifyResult(result.summary); &#125; catch(e) &#123; log.error(e); return false; &#125;&#125; ä¸è¦ åœ¨æ²¡æœ‰æœ‰ç”¨æ•ˆæœçš„æƒ…å†µä¸‹ä½¿ç”¨ async123Future afterTwoThings(Future first, second) &#123; return Future.wait([first, second]);&#125; å‚è€ƒ usage Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 36 - ä»£ç åˆ†æ ¼ æ–‡æ¡£ effective-documentation","date":"2019-01-28T07:15:00.000Z","path":"2019/01/28/dart/dart-36-effective-documentation/","text":"æœ¬èŠ‚ç›®æ ‡ æ–‡æ¡£åˆ†æ ¼ ç¯å¢ƒ Dart 2.1.0 æŒ‰ç…§å¥å­çš„æ ¼å¼æ¥æ ¼å¼åŒ–è¯„è®º12// Not if there is nothing before it.if (_chunks.isEmpty) return false; å¦‚æœç¬¬ä¸€ä¸ªå•è¯ä¸æ˜¯å¤§å°å†™ç›¸å…³çš„æ ‡è¯†ç¬¦ï¼Œåˆ™é¦–å­—æ¯è¦å¤§å†™ã€‚ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ç»“å°¾ ï¼ˆå¥å·ã€æ„Ÿå¹å·ã€é—®å·ï¼‰ã€‚å¯¹äºæ‰€æœ‰çš„æ³¨é‡Šéƒ½æ˜¯è¿™æ ·è¦æ±‚çš„ï¼šæ–‡æ¡£æ³¨é‡Šã€ è¡Œå†…æ³¨é‡Šã€ç”šè‡³ TODO æ³¨é‡Šã€‚å³ä½¿æ˜¯ä¸€å¥è¯çš„ä¸€åŠä¹Ÿéœ€è¦å¦‚æ­¤ã€‚ ä½¿ç”¨å—æ³¨é‡Šä½œä¸ºè§£é‡Šè¯´æ˜1234greet(name) &#123; // Assume we have a valid name. print('Hi, $name!');&#125; ä½¿ç”¨ /// æ–‡æ¡£æ³¨é‡Šæ¥æ³¨é‡Šæˆå‘˜å’Œç±»å‹12/// The number of characters in this chunk when unsplit.int get length =&gt; ... æŠŠç¬¬ä¸€ä¸ªè¯­å¥å®šä¹‰ä¸ºä¸€ä¸ªæ®µè½12345/// Defines a flag.////// Throws an [ArgumentError] if there is already an option named [name] or/// there is already an option using abbreviation [abbr]. Returns the new flag.Flag addFlag(String name, String abbr) &#123; ... &#125; æ³¨é‡Šæ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªæ®µè½åº”è¯¥æ˜¯ç®€æ´çš„ã€é¢å‘ç”¨æˆ·çš„æ³¨é‡Šã€‚ä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼Œ é€šå¸¸ä¸æ˜¯ä¸€ä¸ªå®Œæˆçš„è¯­å¥ã€‚ ç”¨ç¬¬ä¸‰äººç§°æ¥å¼€å§‹å‡½æ•°æˆ–è€…æ–¹æ³•çš„æ–‡æ¡£æ³¨é‡Š12345/// Returns `true` if every element satisfies the [predicate].bool all(bool predicate(T element)) &#123; ... &#125;/// Starts the stopwatch if not already running.void start() &#123; ... &#125; ä½¿ç”¨åè¯çŸ­è¯­æ¥å¼€å§‹å˜é‡ã€getterã€setter çš„æ³¨é‡Š12345/// The current day of the week, where `0` is Sunday.int weekday;/// The number of checked buttons on the page.int get checkedCount &#123; ... &#125; æ³¨é‡Šæ–‡æ¡£åº”è¯¥è¡¨è¿°è¿™ä¸ªå±æ€§æ˜¯ä»€ä¹ˆã€‚è™½ç„¶ getter å‡½æ•°ä¼šåšäº›è®¡ç®—ï¼Œ ä½†æ˜¯ä¹Ÿè¦æ±‚è¿™æ ·ï¼Œè°ƒç”¨è€…å…³å¿ƒçš„æ˜¯å…¶ç»“æœè€Œ ä¸æ˜¯å¦‚ä½•è®¡ç®—çš„ ä½¿ç”¨åè¯çŸ­è¯­æ¥å¼€å§‹åº“å’Œç±»å‹æ³¨é‡Š1234/// A chunk of non-breaking output text terminated by a hard or soft newline.////// ...class Chunk &#123; ... &#125; åœ¨ç¨‹åºä¸­ï¼Œç±»çš„æ³¨é‡Šé€šå¸¸æ˜¯æœ€é‡è¦çš„æ–‡æ¡£ã€‚ ç±»çš„æ³¨é‡Šæè¿°äº†ç±»å‹çš„ä¸å˜æ€§ã€ä»‹ç»å…¶ä½¿ç”¨çš„æœ¯è¯­ã€ æä¾›ç±»æˆå‘˜ä½¿ç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¸ºç±»æä¾›ä¸€äº›æ³¨é‡Šå¯ä»¥è®© å…¶ä»–ç±»æˆå‘˜çš„æ³¨é‡Šæ›´æ˜“äºç†è§£å’Œç¼–å†™ã€‚ åœ¨æ–‡æ¡£æ³¨é‡Šä¸­æ·»åŠ ç¤ºä¾‹ä»£ç 1234/// Returns the lesser of two numbers.////// min(5, 3); // 3.num min(num a, num b) &#123; ... &#125; äººç±»éå¸¸æ“…é•¿ä»ç¤ºä¾‹ä¸­æŠ½è±¡å‡ºå®è´¨å†…å®¹ï¼Œæ‰€ä»¥å³ä½¿æä¾› ä¸€è¡Œæœ€ç®€å•çš„ç¤ºä¾‹ä»£ç éƒ½å¯ä»¥è®© API æ›´æ˜“äºç†è§£ã€‚ è€Œ Dart æŠŠå‚æ•°ã€è¿”å›å€¼ç­‰æè¿°æ”¾åˆ°æ–‡æ¡£æ³¨é‡Šä¸­ï¼Œå¹¶ä½¿ç”¨æ–¹æ‹¬å·æ¥å¼•ç”¨ ä»¥åŠé«˜äº®è¿™äº›å‚æ•°å’Œè¿”å›å€¼12345/// Defines a flag.////// Throws an [ArgumentError] if there is already an option named [name] or/// there is already an option using abbreviation [abbr]. Returns the new flag.Flag addFlag(String name, String abbr) &#123; ... &#125; æŠŠæ³¨é‡Šæ–‡æ¡£æ”¾åˆ°æ³¨è§£ä¹‹å‰123/// _Deprecated: Use [newMethod] instead._@deprecatedoldMethod(); ä½¿ç”¨ â€œthisâ€ è€Œä¸æ˜¯ â€œtheâ€ æ¥å¼•ç”¨å®ä¾‹æˆå‘˜1234567class Box &#123; /// The value this wraps. var _value; /// True if this box contains a value. bool get hasValue =&gt; _value != null;&#125; å‚è€ƒ documentation Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 35 - ä»£ç åˆ†æ ¼ effective style","date":"2019-01-28T06:43:12.000Z","path":"2019/01/28/dart/dart-35-effective-style/","text":"æœ¬èŠ‚ç›®æ ‡ ä»£ç åˆ†æ ¼ ç¯å¢ƒ Dart 2.1.0 ä½¿ç”¨ UpperCamelCase é£æ ¼æ¥å‘½åç±»å‹åç§°12345class SliderMenu &#123; ... &#125;class HttpRequest &#123; ... &#125;typedef bool Predicate&lt;T&gt;(T value); ä½¿ç”¨ lowercase_with_underscores é£æ ¼æ¥å‘½ååº“å’Œæ–‡ä»¶ååå­—1234library peg_parser.source_scanner;import 'file_system.dart';import 'slider_menu.dart'; ä½¿ç”¨ lowercase_with_underscores é£æ ¼å‘½åå¯¼å…¥çš„å‰ç¼€1234import 'dart:json' as json;import 'dart:math' as math;import 'package:javascript_utils/javascript_utils.dart' as js_utils;import 'package:js/js.dart' as js; ä½¿ç”¨ lowerCamelCase é£æ ¼æ¥å‘½åå…¶ä»–çš„æ ‡è¯†ç¬¦1234567var item;HttpRequest httpRequest;align(clearItems) &#123; // ...&#125; ä½¿ç”¨ lowerCamelCase æ¥å‘½åå¸¸é‡1234567const pi = 3.14;const defaultTimeout = 1000;final urlScheme = new RegExp('^([a-z]+):');class Dice &#123; static final numberGenerator = new Random();&#125; æŠŠ â€œdart:â€ å¯¼å…¥è¯­å¥æ”¾åˆ°å…¶ä»–å¯¼å…¥è¯­å¥ä¹‹å‰12345import 'dart:async';import 'dart:html';import 'package:bar/bar.dart';import 'package:foo/foo.dart'; æŠŠ â€œpackage:â€ å¯¼å…¥è¯­å¥æ”¾åˆ°ç›¸å¯¹å¯¼å…¥è¯­å¥ä¹‹å‰1234import 'package:bar/bar.dart';import 'package:foo/foo.dart';import 'a.dart'; æŠŠâ€ç¬¬ä¸‰æ–¹â€ â€œpackage:â€ å¯¼å…¥è¯­å¥æ”¾åˆ°å…¶ä»–è¯­å¥ä¹‹å‰ã€‚12345import 'package:bar/bar.dart';import 'package:foo/foo.dart';import 'package:myapp/io.dart';import 'package:myapp/util.dart'; æŠŠå¯¼å‡ºï¼ˆexportï¼‰è¯­å¥æ”¾åˆ°æ‰€æœ‰å¯¼å…¥è¯­å¥ä¹‹åçš„éƒ¨åˆ†1234import 'src/error.dart';import 'src/string_source.dart';export 'src/error.dart'; æŒ‰ç…§å­—æ¯é¡ºåºæ¥æ’åºæ¯ä¸ªéƒ¨åˆ†ä¸­çš„è¯­å¥12345import 'package:bar/bar.dart';import 'package:foo/bar.dart';import 'a.dart';import 'a/b.dart'; åœ¨æ‰€æœ‰çš„æ§åˆ¶ç»“æ„ä¸Šä½¿ç”¨å¤§æ‹¬å·12345if (true) &#123; print('sanity');&#125; else &#123; print('opposite day!');&#125; å½“åªæœ‰ if è¯­å¥æ²¡æœ‰ else è¯­å¥å¹¶ä¸” æ‰€æœ‰è¯­å¥å¯ä»¥æ”¾åˆ°ä¸€è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥å¤§æ‹¬å·1if (arg == null) return defaultValue; é€šå¸¸ç”¨äºå½“æ¡ä»¶æ»¡è¶³çš„æ—¶å€™å°±è·³å‡º if æˆ–è€… è¿”å›çš„æƒ…å†µã€‚ ä½†æ˜¯å¯¹äºå…¶ä»–è¡¨è¾¾å¼ï¼Œå¦‚æœå¯ä»¥æ”¾åˆ°ä¸€è¡Œä¸­ï¼Œ ä¹Ÿå¯ä»¥è¿™æ ·ä½¿ç”¨1if (parameter == null) parameter = defaultValue; åœ¨æ¯ä¸ªè¯­å¥æˆ–è€…å£°æ˜åé¢æ·»åŠ ä¸€ä¸ªç©ºè¡Œ123456main() &#123; first(statement); second(statement);&#125;anotherDeclaration() &#123; ... &#125; åœ¨å…³é”®å­— operator åé¢æ·»åŠ ä¸€ä¸ªç©ºæ ¼1bool operator ==(other) =&gt; ...; åœ¨äºŒå…ƒå’Œä¸‰å…ƒæ“ä½œç¬¦ä¹‹é—´æ·»åŠ ç©ºæ ¼1234average = (a + b) / 2;largest = a &gt; b ? a : b;if (obj is! SomeType) print('not SomeType');optional([parameter = defaultValue]) &#123; ... &#125; ä¸è¦ åœ¨ä¸€å…ƒæ“ä½œç¬¦å‰åæ·»åŠ ç©ºæ ¼12!conditionindex++ æŠŠå¼€å§‹çš„å¤§æ‹¬å· ({) æ”¾åˆ°åŒä¸€è¡Œä¸Š123456789class Foo &#123; method() &#123; if (true) &#123; // ... &#125; else &#123; // ... &#125; &#125;&#125; åœ¨å‡½æ•°å’Œæ–¹æ³•ä½“çš„ { ä¹‹å‰æ·»åŠ ä¸€ä¸ªç©ºæ ¼123getEmptyFn(a) &#123; return () &#123;&#125;;&#125; æŠŠä¸‰å…ƒæ“ä½œç¬¦æ”¾åˆ°å¤šä¸ªè¡¨è¾¾å¼çš„ä¸‹ä¸€è¡Œå¼€å§‹ä½ç½®123return someCondition ? whenTrue : whenFalse; æŠŠ . æ”¾åˆ°ä¸‹ä¸€è¡Œå¼€å¤´å½“è¡¨è¾¾å¼æ¢è¡Œçš„æ—¶å€™12someVeryLongVariable.withAVeryLongProperty .aMethodOnThatObject(); æŠŠæ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„æ¯ä¸ªå‚æ•°å’Œå€¼éƒ½æ”¾åˆ°åŒä¸€è¡Œ123456MyClass() : firstField = 'some value', secondField = 'another', thirdField = 'last' &#123; // ...&#125; å½“æ— æ³•åœ¨ä¸€è¡Œå†™å®Œé›†åˆçš„æ—¶å€™ï¼ŒæŠŠæ¯ä¸ªå…ƒç´ éƒ½ç”¨é›†åˆå®šä¹‰çš„æ–¹å¼æ¥è¡¨è¾¾12345678910mapInsideList([ &#123; 'a': 'b', 'c': 'd' &#125;, &#123; 'a': 'b', 'c': 'd' &#125;,]); ç”¨ä¸¤ä¸ªç©ºæ ¼æ¥ç¼©è¿›ä»£ç å—å’Œé›†åˆä½“123456789if (condition) &#123; print('hi'); [ long, list, literal ];&#125; ç¼©è¿› switch case ä¸¤ä¸ªç©ºæ ¼ï¼Œ case ä½“å››ä¸ªç©ºæ ¼123456789switch (fruit) &#123; case 'apple': print('delish'); break; case 'durian': print('stinky'); break;&#125; åªå°‘ä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼æ¥ç¼©è¿›å¤šè¡Œå‡½æ•°çº§è”è°ƒç”¨1234buffer ..write('Hello, ') ..write(name) ..write('!'); ä½¿ç”¨å››ä¸ªç©ºæ ¼æ¥ç¼©è¿›åŒä¸€è¡Œçš„æ¢è¡Œ12345someLongObject.aReallyLongMethodName(longArg, anotherLongArg, wrappedToNextLine);bobLikes() =&gt; isDeepFried || (hasPieCrust &amp;&amp; !vegan) || containsBacon; å½“è¡¨è¾¾å¼åŒ…å«å¤šè¡Œå‡½æ•°æˆ–è€… é›†åˆå£°æ˜å®šä¹‰çš„æ—¶å€™é™¤å¤–123456789new Future.delayed(const Duration(seconds: 1), () &#123; print('I am a callback');&#125;);args.addAll([ '--mode', 'release', '--checked']); å‚è€ƒ style Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 34 æ³¨è§£ Metadata","date":"2019-01-21T16:15:56.000Z","path":"2019/01/22/dart/dart-34-metadata/","text":"æœ¬èŠ‚ç›®æ ‡ äº†è§£å†…ç½®æ³¨è§£ deprecated override è‡ªå®šä¹‰æ³¨è§£ï¼Œå¹¶ä½¿ç”¨åå°„å®ç° ç¯å¢ƒ Dart 2.1.0 ä½œç”¨å®˜æ–¹ç§°ä¹‹ä¸º å…ƒæ•°æ® , å…¶å®åœ¨ java é‡Œå°±æ˜¯æ³¨è§£ ç®€åŒ–ä»£ç ç¼–å†™ï¼Œæ–¹ä¾¿é˜…è¯»ï¼Œå’Œé‡ç”¨ å†…ç½® deprecatedç”¨æ¥æ³¨è§£ ä¸å»ºè®®ä½¿ç”¨ã€è€æ—§çš„ æˆå‘˜å¯¹è±¡ 1234567891011121314151617class Television &#123; @deprecated void activate() &#123; turnOn(); &#125; void turnOn() &#123; print('on!'); &#125;&#125;main(List&lt;String&gt; args) &#123; var t = new Television(); t.activate(); t.turnOn();&#125; å†…ç½® overrideè¡¨æ˜ä½ çš„å‡½æ•°æ˜¯æƒ³è¦†å†™è¶…ç±»çš„ä¸€ä¸ªå‡½æ•° è¶…ç±»å°±æ˜¯è¢«ä½ é›†æˆçš„çˆ¶ç±» ä¸‹é¢çš„ä»£ç ä¸­çˆ¶ç±»æ˜¯ Object 1234567891011class A &#123; @override noSuchMethod(Invocation mirror) &#123; print('æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•'); &#125;&#125;main(List&lt;String&gt; args) &#123; dynamic a = new A(); a.message();&#125; å†…ç½® proxyæ³¨è§£æ¥é¿å…è­¦å‘Šä¿¡æ¯ åœ¨ Dart2 ä¸­å·²ç»è¢«æ ‡è®°ä¸ºè¿‡æ—¶è€æ—§ 1234567891011@proxyclass A &#123; noSuchMethod(Invocation mirror) &#123; print('æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•'); &#125;&#125;main(List&lt;String&gt; args) &#123; dynamic a = new A(); a.say();&#125; è‡ªå®šä¹‰æ³¨è§£ä½¿ç”¨åå°„å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–å…ƒæ•°æ®ä¿¡æ¯ æ¯”å¦‚æœåŠ¡ç«¯çš„æ§åˆ¶å™¨å¼€å‘ ä¸‹é¢çš„ä»£ç  å±•ç¤ºäº†å¦‚ä½•åœ¨åå°„ä¸­è¯»å– metadata ä¿¡æ¯ 123456789101112131415161718192021222324252627282930import 'dart:mirrors';@Todo('seth', 'make this do something')void doSomething() &#123; print('do something');&#125;class Todo &#123; final String who; final String what; const Todo(this.who, this.what);&#125;main(List&lt;String&gt; args) &#123; currentMirrorSystem().libraries.forEach((uri, lib) &#123; // print('lib: $&#123;uri&#125;'); lib.declarations.forEach((s, decl) &#123; // print('decl: $&#123;s&#125;'); decl.metadata.where((m) =&gt; m.reflectee is Todo).forEach((m) &#123; var anno = m.reflectee as Todo; if (decl is MethodMirror) &#123; print('Todo($&#123;anno.who&#125;, $&#123;anno.what&#125;)'); ((decl as MethodMirror).owner as LibraryMirror).invoke(s, []); &#125; ; &#125;); &#125;); &#125;);&#125; ä»£ç  34-åª’ä½“ä¿¡æ¯ å‚è€ƒ metadata Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 33 ç±»å‹ä¿¡æ¯ typedef","date":"2019-01-20T16:21:06.000Z","path":"2019/01/21/dart/dart-33-typedef/","text":"æœ¬èŠ‚ç›®æ ‡ typedef ä½¿ç”¨ ç¯å¢ƒ Dart 2.1.0 ä½œç”¨typedef ç”¨æ¥ä¿å­˜å‡½æ•°çš„ä¿¡æ¯ï¼Œæœªæ¥å¯èƒ½ä¼šä¿å­˜ç±»ä¿¡æ¯ã€‚ ç¤ºä¾‹ä»£ç  é‡‡ç”¨ typedef 123456789101112131415161718192021// å®šä¹‰å‡½æ•°ç±»å‹typedef int Compare(Object a, Object b);// å®šä¹‰æ’åºç±»class SortedCollection &#123; Compare compare; // æ„é€ æ—¶ä¼ å…¥å‡½æ•° SortedCollection(this.compare);&#125;// å®šä¹‰æ’åºå‡½æ•°int sort(Object a, Object b) =&gt; 0;// ç¨‹åºå…¥å£main() &#123; // å®ä¾‹åŒ–ä¼ å…¥ SortedCollection coll = new SortedCollection(sort); // ç±»å‹æ£€æŸ¥ assert(coll.compare is Function); assert(coll.compare is Compare);&#125; æœªé‡‡ç”¨ typedef 123456789101112131415161718192021class SortedCollection &#123; // å‡½æ•°å¯¹è±¡ Function compare; // å®šä¹‰å‡½æ•° SortedCollection(int f(Object a, Object b)) &#123; compare = f; &#125;&#125;// ç”Ÿå‘½å‡½æ•°int sort(Object a, Object b) =&gt; 0;main() &#123; // å®ä¾‹åŒ– SortedCollection coll = new SortedCollection(sort); // æˆ‘ä»¬åªçŸ¥é“ compare æ˜¯ä¸€ä¸ª Function ç±»å‹ï¼Œ // ä½†æ˜¯ä¸çŸ¥é“å…·ä½“æ˜¯ä½•ç§ Function ç±»å‹ï¼Ÿ assert(coll.compare is Function);&#125; åŒºåˆ«å°±æ˜¯ typedef ç¼–è¾‘å™¨ä¼šæç¤ºå‡½æ•°ä¿¡æ¯ ä»£ç  33-ç±»å‹ä¿¡æ¯ å‚è€ƒ typedefs Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 32 çº¿ç¨‹éš”ç¦» isolate","date":"2019-01-19T16:52:55.000Z","path":"2019/01/20/dart/dart-32-isolates/","text":"æœ¬èŠ‚ç›®æ ‡ äº†è§£çº¿ç¨‹éš”ç¦» ç¯å¢ƒ Dart 2.1.0 isolateåœ¨Dartä¸­å®ç°å¹¶å‘å¯ä»¥ç”¨Isolateï¼Œå®ƒæ˜¯ç±»ä¼¼äºçº¿ç¨‹(thread)ä½†ä¸å…±äº«å†…å­˜çš„ç‹¬ç«‹è¿è¡Œçš„workerï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„Dartç¨‹åºæ‰§è¡Œç¯å¢ƒã€‚å…¶å®é»˜è®¤ç¯å¢ƒå°±æ˜¯ä¸€ä¸ªmain isolateã€‚ åœ¨Dartè¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„Dartä»£ç éƒ½è¿è¡Œåœ¨æŸä¸ªisolateä¸­ï¼Œä»£ç åªèƒ½ä½¿ç”¨æ‰€å±isolateçš„ç±»å’Œå€¼ã€‚ä¸åŒçš„isolateå¯ä»¥é€šè¿‡portå‘é€messageè¿›è¡Œäº¤æµã€‚ ç¤ºæ„å›¾ ReceivePort åˆ›å»ºå…¥å£ç‚¹ Isolate.spawn è¿æ¥è¿›ç¨‹ SendPort.send å‘é€æ¶ˆæ¯ echo ä¾‹å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import 'dart:async';import 'dart:isolate';// ç¬¬1æ­¥ï¼šå®šä¹‰ä¸»çº¿ç¨‹main() async &#123; // ç¬¬3æ­¥ï¼šç¼–å†™å›è°ƒPort var receivePort = new ReceivePort(); await Isolate.spawn(echo, receivePort.sendPort); // ç¬¬6æ­¥ï¼šä¿å­˜éš”ç¦»çº¿ç¨‹å›è°ƒPort var sendPort = await receivePort.first; // ç¬¬7æ­¥ï¼šå‘é€æ¶ˆæ¯ var msg = await sendReceive(sendPort, \"foo\"); print('received $msg'); msg = await sendReceive(sendPort, \"bar\"); print('received $msg');&#125;// ç¬¬2æ­¥ï¼šå®šä¹‰éš”ç¦»çº¿ç¨‹çš„å…¥å£ç‚¹echo(SendPort sendPort) async &#123; // ç¬¬4æ­¥ï¼šç¼–å†™å›è°ƒPort var port = new ReceivePort(); // ç¬¬5æ­¥ï¼šå‘Šè¯‰ä¸»çº¿ç¨‹å›è°ƒå…¥å£ç‚¹ sendPort.send(port.sendPort); // ç¬¬8æ­¥ï¼šå¾ªç¯æ¥æ”¶æ¶ˆæ¯ await for (var msg in port) &#123; // æ•°ç»„ msg[0] æ˜¯æ•°æ® var data = msg[0]; // æ•°ç»„ msg[1] æ˜¯å‘é€æ–¹Port SendPort replyTo = msg[1]; // å›ä¼ å‘é€æ–¹ æ•°æ® replyTo.send(data); // å¦‚æœæ•°æ®æ—¶ bar å…³é—­å½“å‰å›è°ƒ if (data == \"bar\") port.close(); &#125;&#125;/*ä¸»çº¿ç¨‹ å‘é€æ¶ˆæ¯å‡½æ•°æ•°ç»„ msg[0] æ˜¯æ•°æ®æ•°ç»„ msg[1] æ˜¯å‘é€æ–¹Portè¿”å› éš”ç¦»çº¿ç¨‹ Port*/Future sendReceive(SendPort port, msg) &#123; ReceivePort response = new ReceivePort(); port.send([msg, response.sendPort]); return response.first;&#125; ä»£ç  32-éš”ç¦» å‚è€ƒ isolates Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 31 å¯è°ƒç”¨ç±» callable","date":"2019-01-16T03:37:26.000Z","path":"2019/01/16/dart/dart-31-callable/","text":"æœ¬èŠ‚ç›®æ ‡ å®šä¹‰å¹¶æ‰§è¡Œå¯å®šä¹‰ç±» ç¯å¢ƒ Dart 2.1.0 callable123456789101112main(List&lt;String&gt; args) &#123; var phone = IOSPhone(); phone('911'); // IOSPhone()('911');&#125;class IOSPhone &#123; call(String num) &#123; print('phone number is $num'); &#125;&#125; ä»£ç  å¯è°ƒç”¨ç±» å‚è€ƒ callable-classes Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 30 - ç”Ÿæˆå™¨ Generators","date":"2019-01-15T09:25:58.000Z","path":"2019/01/15/dart/dart-30-generator/","text":"æœ¬èŠ‚ç›®æ ‡ åŒæ­¥ã€å¼‚æ­¥ä»£ç ç”Ÿæˆå™¨ ç¯å¢ƒ Dart 2.1.0 åŒæ­¥ç”Ÿæˆå™¨123456789101112131415main(List&lt;String&gt; args) &#123; var it = naturalsTo(5).iterator; while(it.moveNext()) &#123; print(it.current); &#125;&#125;Iterable&lt;int&gt; naturalsTo(int n) sync* &#123; print('start'); int k = 0; while (k &lt; n) &#123; yield k++; &#125; print('end');&#125; yield ä¼šç­‰å¾… moveNext æŒ‡ä»¤ å¼‚æ­¥ç”Ÿæˆå™¨123456789101112131415161718192021222324import 'dart:async';main(List&lt;String&gt; args) &#123; // æµç›‘å¬ // asynchronousNaturalsTo(5).listen((onData) &#123; // print(onData); // &#125;); // æµç›‘å¬ StreamSubscription å¯¹è±¡ StreamSubscription subscription = asynchronousNaturalsTo(5).listen(null); subscription.onData((value) &#123; print(value); // subscription.pause(); &#125;);&#125;Stream&lt;int&gt; asynchronousNaturalsTo(int n) async* &#123; print('start'); int k = 0; while (k &lt; n) &#123; yield k++; &#125; print('end');&#125; ä»¥æµçš„æ–¹å¼ä¸€æ¬¡æ€§æ¨é€ StreamSubscription å¯¹è±¡è¿›è¡Œæµç›‘å¬æ§åˆ¶ é€’å½’ç”Ÿæˆå™¨12345678910111213main(List&lt;String&gt; args) &#123; var it = naturalsDownFrom(5).iterator; while(it.moveNext()) &#123; print(it.current); &#125;&#125;Iterable&lt;int&gt; naturalsDownFrom(int n) sync* &#123; if ( n &gt; 0) &#123; yield n; yield* naturalsDownFrom(n-1); &#125;&#125; yield* ä»¥æŒ‡é’ˆçš„æ–¹å¼ä¼ é€’é€’å½’å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•´ä¸ªåŒæ­¥å¯¹è±¡ ä»£ç  ç”Ÿæˆå™¨ generators å‚è€ƒ generators Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 29 å¼‚æ­¥ async","date":"2018-12-05T07:51:09.000Z","path":"2018/12/05/dart/dart-29-async/","text":"æœ¬èŠ‚ç›®æ ‡ è°ƒç”¨å¼‚æ­¥ ç­‰å¾…ã€é€’å½’ å¼‚æ­¥è¿”å›å€¼ ç¯å¢ƒ Dart 2.1.0 è°ƒç”¨å¼‚æ­¥ å›è°ƒ12345678import 'package:dio/dio.dart';void main() &#123; Dio dio = new Dio(); dio.get(\"https://www.baidu.com\").then((response) &#123; print(response.data); &#125;);&#125; then çš„æ–¹å¼å¼‚æ­¥å›è°ƒ è°ƒç”¨å¼‚æ­¥ ç­‰å¾…1234567import 'package:dio/dio.dart';void main() async &#123; Dio dio = new Dio(); Response&lt;String&gt; response = await dio.get(\"https://www.baidu.com\"); print(response.data);&#125; async å†™åœ¨å‡½æ•°å®šä¹‰await å†™åœ¨å¼‚æ­¥è¯·æ±‚å¤´ å¼‚æ­¥è¿”å›å€¼123456789101112import 'package:dio/dio.dart';void main() async &#123; var content = await getUrl('https://www.baidu.com'); print(content);&#125;Future&lt;String&gt; getUrl(String url) async &#123; Dio dio = new Dio(); Response&lt;String&gt; response = await dio.get(url); return response.data;&#125; å®šä¹‰ Future&lt;T&gt; è¿”å›å¯¹è±¡ ä»£ç  å¼‚æ­¥ å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 28 æ³›å‹","date":"2018-12-05T03:30:26.000Z","path":"2018/12/05/dart/dart-28-generic/","text":"æœ¬èŠ‚ç›®æ ‡ ä½¿ç”¨æ³›å‹ å®šä¹‰æ³›å‹ é™åˆ¶æ³›å‹ ç¯å¢ƒ Dart 2.1.0 æ³›å‹ä½¿ç”¨12345678910111213main(List&lt;String&gt; args) &#123; var l = List&lt;String&gt;(); l.add('aaa'); l.add('bbb'); l.add('ccc'); print(l); var m = Map&lt;int, String&gt;(); m[1] = 'aaaa'; m[2] = 'bbbb'; m[3] = 'cccc'; print(m);&#125; å¾ˆå¤šçš„å®¹å™¨å¯¹è±¡ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶éƒ½å¯ä»¥å®šä¹‰æ³›å‹ç±»å‹ã€‚ æ³›å‹å‡½æ•°123456789main(List&lt;String&gt; args) &#123; var key = addCache('a00001', 'val.....'); print(key);&#125;K addCache&lt;K, V&gt;(K key, V val) &#123; print('$&#123;key&#125; $&#123;val&#125;'); return key;&#125; æ³›å‹å¯ä»¥ç”¨åœ¨ä¸€ä¸ªå‡½æ•°çš„å®šä¹‰ æ„é€ å‡½æ•°æ³›å‹123456789main(List&lt;String&gt; args) &#123; var p = Phone&lt;String&gt;('abc00000011111'); print(p.mobileNumber);&#125;class Phone&lt;T&gt; &#123; final T mobileNumber; Phone(this.mobileNumber);&#125; è¿™æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨æ³›å‹çš„åœºæ™¯ï¼Œåœ¨ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°ä¸­ æ³›å‹é™åˆ¶12345678910111213141516main(List&lt;String&gt; args) &#123; var ad = AndroidPhone(); var p = Phone&lt;AndroidPhone&gt;(ad); p.mobile.startup();&#125;class Phone&lt;T extends AndroidPhone &gt; &#123; final T mobile; Phone(this.mobile);&#125;class AndroidPhone &#123; void startup() &#123; print('Android Phone å¼€æœº'); &#125;&#125; é€šè¿‡ extends å…³é”®å­— å¯ä»¥é™å®šä½ å¯ä»¥æ³›å‹ä½¿ç”¨çš„ç±»å‹ ä»£ç  æ³›å‹ å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 27 åº“","date":"2018-12-05T02:00:54.000Z","path":"2018/12/05/dart/dart-27-library/","text":"æœ¬èŠ‚ç›®æ ‡ æ ¸å¿ƒåº“ å¤–éƒ¨åº“ å¯¼å…¥æ¨¡å— ç¯å¢ƒ Dart 2.1.0 å¯¼å…¥æ ¸å¿ƒåº“1234567import 'dart:io';void main() &#123; var f = new File('README.md'); var content = f.readAsStringSync(); print(content);&#125; å¯¼å…¥ç¬¬ä¸‰æ–¹åº“ ç¼–å†™ pubspec.yaml 123name: ducafecatdependencies: dio: 1.0.9 ç¨‹åºè°ƒç”¨ 1234567import 'package:dio/dio.dart';void main() async &#123; Dio dio = new Dio(); Response&lt;String&gt; response = await dio.get(\"https://www.baidu.com\"); print(response.data);&#125; å¯¼å…¥æ–‡ä»¶1234567import './phone.dart';void main() &#123; var xm = Phone('android'); xm.startup(); xm.shutdown();&#125; å‰ç¼€123456789101112import './phone.dart';import './phone1.dart' as pp;void main() &#123; var xm = Phone('android'); xm.startup(); xm.shutdown(); var xm1 = pp.Phone('android'); xm1.startup(); xm1.shutdown();&#125; ç­›é€‰åŒ…å†…å®¹12345678// import './phone.dart' hide AndroidPhone;import './phone.dart' show IOSPhone;void main() &#123; var xm = IOSPhone(); xm.startup(); xm.shutdown();&#125; hide ç­›æ‰æŸå‡ ä¸ªåŒ…show åªä½¿ç”¨æŸå‡ ä¸ªåŒ… å»¶è¿Ÿè½½å…¥1234567891011import './phone.dart' deferred as pp;void main() async &#123; var run = true; if (run) &#123; await pp.loadLibrary(); var xm = pp.Phone('android'); xm.startup(); xm.shutdown(); &#125;&#125; loadLibrary() æ–¹å¼åœ¨éœ€è¦çš„æ—¶å€™è½½å…¥åŒ…å¯æé«˜ç¨‹åºå¯åŠ¨é€Ÿåº¦ç”¨åœ¨ä¸å¸¸ä½¿ç”¨çš„åŠŸèƒ½ç”¨åœ¨è½½å…¥æ—¶é—´è¿‡é•¿çš„åŒ… ä»£ç  åº“ å‚è€ƒ language-tour åŒ…ç®¡ç†å¹³å° Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 26 å·¥å‚å‡½æ•°","date":"2018-12-04T06:33:01.000Z","path":"2018/12/04/dart/dart-26-factory/","text":"æœ¬èŠ‚ç›®æ ‡ å·¥å‚å‡½æ•° å·¥å‚æ„é€ å‡½æ•° ç¯å¢ƒ Dart 2.1.0 å·¥å‚å‡½æ•°ç®€åŒ–ç±»å‹å®ä¾‹åŒ– 1234567891011121314151617181920212223242526272829303132333435363738void main() &#123; var xm = phoneFactory('ios'); xm.startup(); xm.shutdown();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;Phone phoneFactory(String name) &#123; switch (name) &#123; case 'android': return new AndroidPhone(); break; default: return new IOSPhone(); &#125;&#125;class AndroidPhone extends Phone &#123; void startup() &#123; super.startup(); print('Android Phone å¼€æœº'); &#125;&#125;class IOSPhone extends Phone &#123; void startup() &#123; super.startup(); print('IOS Phone å¼€æœº'); &#125;&#125; å·¥å‚æ„é€ å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637void main() &#123; var xm = Phone('android'); xm.startup(); xm.shutdown();&#125;abstract class Phone &#123; factory Phone(String name) &#123; switch (name) &#123; case 'android': return new AndroidPhone(); break; default: return new IOSPhone(); &#125; &#125; void startup(); void shutdown();&#125;class AndroidPhone implements Phone &#123; void startup() &#123; print('Android Phone å¼€æœº'); &#125; void shutdown() &#123; print('Android å…³æœº'); &#125;&#125;class IOSPhone implements Phone &#123; void startup() &#123; print('IOS Phone å¼€æœº'); &#125; void shutdown() &#123; print('IOS å…³æœº'); &#125;&#125; ä»£ç  factory å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 25 å¤šç»§æ‰¿ç±» mixin","date":"2018-12-04T03:26:18.000Z","path":"2018/12/04/dart/dart-25-mixin/","text":"æœ¬èŠ‚ç›®æ ‡ å¤šç»§æ‰¿ç±»çš„å®ç°æ–¹å¼ å‡½æ•°é‡åå†²çª ç¯å¢ƒ Dart 2.1.0 ç±»å¤šç»§æ‰¿123456789101112131415161718192021222324252627282930313233343536373839404142void main() &#123; var xm = Xiaomi(); xm.startup(); xm.shutdown(); xm.call(); xm.sms();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;class AndroidPhone extends Phone &#123; void startup() &#123; super.startup(); print('AndroidPhone å¼€æœº'); &#125;&#125;class AndroidSystem &#123; void call() &#123; print('android call'); &#125;&#125;class Weixin &#123; void sms() &#123; print('weixin sms'); &#125;&#125;class Xiaomi extends AndroidPhone with AndroidSystem, Weixin &#123; void startup() &#123; super.startup(); print('AndroidPhone å¼€æœº'); &#125;&#125; é‡‡ç”¨ with ... , .... , ... æ–¹å¼ mixin å…¥å¤šä¸ªç±»åŠŸèƒ½ å‡½æ•°é‡åå†²çª1234567891011121314151617181920212223242526272829303132333435363738394041424344454647void main() &#123; var xm = Xiaomi(); xm.startup(); xm.shutdown(); xm.sms();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;class AndroidPhone extends Phone &#123; void startup() &#123; super.startup(); print('AndroidPhone å¼€æœº'); &#125;&#125;class AndroidSystem &#123; void call() &#123; print('android call'); &#125;&#125;class Weixin &#123; void sms() &#123; print('weixin sms'); &#125;&#125;class QQ &#123; void sms() &#123; print('qq sms'); &#125;&#125;class Xiaomi extends AndroidPhone with AndroidSystem, Weixin, QQ &#123; void startup() &#123; super.startup(); print('AndroidPhone å¼€æœº'); &#125;&#125; é‡åˆ°ç›¸åŒåŠŸèƒ½çš„å‡½æ•°ï¼Œæœ€åè½½å…¥çš„ä¼šè¦†ç›–ä¹‹å‰çš„å‡½æ•°å®šä¹‰ ä»£ç  mixin å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 24 extends ç»§æ‰¿","date":"2018-11-28T09:45:11.000Z","path":"2018/11/28/dart/dart-24-extends/","text":"æœ¬èŠ‚ç›®æ ‡ å®ç°ç»§æ‰¿ ç»§æ‰¿æŠ½è±¡ç±»çš„é—®é¢˜ ä¸å¯å¤šç»§æ‰¿ çˆ¶ç±»è°ƒç”¨ è°ƒç”¨çˆ¶ç±»æ„é€  é‡å†™è¶…ç±»å‡½æ•° ç¯å¢ƒ Dart 2.0.0 å®ç°ç»§æ‰¿1234567891011121314151617void main() &#123; var p = AndroidPhone(); p.startup(); p.shutdown();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;class AndroidPhone extends Phone &#123;&#125; ç»§æ‰¿æŠ½è±¡ç±»çš„é—®é¢˜12345678910111213void main() &#123; var p = AndroidPhone(); p.startup(); p.shutdown();&#125;abstract class Phone &#123; void startup(); void shutdown();&#125;class AndroidPhone extends Phone &#123;&#125; æŠ½è±¡ç±»ä¸­åªå®šä¹‰æŠ½è±¡å‡½æ•°ï¼Œå®ä¾‹åŒ–è®¿é—®ä¼šæŠ¥é”™ çˆ¶ç±»è°ƒç”¨1234567891011121314151617181920void main() &#123; var p = AndroidPhone(); p.startup();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;class AndroidPhone extends Phone &#123; void startup() &#123; super.startup(); print('AndroidPhone å¼€æœº'); &#125;&#125; super å¯¹è±¡å¯ä»¥è®¿é—®çˆ¶ç±» è°ƒç”¨çˆ¶ç±»æ„é€ 1234567891011121314151617void main() &#123; var p = AndroidPhone(12345678); p.showNumber();&#125;class Mobile &#123; int number; int signal; Mobile(this.number); void showNumber() &#123; print('010-$&#123;number&#125;'); &#125;&#125;class AndroidPhone extends Mobile &#123; AndroidPhone(int number) : super(number);&#125; å¯è°ƒç”¨çˆ¶ç±»çš„ æ„é€ å‡½æ•° é‡å†™è¶…ç±»å‡½æ•°12345678910111213141516171819202122void main() &#123; dynamic p = AndroidPhone(12345678); p.showNumber111();&#125;class Mobile &#123; int number; int signal; Mobile(this.number); void showNumber() &#123; print('010-$&#123;number&#125;'); &#125;&#125;class AndroidPhone extends Mobile &#123; AndroidPhone(int number) : super(number); @override void noSuchMethod(Invocation mirror) &#123; print('è¢«é‡å†™ noSuchMethod'); &#125;&#125; åœ¨é‡å†™çš„å‡½æ•°ä¸ŠåŠ ä¿®é¥°ç¬¦ @override ä»£ç  extends å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 23 interface æ¥å£","date":"2018-11-28T09:23:46.000Z","path":"2018/11/28/dart/dart-23-interface/","text":"æœ¬èŠ‚ç›®æ ‡ å®ç°æ¥å£ implements å¤šæ¥å£ ç¯å¢ƒ Dart 2.0.0 Dart ä¸­æ²¡æœ‰ interface å…³é”®å­—å®ç°æ¥å£12345678910111213141516171819void main() &#123; var p = AndroidPhone(); p.startup(); p.shutdown();&#125;abstract class IPhone &#123; void startup(); void shutdown();&#125;class AndroidPhone implements IPhone &#123; void startup() &#123; print('AndroidPhone å¼€æœº'); &#125; void shutdown() &#123; print('AndroidPhone å…³æœº'); &#125;&#125; æ¥å£ç”¨é€”çš„æŠ½è±¡ç±» è¯·ç”¨å­—æ¯ I å¼€å¤´ , å¦‚ IPhone ä»ä¸€ä¸ªæ™®é€šç±»å±¥è¡Œæ¥å£1234567891011121314151617181920212223void main() &#123; var p = AndroidPhone(); p.startup(); p.shutdown();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;class AndroidPhone implements Phone &#123; void startup() &#123; print('AndroidPhone å¼€æœº'); &#125; void shutdown() &#123; print('AndroidPhone å…³æœº'); &#125;&#125; Dart å¯ä»¥ä»ä¸€ä¸ªæ™®é€šçš„ç±»å±¥è¡Œæ¥å£ å±¥è¡Œå¤šæ¥å£12345678910111213141516171819202122232425262728void main() &#123; var p = AndroidPhone(); p.startup(); p.shutdown();&#125;class Phone &#123; void startup() &#123; print('å¼€æœº'); &#125; void shutdown() &#123; print('å…³æœº'); &#125;&#125;class Mobile &#123; int signal;&#125;class AndroidPhone implements Phone, Mobile &#123; int signal; void startup() &#123; print('AndroidPhone å¼€æœº'); &#125; void shutdown() &#123; print('AndroidPhone å…³æœº'); &#125;&#125; Dart å¯ä»¥å±¥è¡Œå¤šä¸ªæ¥å£ ä»£ç  interface å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 22 abstract æŠ½è±¡","date":"2018-11-28T08:17:42.000Z","path":"2018/11/28/dart/dart-22-abstract/","text":"æœ¬èŠ‚ç›®æ ‡ æŠ½è±¡ ç±»ã€å‡½æ•° æ¥å£æ–¹å¼ä½¿ç”¨ ç»§æ‰¿æ–¹å¼ä½¿ç”¨ ç¯å¢ƒ Dart 2.0.0 abstract ç±»ã€å‡½æ•°ã€æˆå‘˜ æ™®é€šç±»å‰åŠ  abstract 123456abstract class Person &#123; static const String name = 'ducafecat'; void printName()&#123; print(name); &#125;&#125; ä¸èƒ½ç›´æ¥ new å®ä¾‹åŒ–12var p = Person();p.printName(); Dart 2 å¼€å§‹ new å¯ä»¥ä¸å†™ï¼Œæé«˜é˜…è¯»ä½“éªŒ ç»§æ‰¿æ–¹å¼ä½¿ç”¨å®šä¹‰ 12class Teacher extends Person &#123;&#125; å®ä¾‹ 12var user = Teacher();user.printName(); æ¥å£æ–¹å¼ä½¿ç”¨å®šä¹‰ 1234567891011abstract class Person &#123; static const String name = ''; void printName();&#125;class Student implements Person &#123; String name = 'this is student'; void printName() &#123; print(name); &#125;&#125; å®ä¾‹ 12var user = Student();user.printName(); ä»£ç  abstract å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 21 é™æ€æˆå‘˜","date":"2018-11-17T08:02:07.000Z","path":"2018/11/17/dart/dart-21-static/","text":"æœ¬èŠ‚ç›®æ ‡ é™æ€å˜é‡ é™æ€æ–¹æ³• ç¯å¢ƒ Dart 2.0.0 é™æ€å˜é‡static å®šä¹‰å£°æ˜ 123class People &#123; static String name = 'ducafecat';&#125; è°ƒç”¨ é™æ€å˜é‡å¯ä»¥é€šè¿‡å¤–éƒ¨ç›´æ¥è®¿é—®,ä¸éœ€è¦å°†ç±»å®ä¾‹åŒ– 1print(People.name); å‡½æ•°å†…éƒ¨è®¿é—®å®ä¾‹åŒ–åçš„ç±»ä¹Ÿå¯ä»¥è®¿é—®è¯¥é™æ€å˜é‡ å£°æ˜ 123456class People &#123; static String name = 'ducafecat'; void show() &#123; print(name); &#125;&#125; è°ƒç”¨ 12var p = new People();p.show(); ä¸èƒ½ç”¨ thiså› ä¸ºé™æ€å˜é‡å®é™…ä¸Šå­˜åœ¨äºç±»ä¸­,è€Œä¸æ˜¯å®ä¾‹æœ¬èº« 123456class People &#123; static String name = 'ducafecat'; void show() &#123; print(this.name); &#125;&#125; é™æ€æ–¹æ³•é™æ€æ–¹æ³•å¯ä»¥é€šè¿‡å¤–éƒ¨ç›´æ¥è®¿é—® å£°æ˜ 123456class People &#123; static String name = 'ducafecat'; static void printName() &#123; print(name); &#125;&#125; è°ƒç”¨ 1People.printName(); æ€»ç»“ å®ä¾‹åŒ–åå°†æ— æ³•é€šè¿‡å¤–éƒ¨ç›´æ¥è°ƒç”¨ static æˆå‘˜ é™æ€æˆå‘˜ä¸å®ä¾‹æˆå‘˜æ˜¯åˆ†å¼€çš„, é™æ€æˆå‘˜å¤„äºç±»çš„å®šä¹‰ä½“ä¸­, å®ä¾‹æˆå‘˜å¤„äºç±»çš„å®ä¾‹ä¸­ ä»£ç  static.dart å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 20 get set","date":"2018-11-17T07:30:21.000Z","path":"2018/11/17/dart/dart-20-getter-setter/","text":"æœ¬èŠ‚ç›®æ ‡ å®šä¹‰ã€ä½¿ç”¨ã€ç®€åŒ– get set ç¯å¢ƒ Dart 2.0.0 å®šä¹‰ã€ä½¿ç”¨ get setgetter å’Œ setter çš„å¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥å¼€å§‹ä½¿ç”¨å®ä¾‹å˜é‡ï¼Œåæ¥ ä½ å¯ä»¥æŠŠå®ä¾‹å˜é‡ç”¨å‡½æ•°åŒ…è£¹èµ·æ¥ï¼Œè€Œè°ƒç”¨ä½ ä»£ç çš„åœ°æ–¹ä¸éœ€è¦ä¿®æ”¹ã€‚ å®šä¹‰ 1234567891011class People &#123; String _name; set pName(String value) &#123; _name = value; &#125; String get pName &#123; return 'people is $&#123;_name&#125;'; &#125;&#125; ä½¿ç”¨ 123var p = new People();p.pName = 'ducafecat';print(p.pName); ç®€åŒ– get set1234567class People &#123; String _name; set pName(String value) =&gt; _name = value; String get pName =&gt; 'people is $&#123;_name&#125;';&#125; ä»£ç  getset.dart å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 19 ç±»","date":"2018-11-17T05:52:30.000Z","path":"2018/11/17/dart/dart-19-class/","text":"æœ¬èŠ‚ç›®æ ‡ å®šä¹‰ã€ä½¿ç”¨ç±» æ„é€ å‡½æ•° ç®€åŒ–æ„é€  åˆå§‹åŒ–åˆ—è¡¨ å‘½åæ„é€ å‡½æ•° é‡å®šå‘æ„é€ å‡½æ•° ç¯å¢ƒ Dart 2.0.0 å®šä¹‰ã€ä½¿ç”¨ç±»å®šä¹‰ 12class Point &#123;&#125; ä½¿ç”¨ 1var p = new Point(); æ„é€ å‡½æ•°å®šä¹‰ 12345678class Point &#123; num x; num y; Point(num x, num y)&#123; this.x = x; this.y = y; &#125;&#125; ä½¿ç”¨ 12var p = new Point(1, 2);print([p.x, p.y]); ç®€åŒ–æ„é€ å®šä¹‰ 12345class Point &#123; num x; num y; Point(this.x, this.y);&#125; ä½¿ç”¨ 12var p = new Point(1, 2);print([p.x, p.y]); åˆå§‹åŒ–åˆ—è¡¨å®šä¹‰ 123456class Point &#123; num x; num y; var origin; Point(this.x, this.y): origin = &#123;x:x, y:y&#125;;&#125; ä½¿ç”¨ 12var p = new Point(1, 2);print([p.x, p.y, p.origin]); å‘½åæ„é€ å‡½æ•°å®šä¹‰ 12345678class Point &#123; num x; num y; Point.fromJson(Map json) &#123; x = json['x']; y = json['y']; &#125;&#125; ä½¿ç”¨ 12var p = new Point.fromJson(&#123;\"x\": 1, \"y\": 2&#125;);print([p.x, p.y]); é‡å®šå‘æ„é€ å‡½æ•°å®šä¹‰ 123456class Point &#123; num x; num y; Point(this.x, this.y); Point.fromJson(Map json) : this(json['x'], json['y']);&#125; ä½¿ç”¨ 12var p = new Point.fromJson(&#123;\"x\": 1, \"y\": 2&#125;);print([p.x, p.y]); ä»£ç  class.dart å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 18 å¼‚å¸¸","date":"2018-11-17T02:53:26.000Z","path":"2018/11/17/dart/dart-18-exceptions/","text":"æœ¬èŠ‚ç›®æ ‡ é”™è¯¯ç±»å‹ æŠ›å‡ºã€æ•è· ç¯å¢ƒ Dart 2.0.0 é”™è¯¯çš„ä¸¤ç§ç±»å‹Exception ç±»Exception class åç§° è¯´æ˜ DeferredLoadException å»¶è¿ŸåŠ è½½é”™è¯¯ FormatException æ ¼å¼é”™è¯¯ IntegerDivisionByZeroException æ•´æ•°é™¤é›¶é”™è¯¯ IOException IO é”™è¯¯ IsolateSpawnException éš”ç¦»äº§ç”Ÿé”™è¯¯ TimeoutException è¶…æ—¶é”™è¯¯ Error ç±»Error class åç§° è¯´æ˜ AbstractClassInstantiationError æŠ½è±¡ç±»å®ä¾‹åŒ–é”™è¯¯ ArgumentError å‚æ•°é”™è¯¯ AssertionError æ–­è¨€é”™è¯¯ AsyncError å¼‚æ­¥é”™è¯¯ CastError Cast é”™è¯¯ ConcurrentModificationError å¹¶å‘ä¿®æ”¹é”™è¯¯ CyclicInitializationError å‘¨æœŸåˆå§‹é”™è¯¯ FallThroughError Fall Through é”™è¯¯ JsonUnsupportedObjectError json ä¸æ”¯æŒé”™è¯¯ NoSuchMethodError æ²¡æœ‰è¿™ä¸ªæ–¹æ³•é”™è¯¯ NullThrownError Null é”™è¯¯é”™è¯¯ OutOfMemoryError å†…å­˜æº¢å‡ºé”™è¯¯ RemoteError è¿œç¨‹é”™è¯¯ StackOverflowError å †æ ˆæº¢å‡ºé”™è¯¯ StateError çŠ¶æ€é”™è¯¯ UnimplementedError æœªå®ç°çš„é”™è¯¯ UnsupportedError ä¸æ”¯æŒé”™è¯¯ æŠ›å‡ºé”™è¯¯12345678// Exception å¯¹è±¡// throw new FormatException('è¿™æ˜¯ä¸€ä¸ªæ ¼å¼é”™è¯¯æç¤º');// Error å¯¹è±¡// throw new OutOfMemoryError();// ä»»æ„å¯¹è±¡// throw 'è¿™æ˜¯ä¸€ä¸ªå¼‚å¸¸'; æ•è·é”™è¯¯12345678// try &#123;// // throw new FormatException('è¿™æ˜¯ä¸€ä¸ªæ ¼å¼é”™è¯¯æç¤º');// throw new OutOfMemoryError();// &#125; on OutOfMemoryError &#123;// print('æ²¡æœ‰å†…å­˜äº†');// &#125; catch (e) &#123;// print(e);// &#125; é‡æ–°æŠ›å‡ºé”™è¯¯12345678// try &#123;// throw new OutOfMemoryError();// &#125; on OutOfMemoryError &#123;// print('æ²¡æœ‰å†…å­˜äº†');// rethrow;// &#125; catch (e) &#123;// print(e);// &#125; Finally æ‰§è¡Œ12345678910// try &#123;// throw new OutOfMemoryError();// &#125; on OutOfMemoryError &#123;// print('æ²¡æœ‰å†…å­˜äº†');// rethrow;// &#125; catch (e) &#123;// print(e);// &#125; finally &#123;// print('end');// &#125; ä»£ç  exception.dart å‚è€ƒ language-tour Exception class Error class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 17 æµç¨‹æ§åˆ¶è¯­å¥","date":"2018-11-12T07:56:51.000Z","path":"2018/11/12/dart/dart-17-controlFlow/","text":"æœ¬èŠ‚ç›®æ ‡ æ¡ä»¶åˆ¤æ–­ å¾ªç¯æ§åˆ¶ ç¯å¢ƒ Dart 2.0.0 if else1234bool isPrint = true;if (isPrint) &#123; print('hello');&#125; for123for (var i = 0; i &lt; 5; i++) &#123; print(i);&#125; while12345bool isDone = false;while(!isDone) &#123; print('is not done'); isDone = true;&#125; do while12345bool isRunning = true;do &#123; print('is running'); isRunning = false;&#125; while (isRunning); switch case12345678String name = 'cat';switch (name) &#123; case 'cat': print('cat'); break; default: print('not find');&#125; break12345678num i = 1;while(true) &#123; print('$&#123;i&#125; - run'); i++; if(i == 5) &#123; break; &#125;&#125; continue123456for (var i = 0; i &lt; 5; i++) &#123; if (i &lt; 3) &#123; continue; &#125; print(i);&#125; continue æŒ‡å®šä½ç½®1234567891011121314151617String command = \"close\";switch(command) &#123; case \"open\": print(\"open\"); break; case \"close\": print(\"close\"); continue doClose; doClose: case \"doClose\": print(\"DO_CLOSE\"); break; default: print(\"-----\");&#125; ä»£ç  controlFlow.dart å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 16 æ“ä½œç¬¦","date":"2018-11-12T02:41:28.000Z","path":"2018/11/12/dart/dart-16-operators/","text":"æœ¬èŠ‚ç›®æ ‡ ä¼˜å…ˆçº§ ç®—æœ¯æ“ä½œç¬¦ ç›¸ç­‰ç›¸å…³çš„æ“ä½œç¬¦ ç±»å‹åˆ¤å®šæ“ä½œç¬¦ èµ‹å€¼æ“ä½œç¬¦ é€»è¾‘æ“ä½œç¬¦ ä½å’Œç§»ä½æ“ä½œç¬¦ æ¡ä»¶è¡¨è¾¾å¼ çº§è”æ“ä½œç¬¦ ç¯å¢ƒ Dart 2.0.0 æ“ä½œç¬¦è¡¨ æè¿° æ“ä½œç¬¦ \b åç¼€æ“ä½œ expr++ exprâ€“ () [] . ?. å‰ç¼€æ“ä½œ -expr !expr ~expr ++expr â€“expr ä¹˜é™¤ * / % ~/ åŠ å‡ + - ä½ç§» &lt;&lt; &gt;&gt; æŒ‰ä½ä¸ &amp; æŒ‰ä½å¼‚æˆ– ^ æŒ‰ä½æˆ– \\ ç±»å‹æ“ä½œ &gt;= &gt; &lt;= &lt; as is is! ç›¸ç­‰ == != é€»è¾‘ä¸ &amp;&amp; é€»è¾‘æˆ– \\ \\ æ˜¯ä¸ºä¸ºç©º ?? ä¸‰ç›®è¿ç®— expr1 ? expr2 : expr3 çº§è” .. èµ‹å€¼ = *= /= ~/= %= += -= &lt;&lt;= &gt;&gt;= &amp;= ^= \\ = ??= ä¼˜å…ˆçº§é¡ºåº ä¸Šé¢å·¦è¾¹ ä¼˜å…ˆçº§é«˜äº å³è¾¹ä¸‹é¢ 123if(x == 1 &amp;&amp; y == 2)&#123; ...&#125; ç®—æœ¯æ“ä½œç¬¦ æ“ä½œç¬¦ è§£é‡Š + åŠ å· â€“ å‡å· -expr è´Ÿå· * ä¹˜å· / é™¤å· ~/ é™¤å·ï¼Œä½†æ˜¯è¿”å›å€¼ä¸ºæ•´æ•° % å–æ¨¡ 123print(5/2);print(5~/2);print(5 % 2); ç›¸ç­‰ç›¸å…³çš„æ“ä½œç¬¦ æ“ä½œç¬¦ è§£é‡Š == ç›¸ç­‰ != ä¸ç­‰ &gt; å¤§äº &lt; å°äº &gt;= å¤§äºç­‰äº &lt;= å°äºç­‰äº ç±»å‹åˆ¤å®šæ“ä½œç¬¦ æ“ä½œç¬¦ è§£é‡Š as ç±»å‹è½¬æ¢ is å¦‚æœå¯¹è±¡æ˜¯æŒ‡å®šçš„ç±»å‹è¿”å› True is! å¦‚æœå¯¹è±¡æ˜¯æŒ‡å®šçš„ç±»å‹è¿”å› False 123456int a = 123;String b = 'ducafecat';String c = 'abc';print(a as Object);print(b is String);print(c is! String); æ¡ä»¶è¡¨è¾¾å¼ æ“ä½œç¬¦ è§£é‡Š condition ? expr1 : expr2 å¦‚æœ condition æ˜¯ trueï¼Œæ‰§è¡Œ expr1 (å¹¶è¿”å›æ‰§è¡Œçš„ç»“æœ)ï¼› å¦åˆ™æ‰§è¡Œ expr2 å¹¶è¿”å›å…¶ç»“æœã€‚ expr1 ?? expr2 å¦‚æœ expr1 æ˜¯ non-nullï¼Œè¿”å›å…¶å€¼ï¼› å¦åˆ™æ‰§è¡Œ expr2 å¹¶è¿”å›å…¶ç»“æœã€‚ 1234567bool isFinish = true;String txtVal = isFinish ? 'yes' : 'no';bool isFinish;isFinish = isFinish ?? false;orisFinish ??= false; ä½å’Œç§»ä½æ“ä½œç¬¦ æ“ä½œç¬¦ è§£é‡Š &amp; é€»è¾‘ä¸ é€»è¾‘æˆ– ^ é€»è¾‘å¼‚æˆ– ~expr å–å &lt;&lt; å·¦ç§» &gt;&gt; å³ç§» çº§è”æ“ä½œç¬¦ æ“ä½œç¬¦ è§£é‡Š .. å¯ä»¥åœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Š è¿ç»­è°ƒç”¨å¤šä¸ªå‡½æ•°ä»¥åŠè®¿é—®æˆå‘˜å˜é‡ã€‚ 123456StringBuffer sb = new StringBuffer();sb..write('hello')..write('word')..write('\\n')..writeln('doucafecat'); å…¶ä»–æ“ä½œç¬¦ æ“ä½œç¬¦ è§£é‡Š () ä½¿ç”¨æ–¹æ³• ä»£è¡¨è°ƒç”¨ä¸€ä¸ªæ–¹æ³• [] è®¿é—® List è®¿é—® list ä¸­ç‰¹å®šä½ç½®çš„å…ƒç´  . è®¿é—® Member è®¿é—®å…ƒç´ ï¼Œä¾‹å¦‚ foo.bar ä»£è¡¨è®¿é—® foo çš„ bar æˆå‘˜ ?. æ¡ä»¶æˆå‘˜è®¿é—® å’Œ . ç±»ä¼¼ï¼Œä½†æ˜¯å·¦è¾¹çš„æ“ä½œå¯¹è±¡ä¸èƒ½ä¸º nullï¼Œä¾‹å¦‚ foo?.bar å¦‚æœ foo ä¸º null åˆ™è¿”å› nullï¼Œå¦åˆ™è¿”å› bar æˆå‘˜ 12String a;print(a?.length); ä»£ç  operator.dart å‚è€ƒ operators Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 15 å‡½æ•° Function","date":"2018-11-12T01:36:04.000Z","path":"2018/11/12/dart/dart-15-function/","text":"æœ¬èŠ‚ç›®æ ‡ å‡½æ•°å®šä¹‰ å¯é€‰å‚æ•° é»˜è®¤å€¼ å‘½åå‚æ•° å†…éƒ¨å®šä¹‰ ç¯å¢ƒ Dart 2.0.0 å‡½æ•°å®šä¹‰123456int add(int x) &#123; return x + 1;&#125;è°ƒç”¨add(1); å¯é€‰å‚æ•°123456789101112int add(int x, [int y, int z]) &#123; if (y == null) &#123; y = 1; &#125; if (z == null) &#123; z = 1; &#125; return x + y + z;&#125;è°ƒç”¨int(1, 2); å¯é€‰å‚æ•° é»˜è®¤å€¼123456int add(int x, [int y = 1, int z = 2]) &#123; return x + y;&#125;è°ƒç”¨int(1, 2); å‘½åå‚æ•° é»˜è®¤å€¼123456int add(&#123;int x = 1, int y = 1, int z = 1&#125;) &#123; return x + y + z;&#125;è°ƒç”¨int(x: 1, y: 2); å‡½æ•°å†…å®šä¹‰123456void main()&#123; int add(int x)&#123; return x + x; &#125; print(add(1));&#125; Funcation è¿”å›å‡½æ•°å¯¹è±¡1234567Function makeAdd(int x) &#123; return (int y) =&gt; x + y;&#125;è°ƒç”¨var add = makeAdd(1);print(add(5)); ä»£ç  function.dart å‚è€ƒ Functions Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 14 symbolã€enumã€comments","date":"2018-10-27T03:05:15.000Z","path":"2018/10/27/dart/dart-14-symbol-enum-comments/","text":"æœ¬èŠ‚ç›®æ ‡ symbol enum comments ç¯å¢ƒ Dart 2.0.0 ç¬¦å· SymbolDartè¯­è¨€çš„æ ‡è¯†ç¬¦ï¼Œåœ¨åå°„ä¸­ç”¨çš„å¾ˆæ™®åŠï¼Œç‰¹åˆ«æ˜¯å¾ˆå¤šå‘å¸ƒåŒ…éƒ½æ˜¯æ··æ·†åçš„ã€‚ 123456import 'dart:mirrors';Symbol libraryName = new Symbol('dart.core');MirrorSystem mirrorSystem = currentMirrorSystem();LibraryMirror libMirror = mirrorSystem.findLibrary(libraryName);libMirror.declarations.forEach((s, d) =&gt; print('$s - $d')); æšä¸¾ Enumé€‚åˆç”¨åœ¨å¸¸é‡å®šä¹‰ï¼Œç±»å‹æ¯”è¾ƒå¾ˆæ–¹ä¾¿ã€‚ 123enum Status &#123; none, running, stopped, paused &#125;Status.values.forEach((it) =&gt; print('$it - index: $&#123;it.index&#125;')); æ³¨é‡Š Commentså•è¡Œæ³¨é‡Š1// Symbol libraryName = new Symbol('dart.core'); å¤šè¡Œæ³¨é‡Š12345678/* * Symbol * Symbol libraryName = new Symbol('dart.core');MirrorSystem mirrorSystem = currentMirrorSystem();LibraryMirror libMirror = mirrorSystem.findLibrary(libraryName);libMirror.declarations.forEach((s, d) =&gt; print('$s - $d')); */ æ–‡æ¡£æ³¨é‡Š12345678/// `main` å‡½æ•°////// ç¬¦å·/// æšä¸¾///void main() &#123; ...&#125; å¯å‚è€ƒ String ç±»ä¸­çš„æ³¨é‡Šä½¿ç”¨ ä»£ç  symbol-enum-comments.dart å‚è€ƒ language-tour Symbol Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 13 Runes","date":"2018-10-27T00:51:21.000Z","path":"2018/10/27/dart/dart-13-runes/","text":"æœ¬èŠ‚ç›®æ ‡ Runes åŸºç¡€çŸ¥è¯† å­—ç¬¦ç¼–ç  ASCIIã€Unicodeã€UTF-8ã€UTF-16ã€UTF-32 ç¯å¢ƒ Dart 2.0.0 RunesRunes å¯¹è±¡æ˜¯ä¸€ä¸ª 32ä½ å­—ç¬¦å¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå­—ã€‚è¿™æ ·è®¾è®¡ä¹Ÿæ˜¯è€ƒè™‘å…¼å®¹ UTF-16 å››ä¸ªå­—èŠ‚çš„æƒ…å†µã€‚ length å’Œ runes.length æ¯”è¾ƒ1234567String a = 'ğŸ‘º';print(a.length);print(a.runes.length);&gt;&gt; è¾“å‡º2 // æ ‡è¯†å  2 ä¸ª 16 ä½å­—ç¬¦1 // è¡¨ç¤ºå  1 ä¸ª 32 ä½å­—ç¬¦ runes æ˜¯ä¸€ä¸ª 32 ä½å­—ç¬¦å¯¹è±¡ æ“ä½œ 32-bit Unicode å­—ç¬¦123456Runes b = new Runes('\\u&#123;1f596&#125; \\u6211');var c = String.fromCharCodes(b);æˆ–è€…String c = '\\u&#123;1f596&#125; \\u6211' å¦‚æœé4ä¸ªæ•°å€¼ï¼Œéœ€è¦ç”¨ {â€¦} è¿”å› 16-bit code units çš„ codeUnitAt codeUnits1234567var a = 'ğŸ‘º';print(a.codeUnitAt(0));print(a.codeUnits);&gt;&gt; è¾“å‡º55357 // ç¬¬ 1 ä½çš„ 10 è¿›åˆ¶æ•°å€¼[55357, 56442] // æ˜¾ç¤º 2 ä½çš„ 10 è¿›åˆ¶æ•°å€¼ è¿”å› 32-bit Unicode çš„ runes123456var a = 'ğŸ‘º';print(a.runes);&gt;&gt; è¾“å‡º(128122) // æ˜¾ç¤º 32 ä½çš„ 10 è¿›åˆ¶æ•°å€¼ String æ“ä½œæ•´ç† åç§° è¯´æ˜ codeUnitAt æŸä¸ªå­—ç¬¦çš„ç  10è¿›åˆ¶ fromCharCodes Runes è½¬ String å·¥å‚å‡½æ•° runes è¿”å›å­—å¯¹è±¡ åŸºç¡€çŸ¥è¯†å­—ç¬¦é›†ASCII ASCII é ASCII ä¸­çš„ GB2312ã€GBK æ±‰å­—å†…ç æ‰©å±•è§„èŒƒ Unicodeã€UTF-8ã€UTF-16ã€UTF-32 UTF-8 UTF-16 UTF-32 ä»£ç  runes.dart å‚è€ƒ language-tour Runes ASCII Unicode UTF-8 UTF-16 UTF-32 åœ¨çº¿å­—ç¬¦ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 12 Set","date":"2018-10-25T06:47:10.000Z","path":"2018/10/25/dart/dart-12-set/","text":"æœ¬èŠ‚ç›®æ ‡ åˆå§‹ã€å£°æ˜ å¸¸ç”¨å±æ€§ å¸¸ç”¨æ–¹æ³• ç¯å¢ƒ Dart 2.0.0 å£°æ˜Set æ˜¯ä¸€ä¸ªå…ƒç´ å”¯ä¸€çš„æœ‰åºé˜Ÿåˆ— æ¾æ•£12345678// var a = new Set();// a.add('java');// a.add('php');// a.add('python');// a.add('java');// a.add('sql');// a.add('swift');// a.add('dart'); å¼ºç±»å‹12// var b = new Set&lt;String&gt;();// b.addAll(['dart', 'c#', 'j#', 'e#']); åŸºæœ¬å±æ€§ åç§° è¯´æ˜ isEmpty æ˜¯å¦ä¸ºç©º isNotEmpty æ˜¯å¦ä¸ä¸ºç©º first ç¬¬ä¸€ä¸ª last æœ€åä¸€ä¸ª length ä¸ªæ•° å¸¸ç”¨æ–¹æ³• åç§° è¯´æ˜ addAll æ·»åŠ  contains æŸ¥è¯¢å•ä¸ª containsAll æŸ¥è¯¢å¤šä¸ª difference é›†åˆä¸åŒ intersection äº¤é›† union è”åˆ lookup æŒ‰å¯¹è±¡æŸ¥è¯¢åˆ°è¿”å›å¯¹è±¡ remove åˆ é™¤å•ä¸ª removeAll åˆ é™¤å¤šä¸ª clear æ¸…ç©º firstWhere æŒ‰æ¡ä»¶æ­£å‘æŸ¥è¯¢ lastWhere æŒ‰æ¡ä»¶åå‘æŸ¥è¯¢ removeWhere æŒ‰æ¡ä»¶åˆ é™¤ retainAll åªä¿ç•™å‡ ä¸ª retainWhere æŒ‰æ¡ä»¶åªä¿ç•™å‡ ä¸ª 1234567891011121314151617181920// b.addAll(['dart', 'c#', 'j#', 'e#']);// print(b.contains('dart'));// print(b.containsAll(['dart', 'swift']));// print('b =&gt; $b');// print(a.difference(b));// print(a.intersection(b));// print(b.lookup('dart'));// print(b.union(a));// b.remove('dart');// b.removeAll(['dart','c#']);// b.clear();// print(b.firstWhere((it) =&gt; it == 'c#'));// print(b.lastWhere((it) =&gt; it == 'c#'));// b.removeWhere((it) =&gt; it == 'c#');// b.retainAll(['e#']);// b.retainWhere((it) =&gt; it == 'e#');// b.retainWhere((it) &#123;// bool ret = it == 'e#';// return ret;// &#125;); ä»£ç  set.dart å‚è€ƒ language-tour Set Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 11 Map","date":"2018-10-23T07:36:12.000Z","path":"2018/10/23/dart/dart-11-map/","text":"æœ¬èŠ‚ç›®æ ‡ åˆå§‹ã€å£°æ˜ å¸¸ç”¨å±æ€§ å¸¸ç”¨æ–¹æ³• ç¯å¢ƒ Dart 2.0.0 åˆå§‹key value å½¢å¼çš„é›†åˆ 1var a = &#123;'name': 'ducafecat', 'web': 'www.ducafecat.tech'&#125;; å£°æ˜æ¾æ•£1234var a = new Map();a['name'] = 'ducafecat';a['web'] = 'www.ducafecat.tech';a[0] = 'abc'; å¼ºç±»å‹123var b = new Map&lt;int, String&gt;();b[0] = 'java';b[1] = 'python'; åŸºæœ¬å±æ€§ åç§° è¯´æ˜ isEmpty æ˜¯å¦ä¸ºç©º isNotEmpty æ˜¯å¦ä¸ä¸ºç©º keys key é›†åˆ values values é›†åˆ length ä¸ªæ•° entries åŠ å·¥æ•°æ®å…¥å£ 123456print(a.isEmpty);print(a.isNotEmpty);print(a.keys);print(a.values);print(a.length);print(a.entries); å¸¸ç”¨æ–¹æ³• åç§° è¯´æ˜ addAll æ·»åŠ  addEntries ä»å…¥å£æ·»åŠ  containsKey æŒ‰ key æŸ¥è¯¢ containsValue æŒ‰ value æŸ¥è¯¢ clear æ¸…ç©º remove åˆ é™¤æŸä¸ª removeWhere æŒ‰æ¡ä»¶åˆ é™¤ update æ›´æ–°æŸä¸ª updateAll æŒ‰æ¡ä»¶æ›´æ–° addAll1b.addAll(&#123;'first': 'java', 'second': 'python'&#125;); addEntries1b.addEntries(a.entries); containsKey1print(a.containsKey('name')); containsValue1print(a.containsValue('www.ducafecat.tech')); clear1b.clear(); remove1a.remove('name'); removeWhere1a.removeWhere((key,val) =&gt; key == 'name'); update1a.update('name', (val) =&gt; 'abc'); updateAll1a.updateAll((key, val) =&gt; \"---$val---\"); æ“ä½œç¬¦ åç§° è¯´æ˜ [] å–å€¼ []= èµ‹å€¼ 12print(a['name']);a['name'] = 'abc'; ä»£ç  map.dart å‚è€ƒ language-tour Map Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 10 åˆ—è¡¨","date":"2018-10-19T02:49:35.000Z","path":"2018/10/19/dart/dart-10-list/","text":"æœ¬èŠ‚ç›®æ ‡ åˆå§‹ã€å£°æ˜ å¸¸ç”¨å±æ€§ å¸¸ç”¨æ–¹æ³• ç¯å¢ƒ Dart 2.0.0 åˆå§‹List æ˜¯ä¸€ä¸ªæœ‰åºåˆ—è¡¨ 12var l = [1, 2, 3];print(l); å£°æ˜è‡ªåŠ¨123456List&lt;int&gt; l = new List();l..add(1)..add(2)..add(3);print(l); å®šé•¿123456List&lt;int&gt; l = new List(3);// print(l[0]);l[0] = 1;l[1] = 2;l[2] = 3;print(l); å±æ€§ åç§° è¯´æ˜ isEmpty æ˜¯å¦ä¸ºç©º isNotEmpty æ˜¯å¦ä¸ä¸ºç©º first ç¬¬ä¸€ä¸ªå¯¹è±¡ last æœ€åä¸€ä¸ªå¯¹è±¡ length ä¸ªæ•° reversed åè½¬ 1234567var l = [1, 2, 3];print(l.first);print(l.last);print(l.length);print(l.isEmpty);print(l.isNotEmpty);print(l.reversed); æ–¹æ³• åç§° è¯´æ˜ add æ·»åŠ  addAll æ·»åŠ å¤šä¸ª insert æ’å…¥ insertAll æ’å…¥å¤šä¸ª indexOf æŸ¥è¯¢ indexWhere æŒ‰æ¡ä»¶æŸ¥è¯¢ remove åˆ é™¤ removeAt æŒ‰ä½ç½®åˆ é™¤ fillRange æŒ‰åŒºé—´å¡«å…… getRange æŒ‰åŒºé—´è·å– shuffle éšæœºå˜æ¢é¡ºåº sort æ’åº sublist åˆ›å»ºå­ æ·»åŠ 12345678List&lt;int&gt; l = new List();l ..add(1) ..addAll([2, 3, 4, 5]) ..insert(0, 6) ..insertAll(6, [6, 6]) ; æŸ¥è¯¢12print(l.indexOf(5));print(l.indexWhere((it) =&gt; it == 4)); åˆ é™¤1234l.remove(6);print(l);l.removeAt(5);print(l); Range12l.fillRange(0, 3, 9);print(l.getRange(0, 5)); æ´—ç‰Œ1234l.shuffle();print(l);l.shuffle();print(l); æ’åº12345678910111213æ•°å­—l.sort();print(l);æ—¥æœŸList&lt;DateTime&gt; dtList = new List();dtList.addAll([ DateTime.now(), DateTime.now().add(new Duration(days: -12)), DateTime.now().add(new Duration(days: -2)) ]);print(dtList);dtList.sort((a, b) =&gt; a.compareTo(b));print(dtList); å¤åˆ¶å­åˆ—è¡¨123print(l);var l2 = l.sublist(1,4);print(l2); æ“ä½œç¬¦ åç§° è¯´æ˜ + è¿æ¥ [] å–å€¼ []= èµ‹å€¼ 12345var l1 = [1, 2, 3];var l2 = [4, 5, 6];print(l1 + l2);l1[2] = 9;print(l1[2]); ä»£ç  list.dart å‚è€ƒ language-tour List Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 09 æ—¥æœŸæ—¶é—´","date":"2018-10-18T07:02:05.000Z","path":"2018/10/18/dart/dart-09-datetime/","text":"æœ¬èŠ‚ç›®æ ‡ å£°æ˜ UTC æ—¶é—´ å…¬å…ƒæ—¶é—´ æ—¶é—´æˆ³ è§£ææ ‡å‡†æ—¶é—´ æ—¶é—´è¿ç®— ç¯å¢ƒ Dart 2.0.0 å£°æ˜1234var now = new DateTime.now();print(now);var d = new DateTime(2018, 10, 10, 9, 30);print(d); åˆ›å»ºæ—¶é—´ UTC UTC åè°ƒä¸–ç•Œæ—¶ åŸå­æ—¶ åŸå­é’Ÿ 12var d = new DateTime.utc(2018, 10, 10, 9, 30);print(d); è§£ææ—¶é—´ IOS 8601 ISO 8601 æ—¶åŒº æ—¶åŒºåˆ—è¡¨ 1234var d1 = DateTime.parse('2018-10-10 09:30:30Z');print(d1);var d2 = DateTime.parse('2018-10-10 09:30:30+0800');print(d2); æ—¶é—´å¢å‡é‡1234var d1 = DateTime.now();print(d1);print(d1.add(new Duration(minutes: 5)));print(d1.add(new Duration(minutes: -5))); æ¯”è¾ƒæ—¶é—´1234567var d1 = new DateTime(2018, 10, 1);var d2 = new DateTime(2018, 10, 10);print(d1.isAfter(d2));print(d1.isBefore(d2));var d1 = DateTime.now();var d2 = d1.add(new Duration(milliseconds: 30));print(d1.isAtSameMomentAs(d2)); æ—¶é—´å·®1234var d1 = new DateTime(2018, 10, 1);var d2 = new DateTime(2018, 10, 10);var difference = d1.difference(d2);print([difference.inDays, difference.inHours]); æ—¶é—´æˆ³ å…¬å…ƒ 123var now = new DateTime.now();print(now.millisecondsSinceEpoch);print(now.microsecondsSinceEpoch); ä»£ç  datetime.dart å‚è€ƒ language-tour DateTime UTC åè°ƒä¸–ç•Œæ—¶ åŸå­æ—¶ åŸå­é’Ÿ ISO 8601 æ—¶åŒº æ—¶åŒºåˆ—è¡¨ å…¬å…ƒ Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 08 å­—ç¬¦ä¸²","date":"2018-10-18T05:48:22.000Z","path":"2018/10/18/dart/dart-08-string/","text":"æœ¬èŠ‚ç›®æ ‡ å£°æ˜æ–¹å¼ å­—ç¬¦ä¸²æ¨¡æ¿ å­—ç¬¦ä¸²è¿æ¥ è½¬ä¹‰æ“ä½œ å…¶å®ƒå¸¸ç”¨è¿ç®— ç¯å¢ƒ Dart 2.0.0 å•å¼•å·æˆ–è€…åŒå¼•å·12String a = 'ducafecat';String b = \"ducafecat\"; å­—ç¬¦ä¸²æ¨¡æ¿123var a = 123;String b = 'ducafecat : $&#123;a&#125;';print(b); å­—ç¬¦ä¸²è¿æ¥123456789101112131415var a = 'hello' + ' ' + 'ducafecat';var a = 'hello'' ''ducafecat';var a = 'hello' ' ' 'ducafecat';var a = 'hello'' ''ducafecat';var a = '''hello wordthis is multi line''';var a = \"\"\"hello wordthis is multi line\"\"\";print(a); è½¬ä¹‰ç¬¦å·12var a = 'hello word \\n this is multi line';print(a); å–æ¶ˆè½¬ä¹‰12var a = r'hello word \\n this is multi line';print(a); æœç´¢12345var a = 'web site ducafecat.tech';print(a.contains('ducafecat'));print(a.startsWith('web'));print(a.endsWith('tech'));print(a.indexOf('site')); æå–æ•°æ®1234print(a.substring(0,5));var b = a.split(' ');print(b.length);print(b[0]); å¤§å°å†™è½¬æ¢12print(a.toLowerCase());print(a.toUpperCase()); è£å‰ª åˆ¤æ–­ç©ºå­—ç¬¦ä¸²12print(' hello word '.trim());print(''.isEmpty); æ›¿æ¢éƒ¨åˆ†å­—ç¬¦1print('hello word word!'.replaceAll('word', 'ducafecat')); å­—ç¬¦ä¸²åˆ›å»º123456var sb = StringBuffer();sb..write('hello word!')..write('my')..write(' ')..writeAll(['web', 'site', 'https://ducafecat.tech']);print(sb.toString()); ä»£ç  string.dart å‚è€ƒ language-tour String Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 07 å¸ƒå°”","date":"2018-10-17T09:37:31.000Z","path":"2018/10/17/dart/dart-07-bool/","text":"æœ¬èŠ‚ç›®æ ‡ å¸ƒå°” å£°æ˜ã€æ¯”è¾ƒã€é»˜è®¤å€¼ æ–­è¨€ã€assetã€isEmptyã€isNaN é€»è¾‘æ“ä½œç¬¦ &amp;&amp;ã€||ã€! å…³ç³»è¿ç®—ç¬¦ == != &gt; &gt;= &lt; &lt;= ç¯å¢ƒ Dart 2.0.0 å£°æ˜ä¸ºäº†ä»£è¡¨å¸ƒå°”å€¼ï¼ŒDart æœ‰ä¸€ä¸ªåå­—ä¸º bool çš„ç±»å‹ã€‚ åªæœ‰ä¸¤ä¸ªå¯¹è±¡æ˜¯å¸ƒå°”ç±»å‹çš„ï¼štrue å’Œ false æ‰€åˆ›å»ºçš„å¯¹è±¡ï¼Œ è¿™ä¸¤ä¸ªå¯¹è±¡ä¹Ÿéƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚ bool 12bool a;print(a); åªæœ‰ true å¯¹è±¡æ‰è¢«è®¤ä¸ºæ˜¯ trueã€‚ æ‰€æœ‰å…¶ä»–çš„å€¼éƒ½æ˜¯ flaseã€‚ 1234String name = 'ducafecat';if(name) &#123; print('this is name');&#125; assert æ–­è¨€123456789var a = true;assert(a);var name = '';assert(name.isEmpty);assert(name.isNotEmpty);var num = 0 / 0;assert(num.isNaN); æ³¨æ„ï¼š æ–­è¨€åªåœ¨æ£€æŸ¥æ¨¡å¼ä¸‹è¿è¡Œæœ‰æ•ˆï¼Œå¦‚æœåœ¨ç”Ÿäº§æ¨¡å¼ è¿è¡Œï¼Œåˆ™æ–­è¨€ä¸ä¼šæ‰§è¡Œã€‚ é€»è¾‘è¿ç®—ç¬¦&amp;&amp; é€»è¾‘ä¸123bool a = true;bool b = true;assert(a &amp;&amp; b); || é€»è¾‘æˆ–123bool a = true;bool b = false;assert(a || b); ! é€»è¾‘é123bool a = true;bool b = !a;print(b); å…³ç³»è¿ç®—ç¬¦== ç­‰äº1if(a == b) &#123;&#125; != ä¸ç­‰äº1if(a != b) &#123;&#125; &gt; å¤§äº1if(a &gt; b) &#123;&#125; &gt;= å¤§äºæˆ–ç­‰äº1if(a &gt;= b) &#123;&#125; &lt; å°äº1if(a &lt; b) &#123;&#125; &lt;= å°äºæˆ–ç­‰äº1if(a &lt;= b) &#123;&#125; ä»£ç  bool.dart å‚è€ƒ language-tour bool Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 06 æ•°å€¼","date":"2018-10-16T09:08:33.000Z","path":"2018/10/16/dart/dart-06-number/","text":"æœ¬èŠ‚ç›®æ ‡ æ•°å€¼ç±»å‹ intã€doubleã€num æ•°å€¼è¡¨ç¤ºæ³• åè¿›åˆ¶ã€åå…­è¿›åˆ¶ ç§‘å­¦è®¡æ•°æ³• æ•°å€¼è½¬æ¢ ä½è¿ç®— ç¯å¢ƒ Dart 2.0.0 æ•°å€¼æ•°å€¼ç±»å‹intæ•´æ•°å€¼ï¼Œå…¶å–å€¼é€šå¸¸ä½äº -253 å’Œ 253 ä¹‹é—´ã€‚ int class double64-bit (åŒç²¾åº¦) æµ®ç‚¹æ•°ï¼Œç¬¦åˆ IEEE 754 æ ‡å‡†ã€‚ double class numint å’Œ double éƒ½æ˜¯ num çš„å­ç±»ã€‚ num class æ•°å€¼è¡¨ç¤ºæ³• åè¿›åˆ¶ã€åå…­è¿›åˆ¶123int a = 1001;int b = 0xABC;print([a, b]); ç§‘å­¦è®¡æ•°æ³•12num a = 21.2e3;print([a]); æ•°å€¼è½¬æ¢123456789101112131415// string -&gt; int// string -&gt; doubleint a = int.parse('123');double b = double.parse('1.223');// int -&gt; string// double -&gt; stringString a = 123.toString();String b = 1.223.toString();print([a, b]);// double -&gt; intdouble a = 1.8;int b = a.toInt();print(b); ä½è¿ç®—&amp; ä¸è¿ç®—åŒæ—¶ 1 æ‰è¡Œ 12341 0 1 0 100 0 1 0 2--------0 0 1 0 2 123var a = 10;var b = 2;print(a &amp; b); | æˆ–è¿ç®—æœ‰ä¸€ä¸ª 1 å°±è¡Œ 12341 0 1 0 100 0 1 0 2--------1 0 1 0 10 123var a = 10;var b = 2;print(a | b); å¯ä»¥ç”¨åœ¨å¸¸é‡ç»„åˆ 123456const USE_LEFT = 0x1;const USE_TOP = 0x2;const USE_LEFT_TOP = USE_LEFT | USE_TOP;var result = USE_LEFT | USE_TOP;print(result);assert(USE_LEFT_TOP == result); ~ éè¿ç®—äºŒè¿›åˆ¶æ•°é€ä½è¿›è¡Œé€»è¾‘éè¿ç®— 1234560 1 0 0 1 +9 äºŒè¿›åˆ¶ æœ€é«˜ä½ 0 æ•´æ•° 1 è´Ÿæ•°0 0 1 1 0 è¡¥ç 1 1 0 0 1 å–å1 1 0 1 0 åŠ 1--------1 1 0 1 0 -10 12var a = 9;print(~a); ^ å¼‚æˆ–ä¸ç›¸åŒçš„æ‰å‡º 1 12341 0 1 0 100 0 1 0 2--------1 0 0 0 8 123var a = 10;var b = 2;print(a ^ b); è®¡ç®—æœºä¸­å¯ä»¥ç”¨æ¥å–åè‰² ç§»ä½è¿ç®—ç¬¦&lt;&lt; å·¦ç§»12340 0 0 1 1 äºŒè¿›åˆ¶0 0 1 0 å·¦ç§»ä¸€ä½ 20 1 0 0 å·¦ç§»ä¸€ä½ 41 0 0 0 å·¦ç§»ä¸€ä½ 8 å‘å·¦ç§»åŠ¨ä¸€ä½ 12var a = 1 &lt;&lt; 1;print(a); &gt;&gt; å³ç§»12341 0 0 0 8 äºŒè¿›åˆ¶0 1 0 0 å³ç§»ä¸€ä½ 40 0 1 0 å³ç§»ä¸€ä½ 20 0 0 1 å³ç§»ä¸€ä½ 1 å‘å³ç§»åŠ¨ä¸€ä½ 12var a = 8 &gt;&gt; 1;print(a); ä»£ç  number.dart å‚è€ƒ language-tour int class double class num class Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 05 å¸¸é‡","date":"2018-10-10T06:49:26.000Z","path":"2018/10/10/dart/dart-05-constant/","text":"æœ¬èŠ‚ç›®æ ‡ å¸¸é‡çš„å®šä¹‰æ–¹å¼ final const çš„åŒºåˆ« ç¯å¢ƒ Dart 2.0.0 å®šä¹‰ç±»å‹å£°æ˜å¯ä»¥çœç•¥12345final String a = 'ducafecat';final a = 'ducafecat';const String a = 'ducafecat';const a = 'ducafecat'; åˆå§‹åä¸èƒ½å†èµ‹å€¼12345final a = 'ducafecat';a = 'abc';const a = 'ducafecat';a = 'abc'; ä¸èƒ½å’Œ var åŒæ—¶ä½¿ç”¨12final var a = 'ducafecat';const var a = 'ducafecat'; const èµ‹å€¼ ç”³æ˜å¯çœç•¥12const List ls = const [11, 22, 33];const List ls = [11, 22, 33]; åŒºåˆ«éœ€è¦ç¡®å®šçš„å€¼123final dt = DateTime.now();const dt = const DateTime.now(); ä¸å¯å˜æ€§å¯ä¼ é€’12345final List ls = [11, 22, 33];ls[1] = 44;const List ls = [11, 22, 33];ls[1] = 44; å†…å­˜ä¸­é‡å¤åˆ›å»º1234567final a1 = [11 , 22];final a2 = [11 , 22];print(identical(a1, a2));const a1 = [11 , 22];const a2 = [11 , 22];print(identical(a1, a2)); ä»£ç  constant.dart å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 04 å˜é‡çš„ä¸¤ç§ç±»å‹","date":"2018-10-10T02:18:25.000Z","path":"2018/10/10/dart/dart-04-variables/","text":"æœ¬èŠ‚ç›®æ ‡ äº†è§£ å¼±ç±»å‹ å¼ºç±»å‹ å¸¸è§ å¼ºç±»å‹ æœ‰å“ªäº› å¦‚ä½•é€‰ç€ä½•æ—¶ç”¨é‚£ç§ç±»å‹ ç¯å¢ƒ Dart 2.0.0 å¼±ç±»å‹varå¦‚æœæ²¡æœ‰åˆå§‹å€¼ï¼Œå¯ä»¥å˜æˆä»»ä½•ç±»å‹ 123456var a;a = 'ducafecat';a = 123;a = true;a = &#123;'key': 'val123'&#125;;a = ['abc']; ObjectåŠ¨æ€ä»»æ„ç±»å‹ï¼Œç¼–è¯‘é˜¶æ®µæ£€æŸ¥ç±»å‹ 1234Object a = 'doucafecat';a = 123;a = [2222];a.p(); dynamicåŠ¨æ€ä»»æ„ç±»å‹ï¼Œç¼–è¯‘é˜¶æ®µä¸æ£€æŸ¥æ£€æŸ¥ç±»å‹ 1234dynamic a = 'doucafecat';a = 123;a = [1111];a.p(); æ¯”è¾ƒ var ä¸ dynamicã€Objectå”¯ä¸€åŒºåˆ« var å¦‚æœæœ‰åˆå§‹å€¼ï¼Œç±»å‹è¢«é”å®š 1234var a = 'ducafecat';dynamic a = 'doucafecat';Object a = 'doucafecat';a = 123; å¼ºç±»å‹ç”³æ˜ç±»å‹å£°æ˜åï¼Œç±»å‹è¢«é”å®š 123String a;a = 'ducafecat';a = 123; å¸¸è§ç±»å‹ åç§° è¯´æ˜ num æ•°å­— int æ•´å‹ double æµ®ç‚¹ bool å¸ƒå°” String å­—ç¬¦ä¸² StringBuffer å­—ç¬¦ä¸² buffer DateTime æ—¶é—´æ—¥æœŸ Duration æ—¶é—´åŒºé—´ List åˆ—è¡¨ Sets æ— é‡å¤é˜Ÿåˆ— Maps kv å®¹å™¨ enum æšä¸¾ 123456String a = 'doucafecat';int i = 123;double d = 0.12;bool b = true;DateTime dt = new DateTime.now();List l = [ a, i, d, b, dt]; é»˜è®¤å€¼ä¸€åˆ‡éƒ½æ˜¯ Object , å˜é‡å£°æ˜åé»˜è®¤éƒ½æ˜¯ null 1234var a;String a;print(a);assert(a == null); assert æ£€æŸ¥ç‚¹å‡½æ•°ï¼Œå¦‚æœä¸ç¬¦åˆæ¡ä»¶ç›´æ¥æŠ›å‡ºé”™è¯¯å¹¶ç»ˆæ­¢ç¨‹åºè¿›ç¨‹ å¦‚ä½•ä½¿ç”¨ åœ¨å†™ API æ¥å£çš„æ—¶å€™ï¼Œè¯·ç”¨ å¼ºç±»å‹ï¼Œä¸€æ—¦ä¸ç¬¦åˆçº¦å®šï¼Œæ¥æ”¶æ•°æ®æ—¶èƒ½æ–¹ä¾¿æ’æŸ¥æ•…éšœ ä½ åœ¨å†™ä¸ªå°å·¥å…·æ—¶ï¼Œå¯ä»¥ç”¨ å¼±ç±»å‹ï¼Œè¿™æ ·ä»£ç å†™èµ·æ¥å¾ˆå¿«ï¼Œç±»å‹è‡ªåŠ¨é€‚åº” ä»£ç  variables.dart å‚è€ƒ language-tour Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 03 MacOS ä¸‹å®‰è£… SDK","date":"2018-09-30T07:41:49.000Z","path":"2018/09/30/dart/dart-03-install-macos/","text":"æœ¬èŠ‚ç›®æ ‡ é…ç½® Dart å¼€å‘ç¯å¢ƒ è§£å†³å¢™å†…é—®é¢˜ ç¯å¢ƒ MacOS Dart SDK 2.0.0 ä¸‹è½½ SDKSDK åˆ—è¡¨ archive ä¸‹è½½ URL1https://storage.googleapis.com/dart-archive/channels/stable/release/2.0.0/sdk/dartsdk-macos-x64-release.zip å¢™å†…è¯·æ›¿æ¢åŸŸå storage.flutter-io.cn æ›¿æ¢å URL1https://storage.flutter-io.cn/dart-archive/channels/stable/release/2.0.0/sdk/dartsdk-macos-x64-release.zip è§£å‹åˆ°ç£ç›˜ ç£ç›˜ä½ç½® ~/Documents/sdk/dart-sdk é…ç½® VSCode IDEä¸‹è½½é“¾æ¥å®‰è£… Dart æ’ä»¶ç¼–å†™ HelloWord æ–°å»ºç›®å½• dart-learn ç¼–å†™æ–‡ä»¶ hello.dart 123void main() &#123; print('hello word!');&#125; è°ƒè¯•è¿è¡Œé…ç½®æ–‡ä»¶ launch.json 1234567891011121314&#123; // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 \"version\": \"0.2.0\", \"configurations\": [ &#123; \"name\": \"Dart\", \"program\": \"$&#123;file&#125;\", \"request\": \"launch\", \"type\": \"dart\" &#125; ]&#125; é…ç½®å‘½ä»¤è¡Œæ¨¡å¼è®¾ç½®ç¯å¢ƒå˜é‡12345678# æ‰“å¼€é…ç½®æ–‡ä»¶vim ~/.bash_profile# å°¾éƒ¨åŠ å…¥é…ç½®export PATH=~/Documents/sdk/dart-sdk/bin:$PATH# é‡è½½é…ç½®æ–‡ä»¶source ~/.bash_profile æµ‹è¯• æ–°å¼€å‘½ä»¤è¡Œçª—å£ 12dart --versionDart VM version: 2.0.0 (Fri Aug 3 10:53:23 2018 +0200) on \"macos_x64\" å‚è€ƒ Dart SDK Archive Using-Flutter-in-China Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 02 Windows ä¸‹å®‰è£… SDK","date":"2018-09-30T06:41:49.000Z","path":"2018/09/30/dart/dart-02-install-windows/","text":"æœ¬èŠ‚ç›®æ ‡ é…ç½® Dart å¼€å‘ç¯å¢ƒ è§£å†³å¢™å†…é—®é¢˜ ç¯å¢ƒ Windows 10 Dart SDK 2.0.0 ä¸‹è½½ SDKSDK åˆ—è¡¨ archive æºä¸‹è½½ URL1https://storage.googleapis.com/dart-archive/channels/stable/release/2.0.0/sdk/dartsdk-windows-x64-release.zip å¢™å†…è¯·æ›¿æ¢åŸŸå storage.flutter-io.cn æ›¿æ¢å URL1https://storage.flutter-io.cn/dart-archive/channels/stable/release/2.0.0/sdk/dartsdk-windows-x64-release.zip è§£å‹åˆ°ç£ç›˜ ç£ç›˜ä½ç½® C:\\sdk\\dart-sdk é…ç½® VSCode IDEä¸‹è½½é“¾æ¥å®‰è£… Dart æ’ä»¶ç¼–å†™ HelloWord æ–°å»ºç›®å½• dart-learn ç¼–å†™æ–‡ä»¶ hello.dart 123void main() &#123; print('hello word!');&#125; è°ƒè¯•è¿è¡Œé…ç½®æ–‡ä»¶ launch.json 1234567891011121314&#123; // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 \"version\": \"0.2.0\", \"configurations\": [ &#123; \"name\": \"Dart\", \"program\": \"$&#123;file&#125;\", \"request\": \"launch\", \"type\": \"dart\" &#125; ]&#125; é…ç½®å‘½ä»¤è¡Œæ¨¡å¼è®¾ç½®ç¯å¢ƒå˜é‡ ç¯å¢ƒå˜é‡ PATH æ–°å¢ C:\\sdk\\dart-sdk\\bin æµ‹è¯• æ–°å¼€å‘½ä»¤è¡Œçª—å£ 12dart --versionDart VM version: 2.0.0 (Fri Aug 3 10:53:23 2018 +0200) on \"windows_x64\" å‚è€ƒ Dart SDK Archive Using-Flutter-in-China Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]},{"title":"Dartè¯­è¨€å­¦ä¹  - 01 å‰è¨€","date":"2018-09-30T02:00:48.000Z","path":"2018/09/30/dart/dart-01-introduce/","text":"æœ¬èŠ‚ç›®æ ‡ ä¸ºä»€ä¹ˆå­¦ä¹  Dart è¯¾ç¨‹è®¡åˆ’ å¦‚æœè·å–è¯¾ç¨‹èµ„æ–™ã€ä»£ç ã€è§†é¢‘ 2018 Google å¼€å‘è€…å¤§ä¼šå¤§ä¼šå®˜ç½‘ é¦–é¡µç®€ä»‹ bilibili è§†é¢‘ ä»‹ç»è§†é¢‘ Flutterå®˜ç½‘ Flutter Dartå®˜ç½‘ homepage å¤šå¹³å°å¼€å‘ Platforms è¯¾ç¨‹è®¡åˆ’12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879## å‰è¨€## å®‰è£…&amp;é…ç½® - Windows## å®‰è£…&amp;é…ç½® - MacOS## å˜é‡ - ä¸¤ç§æ–¹å¼## å˜é‡ - å¸¸é‡## ç±»å‹ - æ•°å­—## ç±»å‹ - Bool## ç±»å‹ - å­—ç¬¦ä¸²## ç±»å‹ - æ—¥æœŸ## ç±»å‹ - List## ç±»å‹ - Map## ç±»å‹ - Set## ç±»å‹ - Runes## ç±»å‹ - Symbol## ç±»å‹ - Enum## æ³¨é‡Š - Comments## å‡½æ•°## æ“ä½œç¬¦## æµç¨‹æ§åˆ¶## å¼‚å¸¸## ç±» - Class## ç±» - getterã€setter## ç±» - é™æ€å˜é‡ã€æ–¹æ³•## ç±» - Abstract æŠ½è±¡ç±»ã€æ–¹æ³•## ç±» - Interface æ¥å£## ç±» - extends ç»§æ‰¿## ç±» - mixin æ··åˆ## ç±» - å·¥å‚æ„é€ å‡½æ•°## ç±»åº“ - Libraries## æ³›å‹ - Generics## å¼‚æ­¥ - Asynchrony## ç”Ÿæˆå™¨ - Generators## å¯è°ƒç”¨ - Callable## éš”ç¦» - Isolate## ç±»å‹å®šä¹‰ - Typedef## æ³¨è§£ - Metadata## ä»£ç è§„èŒƒ - ä»£ç é£æ ¼## ä»£ç è§„èŒƒ - æ–‡æ¡£æ³¨é‡Š## ä»£ç è§„èŒƒ - æœ€ä½³å®è·µ## ä»£ç è§„èŒƒ - è®¾è®¡æŒ‡å— è¯¾ç¨‹èµ„æ–™ä¸»ç«™ https://ducafecat.techèµ„æ–™ è§†é¢‘ youtube ä¼˜é…· æ–‡æ¡£ \bä»£ç  å‚è€ƒ Dart å®˜ç½‘ Flutter å®˜ç½‘ 2018 Google å¼€å‘è€…å¤§ä¼š bilibili Â© çŒ«å“¥ https://ducafecat.tech","tags":[{"name":"dart","slug":"dart","permalink":"https://ducafecat.tech/tags/dart/"}]}]